"use strict";var s9=Object.defineProperty,o9=Object.defineProperties,a9=Object.getOwnPropertyDescriptors,_j=Object.getOwnPropertySymbols,l9=Object.prototype.hasOwnProperty,c9=Object.prototype.propertyIsEnumerable,yj=(Ye,ge,R)=>ge in Ye?s9(Ye,ge,{enumerable:!0,configurable:!0,writable:!0,value:R}):Ye[ge]=R,vj=(Ye,ge)=>{for(var R in ge||(ge={}))l9.call(ge,R)&&yj(Ye,R,ge[R]);if(_j)for(var R of _j(ge))c9.call(ge,R)&&yj(Ye,R,ge[R]);return Ye},bj=(Ye,ge)=>o9(Ye,a9(ge));(self.webpackChunkangular_chat_app=self.webpackChunkangular_chat_app||[]).push([[179],{2011:(Ye,ge,R)=>{R.d(ge,{Dh:()=>ce,GT:()=>ye,cc:()=>Ne,on:()=>Se,pX:()=>oe,xv:()=>pe});var l=R(5e3),F=R(127);Ye=R.hmd(Ye);const P=["ngOnDestroy"],oe=(re,ve,qe,We={})=>new Proxy(re,{get:(Me,Te)=>qe.runOutsideAngular(()=>{var fe;if(re[Te])return(null===(fe=null==We?void 0:We.spy)||void 0===fe?void 0:fe.get)&&We.spy.get(Te,re[Te]),re[Te];if(P.indexOf(Te)>-1)return()=>{};const Pe=ve.toPromise().then(ee=>{const se=ee&&ee[Te];return"function"==typeof se?se.bind(ee):se&&se.then?se.then(me=>qe.run(()=>me)):qe.run(()=>se)});return new Proxy(()=>{},{get:(ee,se)=>Pe[se],apply:(ee,se,me)=>Pe.then(W=>{var X;const te=W&&W(...me);return(null===(X=null==We?void 0:We.spy)||void 0===X?void 0:X.apply)&&We.spy.apply(Te,me,te),te})})})}),ye=(re,ve)=>{ve.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(We=>{Object.defineProperty(re.prototype,We,Object.getOwnPropertyDescriptor(qe.prototype||qe,We))})})};class we{constructor(ve){return ve}}const ce=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function Se(re,ve,qe){const Me="object"==typeof qe&&qe||{};Me.name=Me.name||"string"==typeof qe&&qe||"[DEFAULT]";const fe=F.Z.apps.filter(Pe=>Pe&&Pe.name===Me.name)[0]||ve.runOutsideAngular(()=>F.Z.initializeApp(re,Me));try{JSON.stringify(re)!==JSON.stringify(fe.options)&&$("error",`${fe.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Pe){}return new we(fe)}const $=(re,...ve)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[re](...ve)};function Ne(re,ve,qe,We,Me){const[,Te,fe]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===re)||[];if(Te)return function xe(re,ve){try{return re.toString()===ve.toString()}catch(qe){return re===ve}}(Me,fe)||(Ge("error",`${ve} was already initialized on the ${qe} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:Me,was:fe})),Te;{const Pe=We();return globalThis.\u0275AngularfireInstanceCache.push([re,Pe,Me]),Pe}}const De=!!Ye.hot,Ge=(re,...ve)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[re](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},198:(Ye,ge,R)=>{R.d(ge,{$:()=>Go,A:()=>j,B:()=>xe,G:()=>tn,H:()=>Jt,J:()=>os,L:()=>Zt,M:()=>rd,N:()=>Wa,P:()=>Ed,Q:()=>oc,R:()=>Ap,T:()=>E_,U:()=>qa,V:()=>ac,W:()=>od,X:()=>sp,Y:()=>dc,Z:()=>as,_:()=>zo,a:()=>je,a0:()=>cp,a1:()=>up,a2:()=>D_,a3:()=>Nt,a4:()=>wn,a5:()=>Ja,a6:()=>hd,a7:()=>fd,a8:()=>hp,a9:()=>fc,aA:()=>Si,aB:()=>dl,aC:()=>Np,aD:()=>Sd,aE:()=>Oe,aI:()=>kr,aL:()=>Ci,aa:()=>fp,ab:()=>ls,ac:()=>pp,af:()=>pc,ag:()=>_d,ah:()=>iw,ak:()=>ld,al:()=>Ii,an:()=>yd,ao:()=>cw,ap:()=>kn,aq:()=>me,ar:()=>Rt,as:()=>nt,at:()=>We,au:()=>Or,av:()=>Mc,aw:()=>Me,ax:()=>ee,ay:()=>X,az:()=>pt,b:()=>il,c:()=>kp,d:()=>Op,e:()=>N_,f:()=>fw,g:()=>xd,h:()=>pw,i:()=>vd,j:()=>F_,k:()=>Oc,l:()=>fo,m:()=>$_,n:()=>bw,o:()=>pe,q:()=>fn,r:()=>P_,s:()=>mn,u:()=>Tc,v:()=>sw});var l=R(5861),F=R(2090),P=R(9681),oe=R(655),ye=R(1877),we=R(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ye.Yd("@firebase/auth");function qe(w,...g){ve.logLevel<=ye.in.ERROR&&ve.error(`Auth (${P.SDK_VERSION}): ${w}`,...g)}function We(w,...g){throw Pe(w,...g)}function Me(w,...g){return Pe(w,...g)}function Te(w,g,_){const E=Object.assign(Object.assign({},De()),{[g]:_});return new F.LL("auth","Firebase",E).create(g,{appName:w.name})}function fe(w,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&We(w,"argument-error"),Te(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(w,...g){if("string"!=typeof w){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(_,...E)}return Ge.create(w,...g)}function ee(w,g,..._){if(!w)throw Pe(g,..._)}function se(w){const g="INTERNAL ASSERTION FAILED: "+w;throw qe(g),new Error(g)}function me(w,g){w||se(g)}const W=new Map;function X(w){me(w instanceof Function,"Expected a class definition");let g=W.get(w);return g?(me(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,W.set(w,g),g)}function ie(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ae(){return"http:"===ot()||"https:"===ot()}function ot(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Be{constructor(g,_){this.shortDelay=g,this.longDelay=_,me(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Vt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kt(w,g){me(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class ri{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gt=new Be(3e4,6e4);function At(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Ut(w,g,_,E){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(w,g,_,E,A={}){return zr(w,A,(0,l.Z)(function*(){let x={},J={};E&&("GET"===g?J=E:x={body:JSON.stringify(E)});const Ee=(0,F.xO)(Object.assign({key:w.config.apiKey},J)).slice(1),Ze=yield w._getAdditionalHeaders();return Ze["Content-Type"]="application/json",w.languageCode&&(Ze["X-Firebase-Locale"]=w.languageCode),ri.fetch()(dr(w,w.config.apiHost,_,Ee),Object.assign({method:g,headers:Ze,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function zr(w,g,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(w,g,_){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},yn),g);try{const A=new Ir(w),x=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const J=yield x.json();if("needConfirmation"in J)throw Xi(w,"account-exists-with-different-credential",J);if(x.ok&&!("errorMessage"in J))return J;{const Ee=x.ok?J.errorMessage:J.error.message,[Ze,st]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Xi(w,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ze)throw Xi(w,"email-already-in-use",J);const Dt=E[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Te(w,Dt,st);We(w,Dt)}}catch(A){if(A instanceof F.ZR)throw A;We(w,"network-request-failed")}})).apply(this,arguments)}function vn(w,g,_,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(w,g,_,E,A={}){const x=yield Ut(w,g,_,E,A);return"mfaPendingCredential"in x&&We(w,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function dr(w,g,_,E){const A=`${g}${_}?${E}`;return w.config.emulator?Kt(w.config,A):`${w.config.apiScheme}://${A}`}class Ir{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Me(this.auth,"network-request-failed")),Gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xi(w,g,_){const E={appName:w.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const A=Me(w,g,E);return A.customData._tokenResponse=_,A}function lt(){return(lt=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Dr(w,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qt(w,g){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function tr(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function bi(){return(bi=(0,l.Z)(function*(w,g=!1){const _=(0,F.m9)(w),E=yield _.getIdToken(g),A=xt(E);ee(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const x="object"==typeof A.firebase?A.firebase:void 0,J=null==x?void 0:x.sign_in_provider;return{claims:A,token:E,authTime:tr(xs(A.auth_time)),issuedAtTime:tr(xs(A.iat)),expirationTime:tr(xs(A.exp)),signInProvider:J||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function xs(w){return 1e3*Number(w)}function xt(w){const[g,_,E]=w.split(".");if(void 0===g||void 0===_||void 0===E)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(_);return A?JSON.parse(A):(qe("Failed to decode base64 JWT payload"),null)}catch(A){return qe("Caught error parsing JWT payload as JSON",A),null}}function Je(w,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(w,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof F.ZR&&Gr(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Gr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class kt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class is{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(w){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(w){var g;const _=w.auth,E=yield w.getIdToken(),A=yield Je(w,qt(_,{idToken:E}));ee(null==A?void 0:A.users.length,_,"internal-error");const x=A.users[0];w._notifyReloadListener(x);const J=(null===(g=x.providerUserInfo)||void 0===g?void 0:g.length)?ue(x.providerUserInfo):[],Ee=z(w.providerData,J),Dt=!!w.isAnonymous&&!(w.email&&x.passwordHash||(null==Ee?void 0:Ee.length)),rn={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:Ee,metadata:new is(x.createdAt,x.lastLoginAt),isAnonymous:Dt};Object.assign(w,rn)})).apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(w){const g=(0,F.m9)(w);yield Tn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function z(w,g){return[...w.filter(E=>!g.some(A=>A.providerId===E.providerId)),...g]}function ue(w){return w.map(g=>{var{providerId:_}=g,E=(0,oe._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function K(){return(K=(0,l.Z)(function*(w,g){const _=yield zr(w,{},(0,l.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:x}=w.config,J=dr(w,A,"/v1/token",`key=${x}`),Ee=yield w._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",ri.fetch()(J,{method:"POST",headers:Ee,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(void 0!==g.idToken,"internal-error"),ee(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function rt(w){const g=xt(w);return ee(g,"internal-error"),ee(void 0!==g.exp,"internal-error"),ee(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,l.Z)(function*(){return ee(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:x,expiresIn:J}=yield function V(w,g){return K.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(A,x,Number(J))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:A,expirationTime:x}=_,J=new Ie;return E&&(ee("string"==typeof E,"internal-error",{appName:g}),J.refreshToken=E),A&&(ee("string"==typeof A,"internal-error",{appName:g}),J.accessToken=A),x&&(ee("number"==typeof x,"internal-error",{appName:g}),J.expirationTime=x),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return se("not implemented")}}function $e(w,g){ee("string"==typeof w||void 0===w,"internal-error",{appName:g})}class at{constructor(g){var{uid:_,auth:E,stsTokenManager:A}=g,x=(0,oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new is(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const E=yield Je(_,_.stsTokenManager.getToken(_.auth,g));return ee(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function bn(w){return bi.apply(this,arguments)}(this,g)}reload(){return function L(w){return U.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new at(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,l.Z)(function*(){let A=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),A=!0),_&&(yield Tn(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Je(g,function Ms(w,g){return lt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,A,x,J,Ee,Ze,st,Dt;const rn=null!==(E=_.displayName)&&void 0!==E?E:void 0,yr=null!==(A=_.email)&&void 0!==A?A:void 0,ci=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,vl=null!==(J=_.photoURL)&&void 0!==J?J:void 0,Ud=null!==(Ee=_.tenantId)&&void 0!==Ee?Ee:void 0,bl=null!==(Ze=_._redirectEventId)&&void 0!==Ze?Ze:void 0,Rc=null!==(st=_.createdAt)&&void 0!==st?st:void 0,Pc=null!==(Dt=_.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:wl,emailVerified:Hp,isAnonymous:Cl,providerData:Vs,stsTokenManager:jd}=_;ee(wl&&jd,g,"internal-error");const Bn=Ie.fromJSON(this.name,jd);ee("string"==typeof wl,g,"internal-error"),$e(rn,g.name),$e(yr,g.name),ee("boolean"==typeof Hp,g,"internal-error"),ee("boolean"==typeof Cl,g,"internal-error"),$e(ci,g.name),$e(vl,g.name),$e(Ud,g.name),$e(bl,g.name),$e(Rc,g.name),$e(Pc,g.name);const Hd=new at({uid:wl,auth:g,email:yr,emailVerified:Hp,displayName:rn,isAnonymous:Cl,photoURL:vl,phoneNumber:ci,tenantId:Ud,stsTokenManager:Bn,createdAt:Rc,lastLoginAt:Pc});return Vs&&Array.isArray(Vs)&&(Hd.providerData=Vs.map(gn=>Object.assign({},gn))),bl&&(Hd._redirectEventId=bl),Hd}static _fromIdTokenResponse(g,_,E=!1){return(0,l.Z)(function*(){const A=new Ie;A.updateFromServerResponse(_);const x=new at({uid:_.localId,auth:g,stsTokenManager:A,isAnonymous:E});return yield Tn(x),x})()}}const Zt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,E){var A=this;return(0,l.Z)(function*(){A.storage[_]=E})()}_get(_){var E=this;return(0,l.Z)(function*(){const A=E.storage[_];return void 0===A?null:A})()}_remove(_){var E=this;return(0,l.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return w.type="NONE",w})();function pt(w,g,_){return`firebase:${w}:${g}:${_}`}class Nn{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:A,name:x}=this.auth;this.fullUserKey=pt(this.userKey,A.apiKey,x),this.fullPersistenceKey=pt("persistence",A.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?at._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Nn(X(Zt),g,E);const A=(yield Promise.all(_.map(function(){var st=(0,l.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return st.apply(this,arguments)}}()))).filter(st=>st);let x=A[0]||X(Zt);const J=pt(E,g.config.apiKey,g.name);let Ee=null;for(const st of _)try{const Dt=yield st._get(J);if(Dt){const rn=at._fromJSON(g,Dt);st!==x&&(Ee=rn),x=st;break}}catch(Dt){}const Ze=A.filter(st=>st._shouldAllowMigration);return x._shouldAllowMigration&&Ze.length?(x=Ze[0],Ee&&(yield x._set(J,Ee.toJSON())),yield Promise.all(_.map(function(){var st=(0,l.Z)(function*(Dt){if(Dt!==x)try{yield Dt._remove(J)}catch(rn){}});return function(Dt){return st.apply(this,arguments)}}())),new Nn(x,g,E)):new Nn(x,g,E)})()}}function ne(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ve(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(G(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Tt(g))return"Blackberry";if(Ot(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||_e(g))&&!g.includes("edge/"))return"Chrome";if(nt(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function G(w=(0,F.z$)()){return/firefox\//i.test(w)}function H(w=(0,F.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function _e(w=(0,F.z$)()){return/crios\//i.test(w)}function Ve(w=(0,F.z$)()){return/iemobile/i.test(w)}function nt(w=(0,F.z$)()){return/android/i.test(w)}function Tt(w=(0,F.z$)()){return/blackberry/i.test(w)}function Ot(w=(0,F.z$)()){return/webos/i.test(w)}function Rt(w=(0,F.z$)()){return/iphone|ipad|ipod/i.test(w)}function kn(w=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function si(w=(0,F.z$)()){return Rt(w)||nt(w)||Ot(w)||Tt(w)||/windows phone/i.test(w)||Ve(w)}function Zn(w,g=[]){let _;switch(w){case"Browser":_=ne((0,F.z$)());break;case"Worker":_=`${ne((0,F.z$)())}-${w}`;break;default:_=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${E}`}class td{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=x=>new Promise((J,Ee)=>{try{J(g(x))}catch(Ze){Ee(Ze)}});E.onAbort=_,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===g)return;const E=[];try{for(const A of _.queue)yield A(g),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const x of E)try{x()}catch(J){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class pr{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new It(this),this.idTokenSubscription=new It(this),this.beforeStateQueue=new td(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=X(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,x;if(!E._deleted&&(E.persistenceManager=yield Nn.create(E,g),!E._deleted)){if(null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(J){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var E;const A=yield _.assertedPersistence.getCurrentUser();let x=A,J=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ee=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,Ze=null==x?void 0:x._redirectEventId,st=yield _.tryRedirectSignIn(g);(!Ee||Ee===Ze)&&(null==st?void 0:st.user)&&(x=st.user,J=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(x)}catch(Ee){x=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ee))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(A){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Tn(g)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ft(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const E=g?(0,F.m9)(g):null;return E&&ee(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return g&&ee(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(X(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new F.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,l.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(_);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&X(g)||_._popupRedirectResolver;ee(E,_,"argument-error"),_.redirectPersistenceManager=yield Nn.create(_,[X(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var E,A;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,A){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(J,this,"internal-error"),J.then(()=>x(this.currentUser)),"function"==typeof _?g.addObserver(_,E,A):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function Oe(w){return(0,F.m9)(w)}class It{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(w,g,_){const E=Oe(w);ee(E._canInitEmulator,E,"emulator-config-failed"),ee(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const A=!!(null==_?void 0:_.disableWarnings),x=Bi(g),{host:J,port:Ee}=function eo(w){const g=Bi(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const x=A[1];return{host:x,port:Fn(E.substr(x.length+1))}}{const[x,J]=E.split(":");return{host:x,port:Fn(J)}}}(g);E.config.emulator={url:`${x}//${J}${null===Ee?"":`:${Ee}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:J,port:Ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function rs(){function w(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Bi(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Fn(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Jt{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return se("not implemented")}_getIdTokenResponse(g){return se("not implemented")}_linkToIdToken(g,_){return se("not implemented")}_getReauthenticationResolver(g){return se("not implemented")}}function to(w,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:resetPassword",At(w,g))})).apply(this,arguments)}function Ct(w,g){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ar(w,g){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:update",At(w,g))})).apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithPassword",At(w,g))})).apply(this,arguments)}function ss(w,g){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:sendOobCode",At(w,g))})).apply(this,arguments)}function hn(w,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(w,g){return ss(w,g)})).apply(this,arguments)}function Kf(w,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(w,g){return ss(w,g)})).apply(this,arguments)}function Vi(w,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(w,g){return ss(w,g)})).apply(this,arguments)}function nd(w,g){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(w,g){return ss(w,g)})).apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithEmailLink",At(w,g))})).apply(this,arguments)}function Qf(){return(Qf=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithEmailLink",At(w,g))})).apply(this,arguments)}class sc extends Jt{constructor(g,_,E,A=null){super("password",E),this._email=g,this._password=_,this._tenantId=A}static _fromEmailAndPassword(g,_){return new sc(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new sc(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function jo(w,g){return On.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function za(w,g){return nr.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:We(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return Ct(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function id(w,g){return Qf.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:We(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ln(w,g){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithIdp",At(w,g))})).apply(this,arguments)}class os extends Jt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new os(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):We("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:A}=_,x=(0,oe._T)(_,["providerId","signInMethod"]);if(!E||!A)return null;const J=new os(E,A);return J.idToken=x.idToken||void 0,J.accessToken=x.accessToken||void 0,J.secret=x.secret,J.nonce=x.nonce,J.pendingToken=x.pendingToken||null,J}_getIdTokenResponse(g){return Ln(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Ln(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ln(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,F.xO)(_)}return g}}function Q0(w,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:sendVerificationCode",At(w,g))})).apply(this,arguments)}function Xf(){return(Xf=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithPhoneNumber",At(w,g))})).apply(this,arguments)}function ep(){return(ep=(0,l.Z)(function*(w,g){const _=yield vn(w,"POST","/v1/accounts:signInWithPhoneNumber",At(w,g));if(_.temporaryProof)throw Xi(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ew={USER_NOT_FOUND:"user-not-found"};function np(){return(np=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithPhoneNumber",At(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ew)})).apply(this,arguments)}class Ho extends Jt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ho({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ho({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function J0(w,g){return Xf.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function X0(w,g){return ep.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function tp(w,g){return np.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:A}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:A,temporaryProof:x}=g;return E||_||A||x?new Ho({verificationId:_,verificationCode:E,phoneNumber:A,temporaryProof:x}):null}}class ro{constructor(g){var _,E,A,x,J,Ee;const Ze=(0,F.zd)((0,F.pd)(g)),st=null!==(_=Ze.apiKey)&&void 0!==_?_:null,Dt=null!==(E=Ze.oobCode)&&void 0!==E?E:null,rn=function tw(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ze.mode)&&void 0!==A?A:null);ee(st&&Dt&&rn,"argument-error"),this.apiKey=st,this.operation=rn,this.code=Dt,this.continueUrl=null!==(x=Ze.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(J=Ze.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ee=Ze.tenantId)&&void 0!==Ee?Ee:null}static parseLink(g){const _=function ip(w){const g=(0,F.zd)((0,F.pd)(w)).link,_=g?(0,F.zd)((0,F.pd)(g)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(w)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||_||g||w}(g);try{return new ro(_)}catch(E){return null}}}let rd=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,E){return sc._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const A=ro.parseLink(E);return ee(A,"argument-error"),sc._fromEmailAndCode(_,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Os{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class mr extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class qa extends mr{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ee("providerId"in _&&"signInMethod"in _,"argument-error"),os._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return qa.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return qa.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:x,nonce:J,providerId:Ee}=g;if(!E&&!A&&!_&&!x||!Ee)return null;try{return new qa(Ee)._credential({idToken:_,accessToken:E,nonce:J,pendingToken:x})}catch(Ze){return null}}}let Wa=(()=>{class w extends mr{constructor(){super("facebook.com")}static credential(_){return os._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch(E){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),oc=(()=>{class w extends mr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return os._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:A}=_;if(!E&&!A)return null;try{return w.credential(E,A)}catch(x){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),E_=(()=>{class w extends mr{constructor(){super("github.com")}static credential(_){return os._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch(E){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ci extends Jt{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Ln(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Ln(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ln(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:A,pendingToken:x}=_;return E&&A&&x&&E===A?new Ci(E,x):null}static _create(g,_){return new Ci(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ac extends Os{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ac.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ac.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ci.fromJSON(g);return ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Ci._create(E,_)}catch(A){return null}}}let od=(()=>{class w extends mr{constructor(){super("twitter.com")}static credential(_,E){return os._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=_;if(!E||!A)return null;try{return w.credential(E,A)}catch(x){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function rp(w,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signUp",At(w,g))})).apply(this,arguments)}class oi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,A=!1){return(0,l.Z)(function*(){const x=yield at._fromIdTokenResponse(g,E,A),J=T_(E);return new oi({user:x,providerId:J,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const A=T_(E);return new oi({user:g,providerId:A,_tokenResponse:E,operationType:_})})()}}function T_(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function sp(w){return op.apply(this,arguments)}function op(){return(op=(0,l.Z)(function*(w){var g;const _=Oe(w);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new oi({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield rp(_,{returnSecureToken:!0}),A=yield oi._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class lc extends F.ZR{constructor(g,_,E,A){var x;super(_.code,_.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,A){return new lc(g,_,E,A)}}function cc(w,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?lc._fromErrorAndOperation(w,x,g,E):x})}function ad(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function ld(w,g){return I_.apply(this,arguments)}function I_(){return(I_=(0,l.Z)(function*(w,g){const _=(0,F.m9)(w);yield $o(!0,_,g);const{providerUserInfo:E}=yield Dr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),A=ad(E||[]);return _.providerData=_.providerData.filter(x=>A.has(x.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function an(w,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(w,g,_=!1){const E=yield Je(w,g._linkToIdToken(w.auth,yield w.getIdToken()),_);return oi._forOperation(w,"link",E)})).apply(this,arguments)}function $o(w,g,_){return nn.apply(this,arguments)}function nn(){return(nn=(0,l.Z)(function*(w,g,_){yield Tn(g);const A=!1===w?"provider-already-linked":"no-such-provider";ee(ad(g.providerData).has(_)===w,g.auth,A)})).apply(this,arguments)}function ap(w,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(w,g,_=!1){const{auth:E}=w,A="reauthenticate";try{const x=yield Je(w,cc(E,A,g,w),_);ee(x.idToken,E,"internal-error");const J=xt(x.idToken);ee(J,E,"internal-error");const{sub:Ee}=J;return ee(w.uid===Ee,E,"user-mismatch"),oi._forOperation(w,A,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&We(E,"user-mismatch"),x}})).apply(this,arguments)}function Ya(w,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(w,g,_=!1){const E="signIn",A=yield cc(w,E,g),x=yield oi._fromIdTokenResponse(w,E,A);return _||(yield w._updateCurrentUser(x.user)),x})).apply(this,arguments)}function dc(w,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(w,g){return Ya(Oe(w),g)})).apply(this,arguments)}function as(w,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(w,g){const _=(0,F.m9)(w);return yield $o(!1,_,g.providerId),an(_,g)})).apply(this,arguments)}function zo(w,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(w,g){return ap((0,F.m9)(w),g)})).apply(this,arguments)}function lp(w,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithCustomToken",At(w,g))})).apply(this,arguments)}function Go(w,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(w,g){const _=Oe(w),E=yield lp(_,{token:g,returnSecureToken:!0}),A=yield oi._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class ut{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?hc._fromServerResponse(g,_):We(g,"internal-error")}}class hc extends ut{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new hc(_)}}function Qa(w,g,_){var E;ee((null===(E=_.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),ee(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ee(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ee(_.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function cp(w,g,_){return cd.apply(this,arguments)}function cd(){return(cd=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w),A={requestType:"PASSWORD_RESET",email:g};_&&Qa(E,A,_),yield Kf(E,A)})).apply(this,arguments)}function up(w,g,_){return ud.apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(w,g,_){yield to((0,F.m9)(w),{oobCode:g,newPassword:_})})).apply(this,arguments)}function D_(w,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(w,g){yield Ar((0,F.m9)(w),{oobCode:g})})).apply(this,arguments)}function Nt(w,g){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(w,g){const _=(0,F.m9)(w),E=yield to(_,{oobCode:g}),A=E.requestType;switch(ee(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(E.mfaInfo,_,"internal-error");default:ee(E.email,_,"internal-error")}let x=null;return E.mfaInfo&&(x=ut._fromServerResponse(Oe(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:A}})).apply(this,arguments)}function wn(w,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(w,g){const{data:_}=yield Nt((0,F.m9)(w),g);return _.email})).apply(this,arguments)}function Ja(w,g,_){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(w,g,_){const E=Oe(w),A=yield rp(E,{returnSecureToken:!0,email:g,password:_}),x=yield oi._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}function hd(w,g,_){return dc((0,F.m9)(w),rd.credential(g,_))}function fd(w,g,_){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w),A={requestType:"EMAIL_SIGNIN",email:g};ee(_.handleCodeInApp,E,"argument-error"),_&&Qa(E,A,_),yield Vi(E,A)})).apply(this,arguments)}function hp(w,g){const _=ro.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function fc(w,g,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w),A=rd.credentialWithLink(g,_||ie());return ee(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),dc(E,A)})).apply(this,arguments)}function ai(w,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:createAuthUri",At(w,g))})).apply(this,arguments)}function fp(w,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(w,g){const E={identifier:g,continueUri:Ae()?ie():"http://localhost"},{signinMethods:A}=yield ai((0,F.m9)(w),E);return A||[]})).apply(this,arguments)}function ls(w,g){return pd.apply(this,arguments)}function pd(){return(pd=(0,l.Z)(function*(w,g){const _=(0,F.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Qa(_.auth,A,g);const{email:x}=yield hn(_.auth,A);x!==w.email&&(yield w.reload())})).apply(this,arguments)}function pp(w,g,_){return md.apply(this,arguments)}function md(){return(md=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};_&&Qa(E.auth,x,_);const{email:J}=yield nd(E.auth,x);J!==w.email&&(yield w.reload())})).apply(this,arguments)}function S_(w,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(w,g){return Ut(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pc(w,g){return gd.apply(this,arguments)}function gd(){return(gd=(0,l.Z)(function*(w,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,F.m9)(w),x={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},J=yield Je(E,S_(E.auth,x));E.displayName=J.displayName||null,E.photoURL=J.photoUrl||null;const Ee=E.providerData.find(({providerId:Ze})=>"password"===Ze);Ee&&(Ee.displayName=E.displayName,Ee.photoURL=E.photoURL),yield E._updateTokensIfNecessary(J)})).apply(this,arguments)}function _d(w,g){return mp((0,F.m9)(w),g,null)}function iw(w,g){return mp((0,F.m9)(w),null,g)}function mp(w,g,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(w,g,_){const{auth:E}=w,x={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(x.email=g),_&&(x.password=_);const J=yield Je(w,Ct(E,x));yield w._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class so{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class _p extends so{constructor(g,_,E,A){super(g,_,E),this.username=A}}class A_ extends so{constructor(g,_){super(g,"facebook.com",_)}}class el extends _p{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ns extends so{constructor(g,_){super(g,"google.com",_)}}class M_ extends _p{constructor(g,_,E){super(g,"twitter.com",_,E)}}function Ii(w){const{user:g,_tokenResponse:_}=w;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function gp(w){var g,_;if(!w)return null;const{providerId:E}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},x=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&(null==w?void 0:w.idToken)){const J=null===(_=null===(g=xt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new so(x,"anonymous"!==J&&"custom"!==J?J:null)}if(!E)return null;switch(E){case"facebook.com":return new A_(x,A);case"github.com":return new el(x,A);case"google.com":return new Ns(x,A);case"twitter.com":return new M_(x,A,w.screenName||null);case"custom":case"anonymous":return new so(x,null);default:return new so(x,E,A)}}(_)}function fn(w,g,_,E){return(0,F.m9)(w).onIdTokenChanged(g,_,E)}function sw(w,g,_,E){return(0,F.m9)(w).onAuthStateChanged(g,_,E)}class us{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new us("enroll",g)}static _fromMfaPendingCredential(g){return new us("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return us._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return us._fromIdtoken(g.multiFactorSession.idToken)}return null}}class nl{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=Oe(g),A=_.customData._serverResponse,x=(A.mfaInfo||[]).map(Ee=>ut._fromServerResponse(E,Ee));ee(A.mfaPendingCredential,E,"internal-error");const J=us._fromMfaPendingCredential(A.mfaPendingCredential);return new nl(J,x,function(){var Ee=(0,l.Z)(function*(Ze){const st=yield Ze._process(E,J);delete A.mfaInfo,delete A.mfaPendingCredential;const Dt=Object.assign(Object.assign({},A),{idToken:st.idToken,refreshToken:st.refreshToken});switch(_.operationType){case"signIn":const rn=yield oi._fromIdTokenResponse(E,_.operationType,Dt);return yield E._updateCurrentUser(rn.user),rn;case"reauthenticate":return ee(_.user,E,"internal-error"),oi._forOperation(_.user,_.operationType,Dt);default:We(E,"internal-error")}});return function(Ze){return Ee.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function yd(w,g){var _;const E=(0,F.m9)(w),A=g;return ee(g.customData.operationType,E,"argument-error"),ee(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),nl._fromError(E,A)}function x_(w,g){return Ut(w,"POST","/v2/accounts/mfaEnrollment:start",At(w,g))}class Ko{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>ut._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Ko(g)}getSession(){var g=this;return(0,l.Z)(function*(){return us._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var E=this;return(0,l.Z)(function*(){const A=g,x=yield E.getSession(),J=yield Je(E.user,A._process(E.user.auth,x,_));return yield E.user._updateTokensIfNecessary(J),E.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const E="string"==typeof g?g:g.uid,A=yield _.user.getIdToken(),x=yield Je(_.user,function oo(w,g){return Ut(w,"POST","/v2/accounts/mfaEnrollment:withdraw",At(w,g))}(_.user.auth,{idToken:A,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==E),yield _.user._updateTokensIfNecessary(x);try{yield _.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const yp=new WeakMap;function cw(w){const g=(0,F.m9)(w);return yp.has(g)||yp.set(g,Ko._fromUser(g)),yp.get(g)}const qr="__sak";class mc{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(qr,"1"),this.storage.removeItem(qr),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class w extends mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vp(){const w=(0,F.z$)();return H(w)||Rt(w)}()&&function Sr(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=si(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),x=this.localCache[E];A!==x&&_(E,x,A)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Ee,Ze,st)=>{this.notifyListeners(Ee,st)});const A=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(A);if(_.newValue!==Ee)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!E)return}const x=()=>{const Ee=this.storage.getItem(A);!E&&this.localCache[A]===Ee||this.notifyListeners(A,Ee)},J=this.storage.getItem(A);!function Pt(){return(0,F.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,E){this.localCache[_]=E;const A=this.listeners[_];if(A)for(const x of Array.from(A))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var A=()=>super._set,x=this;return(0,l.Z)(function*(){yield A().call(x,_,E),x.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,A=this;return(0,l.Z)(function*(){const x=yield E().call(A,_);return A.localCache[_]=JSON.stringify(x),x})()}_remove(_){var E=()=>super._remove,A=this;return(0,l.Z)(function*(){yield E().call(A,_),delete A.localCache[_]})()}}return w.type="LOCAL",w})(),je=(()=>{class w extends mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return w.type="SESSION",w})();let gr=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(x=>x.isListeningto(_));if(E)return E;const A=new w(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,l.Z)(function*(){const A=_,{eventId:x,eventType:J,data:Ee}=A.data,Ze=E.handlersMap[J];if(!(null==Ze?void 0:Ze.size))return;A.ports[0].postMessage({status:"ack",eventId:x,eventType:J});const st=Array.from(Ze).map(function(){var rn=(0,l.Z)(function*(yr){return yr(A.origin,Ee)});return function(yr){return rn.apply(this,arguments)}}()),Dt=yield function Di(w){return Promise.all(w.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(st);A.ports[0].postMessage({status:"done",eventId:x,eventType:J,response:Dt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function kr(w="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return w+_}class ao{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var A=this;return(0,l.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let J,Ee;return new Promise((Ze,st)=>{const Dt=kr("",20);x.port1.start();const rn=setTimeout(()=>{st(new Error("unsupported_event"))},E);Ee={messageChannel:x,onMessage(yr){const ci=yr;if(ci.data.eventId===Dt)switch(ci.data.status){case"ack":clearTimeout(rn),J=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ze(ci.data.response);break;default:clearTimeout(rn),clearTimeout(J),st(new Error("invalid_response"))}}},A.handlers.add(Ee),x.port1.addEventListener("message",Ee.onMessage),A.target.postMessage({eventType:g,eventId:Dt,data:_},[x.port2])}).finally(()=>{Ee&&A.removeMessageHandler(Ee)})})()}}function In(){return window}function Qo(){return void 0!==In().WorkerGlobalScope&&"function"==typeof In().importScripts}function bp(){return(bp=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Ep="firebaseLocalStorageDb",li="firebaseLocalStorage",sl="fbase_key";class ds{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Fs(w,g){return w.transaction([li],g?"readwrite":"readonly").objectStore(li)}function ol(){const w=indexedDB.open(Ep,1);return new Promise((g,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(li,{keyPath:sl})}catch(A){_(A)}}),w.addEventListener("success",(0,l.Z)(function*(){const E=w.result;E.objectStoreNames.contains(li)?g(E):(E.close(),yield function Jo(){const w=indexedDB.deleteDatabase(Ep);return new ds(w).toPromise()}(),g(yield ol()))}))})}function gc(w,g,_){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(w,g,_){const E=Fs(w,!0).put({[sl]:g,value:_});return new ds(E).toPromise()})).apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(w,g){const _=Fs(w,!1).get(g),E=yield new ds(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Tp(w,g){const _=Fs(w,!0).delete(g);return new ds(_).toPromise()}const vd=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ol()),_.db})()}_withRetries(_){var E=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const x=yield E._openDb();return yield _(x)}catch(x){if(A++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Qo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=gr._getInstance(function Cp(){return Qo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(A,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(A,x){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(A,x){return["keyChanged"]});return function(A,x){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var E,A;if(_.activeServiceWorker=yield function rl(){return bp.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ao(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);!x||(null===(E=x[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=x[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function wp(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ol();return yield gc(_,qr,"1"),yield Tp(_,qr),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(x=>gc(x,_,E)),A.localCache[_]=E,A.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,l.Z)(function*(){const A=yield E._withRetries(x=>function _c(w,g){return Xo.apply(this,arguments)}(x,_));return E.localCache[_]=A,A})()}_remove(_){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(A=>Tp(A,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const E=yield _._withRetries(J=>{const Ee=Fs(J,!1).getAll();return new ds(Ee).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const A=[],x=new Set;for(const{fbase_key:J,value:Ee}of E)x.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(Ee)&&(_.notifyListeners(J,Ee),A.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!x.has(J)&&(_.notifyListeners(J,null),A.push(J));return A})()}notifyListeners(_,E){this.localCache[_]=E;const A=this.listeners[_];if(A)for(const x of Array.from(A))x(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ip(w,g){return Ut(w,"POST","/v2/accounts/mfaSignIn:start",At(w,g))}function vc(){return(vc=(0,l.Z)(function*(w){return(yield Ut(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hs(w){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=A=>{const x=Me("internal-error");x.customData=A,_(x)},E.type="text/javascript",E.charset="UTF-8",function bd(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function _r(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ll=1e12;class bc{constructor(g){this.auth=g,this.counter=ll,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new na(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||ll;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ll))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var E;return null===(E=_._widgets.get(g||ll))||void 0===E||E.execute(),""})()}}class na{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;ee(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ia(w){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wc=_r("rcb"),pn=new Be(3e4,6e4);class dw{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!In().grecaptcha}load(g,_=""){return ee(function ra(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(In().grecaptcha):new Promise((E,A)=>{const x=In().setTimeout(()=>{A(Me(g,"network-request-failed"))},pn.get());In()[wc]=()=>{In().clearTimeout(x),delete In()[wc];const Ee=In().grecaptcha;if(!Ee)return void A(Me(g,"internal-error"));const Ze=Ee.render;Ee.render=(st,Dt)=>{const rn=Ze(st,Dt);return this.counter++,rn},this.hostLanguage=_,E(Ee)},hs(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:wc,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),A(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!In().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sp{load(g){return(0,l.Z)(function*(){return new bc(g)})()}clearedOneInstance(){}}const wd="recaptcha",Cd={theme:"light",type:"image"};class Ap{constructor(g,_=Object.assign({},Cd),E){this.parameters=_,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(E),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;ee(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sp:new dw,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(x=>{const J=Ee=>{!Ee||(g.tokenChangeListeners.delete(J),x(Ee))};g.tokenChangeListeners.add(J),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=In()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){ee(Ae()&&!Qo(),g.auth,"internal-error"),yield function uo(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Ls(w){return vc.apply(this,arguments)}(g.auth);ee(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cc{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ho._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function mn(w,g,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(w,g,_){const E=Oe(w),A=yield rr(E,g,(0,F.m9)(_));return new Cc(A,x=>dc(E,x))})).apply(this,arguments)}function fo(w,g,_){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w);yield $o(!1,E,"phone");const A=yield rr(E.auth,g,(0,F.m9)(_));return new Cc(A,x=>as(E,x))})).apply(this,arguments)}function P_(w,g,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w),A=yield rr(E.auth,g,(0,F.m9)(_));return new Cc(A,x=>zo(E,x))})).apply(this,arguments)}function rr(w,g,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(w,g,_){var E;const A=yield _.verify();try{let x;if(ee("string"==typeof A,w,"argument-error"),ee(_.type===wd,w,"argument-error"),x="string"==typeof g?{phoneNumber:g}:g,"session"in x){const J=x.session;if("phoneNumber"in x)return ee("enroll"===J.type,w,"internal-error"),(yield x_(w,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ee("signin"===J.type,w,"internal-error");const Ee=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return ee(Ee,w,"missing-multi-factor-info"),(yield Ip(w,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Q0(w,{phoneNumber:x.phoneNumber,recaptchaToken:A});return J}}finally{_._reset()}})).apply(this,arguments)}function Tc(w,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(w,g){yield an((0,F.m9)(w),g)})).apply(this,arguments)}let Ed=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Oe(_)}verifyPhoneNumber(_,E){return rr(this.auth,_,(0,F.m9)(E))}static credential(_,E){return Ho._fromVerification(_,E)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:A}=_;return E&&A?Ho._fromTokenResponse(E,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Bs(w,g){return g?X(g):(ee(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Td extends Jt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ln(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Ln(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Ln(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function hw(w){return Ya(w.auth,new Td(w),w.bypassAuthState)}function Mp(w){const{auth:g,user:_}=w;return ee(_,g,"internal-error"),ap(_,new Td(w),w.bypassAuthState)}function xp(w){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(w){const{auth:g,user:_}=w;return ee(_,g,"internal-error"),an(_,new Td(w),w.bypassAuthState)})).apply(this,arguments)}class oa{constructor(g,_,E,A,x=!1){this.auth=g,this.resolver=E,this.user=A,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(E,A){g.pendingPromise={resolve:E,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(x){g.reject(x)}});return function(E,A){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:x,tenantId:J,error:Ee,type:Ze}=g;if(Ee)return void _.reject(Ee);const st={auth:_.auth,requestUri:E,sessionId:A,tenantId:J||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ze)(st))}catch(Dt){_.reject(Dt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return hw;case"linkViaPopup":case"linkViaRedirect":return xp;case"reauthViaPopup":case"reauthViaRedirect":return Mp;default:We(this.auth,"internal-error")}}resolve(g){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new Be(2e3,1e4);function kp(w,g,_){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(w,g,_){const E=Oe(w);fe(w,g,Os);const A=Bs(E,_);return new Dd(E,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function N_(w,g,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w);fe(E.auth,g,Os);const A=Bs(E.auth,_);return new Dd(E.auth,"reauthViaPopup",g,A,E).executeNotNull()})).apply(this,arguments)}function Op(w,g,_){return Id.apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w);fe(E.auth,g,Os);const A=Bs(E.auth,_);return new Dd(E.auth,"linkViaPopup",g,A,E).executeNotNull()})).apply(this,arguments)}let Dd=(()=>{class w extends oa{constructor(_,E,A,x,J){super(_,E,x,J),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const E=yield _.execute();return ee(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,l.Z)(function*(){me(1===_.filter.length,"Popup operations only handle one event");const E=kr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(Me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,aa.get())};_()}}return w.currentPopupAction=null,w})();const po=new Map;class Ic extends oa{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let E=po.get(_.auth._key());if(!E){try{const x=(yield function Pp(w,g){return mo.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(x)}catch(A){E=()=>Promise.reject(A)}po.set(_.auth._key(),E)}return _.bypassAuthState||po.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const A=yield E.auth._redirectUserForId(g.eventId);if(A)return E.user=A,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function mo(){return(mo=(0,l.Z)(function*(w,g){const _=Ad(g),E=Dc(w);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(_));return yield E._remove(_),A})).apply(this,arguments)}function go(w,g){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(w,g){return Dc(w)._set(Ad(g),"true")})).apply(this,arguments)}function Sd(){po.clear()}function Np(w,g){po.set(w._key(),g)}function Dc(w){return X(w._redirectPersistence)}function Ad(w){return pt("pendingRedirect",w.config.apiKey,w.name)}function fw(w,g,_){return function _o(w,g,_){return Md.apply(this,arguments)}(w,g,_)}function Md(){return(Md=(0,l.Z)(function*(w,g,_){const E=Oe(w);fe(w,g,Os);const A=Bs(E,_);return yield go(A,E),A._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function pw(w,g,_){return function Kn(w,g,_){return ca.apply(this,arguments)}(w,g,_)}function ca(){return(ca=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w);fe(E.auth,g,Os);const A=Bs(E.auth,_);yield go(A,E.auth);const x=yield ua(E);return A._openRedirect(E.auth,g,"reauthViaRedirect",x)})).apply(this,arguments)}function xd(w,g,_){return function kd(w,g,_){return yo.apply(this,arguments)}(w,g,_)}function yo(){return(yo=(0,l.Z)(function*(w,g,_){const E=(0,F.m9)(w);fe(E.auth,g,Os);const A=Bs(E.auth,_);yield $o(!1,E,g.providerId),yield go(A,E.auth);const x=yield ua(E);return A._openRedirect(E.auth,g,"linkViaRedirect",x)})).apply(this,arguments)}function F_(w,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,l.Z)(function*(w,g){return yield Oe(w)._initializationPromise,dl(w,g,!1)})).apply(this,arguments)}function dl(w,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(w,g,_=!1){const E=Oe(w),A=Bs(E,g),J=yield new Ic(E,A,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield E._persistUserIfCurrent(J.user),yield E._setRedirectUser(null,g)),J})).apply(this,arguments)}function ua(w){return hl.apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(w){const g=kr(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Si{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ac(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sc(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!Sc(g)){const A=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,A))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rd(g))}saveEventToCache(g){this.cachedEventUids.add(Rd(g)),this.lastProcessedEventTime=Date.now()}}function Rd(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Sc({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Mc(w){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,l.Z)(function*(w,g={}){return Ut(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pl=/^https?/;function gl(){return(gl=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Mc(w);for(const _ of g)try{if(mw(_))return}catch(E){}We(w,"unauthorized-domain")})).apply(this,arguments)}function mw(w){const g=ie(),{protocol:_,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const J=new URL(w);return""===J.hostname&&""===E?"chrome-extension:"===_&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===E}if(!pl.test(_))return!1;if(Nd.test(w))return E===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Fp=new Be(3e4,6e4);function xc(){const w=In().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let Fd=null;function gw(w){return Fd=Fd||function JD(w){return new Promise((g,_)=>{var E,A,x;function J(){xc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{xc(),_(Me(w,"network-request-failed"))},timeout:Fp.get()})}if(null===(A=null===(E=In().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(x=In().gapi)||void 0===x?void 0:x.load)){const Ee=_r("iframefcb");return In()[Ee]=()=>{gapi.load?J():_(Me(w,"network-request-failed"))},hs(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(Ze=>_(Ze))}J()}}).catch(g=>{throw Fd=null,g})}(w),Fd}const _w=new Be(5e3,15e3),da={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B_(w){const g=w.config;ee(g.authDomain,w,"auth-domain-config-required");const _=g.emulator?Kt(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:w.name,v:P.SDK_VERSION},A=L_.get(w.config.apiHost);A&&(E.eid=A);const x=w._getFrameworks();return x.length&&(E.fw=x.join(",")),`${_}?${(0,F.xO)(E).slice(1)}`}function ha(){return ha=(0,l.Z)(function*(w){const g=yield gw(w),_=In().gapi;return ee(_,w,"internal-error"),g.open({where:document.body,url:B_(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:da,dontclear:!0},E=>new Promise(function(){var A=(0,l.Z)(function*(x,J){yield E.restyle({setHideOnLeave:!1});const Ee=Me(w,"network-request-failed"),Ze=In().setTimeout(()=>{J(Ee)},_w.get());function st(){In().clearTimeout(Ze),x(E)}E.ping(st).then(st,()=>{J(Ee)})});return function(x,J){return A.apply(this,arguments)}}()))}),ha.apply(this,arguments)}const Ld={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _l{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Or(w,g,_,E,A,x){ee(w.config.authDomain,w,"auth-domain-config-required"),ee(w.config.apiKey,w,"invalid-api-key");const J={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:E,v:P.SDK_VERSION,eventId:A};if(g instanceof Os){g.setDefaultLanguage(w.languageCode),J.providerId=g.providerId||"",(0,F.xb)(g.getCustomParameters())||(J.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ze,st]of Object.entries(x||{}))J[Ze]=st}if(g instanceof mr){const Ze=g.getScopes().filter(st=>""!==st);Ze.length>0&&(J.scopes=Ze.join(","))}w.tenantId&&(J.tid=w.tenantId);const Ee=J;for(const Ze of Object.keys(Ee))void 0===Ee[Ze]&&delete Ee[Ze];return`${function fa({config:w}){return w.emulator?Kt(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,F.xO)(Ee).slice(1)}`}const kc="webStorageSupport",Oc=class vw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=je,this._completeRedirectFn=dl,this._overrideRedirectResult=Np}_openPopup(g,_,E,A){var x=this;return(0,l.Z)(function*(){var J;me(null===(J=x.eventManagers[g._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ee=Or(g,_,E,ie(),A);return function Co(w,g,_,E=500,A=600){const x=Math.max((window.screen.availHeight-A)/2,0).toString(),J=Math.max((window.screen.availWidth-E)/2,0).toString();let Ee="";const Ze=Object.assign(Object.assign({},Ld),{width:E.toString(),height:A.toString(),top:x,left:J}),st=(0,F.z$)().toLowerCase();_&&(Ee=_e(st)?"_blank":_),G(st)&&(g=g||"http://localhost",Ze.scrollbars="yes");const Dt=Object.entries(Ze).reduce((yr,[ci,vl])=>`${yr}${ci}=${vl},`,"");if(function Li(w=(0,F.z$)()){var g;return Rt(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(st)&&"_self"!==Ee)return function V_(w,g){const _=document.createElement("a");_.href=w,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",Ee),new _l(null);const rn=window.open(g||"",Ee,Dt);ee(rn,w,"popup-blocked");try{rn.focus()}catch(yr){}return new _l(rn)}(g,Ee,kr())})()}_openRedirect(g,_,E,A){var x=this;return(0,l.Z)(function*(){return yield x._originValidation(g),function lo(w){In().location.href=w}(Or(g,_,E,ie(),A)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:A,promise:x}=this.eventManagers[_];return A?Promise.resolve(A):(me(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const E=yield function yw(w){return ha.apply(this,arguments)}(g),A=new Si(g);return E.register("authEvent",x=>(ee(null==x?void 0:x.authEvent,g,"invalid-auth-event"),{status:A.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:A},_.iframes[g._key()]=E,A})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(kc,{type:kc},A=>{var x;const J=null===(x=null==A?void 0:A[0])||void 0===x?void 0:x[kc];void 0!==J&&_(!!J),We(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ml(w){return gl.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return si()||H()||Rt()}};class yl extends class H_{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new yl(g)}_finalizeEnroll(g,_,E){return function lw(w,g){return Ut(w,"POST","/v2/accounts/mfaEnrollment:finalize",At(w,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Dp(w,g){return Ut(w,"POST","/v2/accounts/mfaSignIn:finalize",At(w,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $_=(()=>{class w{constructor(){}static assertion(_){return yl._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Bd="@firebase/auth";class z_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var A;g((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bw(w=(0,P.getApp)()){const g=(0,P._getProvider)(w,"auth");return g.isInitialized()?g.getImmediate():function te(w,g){const _=(0,P._getProvider)(w,"auth");if(_.isInitialized()){const A=_.getImmediate(),x=_.getOptions();if((0,F.vZ)(x,null!=g?g:{}))return A;We(A,"already-initialized")}return _.initialize({options:g})}(w,{popupRedirectResolver:Oc,persistence:[vd,il,je]})}!function G_(w){(0,P._registerComponent)(new we.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:x,authDomain:J}=E.options;return((Ee,Ze)=>{ee(x&&!x.includes(":"),"invalid-api-key",{appName:Ee.name}),ee(!(null==J?void 0:J.includes(":")),"argument-error",{appName:Ee.name});const st={apiKey:x,authDomain:J,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zn(w)},Dt=new pr(Ee,Ze,st);return function le(w,g){const _=(null==g?void 0:g.persistence)||[],E=(Array.isArray(_)?_:[_]).map(X);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(Dt,_),Dt})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new we.wA("auth-internal",g=>{const _=Oe(g.getProvider("auth").getImmediate());return new z_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Bd,"0.20.1",function jp(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(Bd,"0.20.1","esm2017")}("Browser")},2090:(Ye,ge,R)=>{R.d(ge,{$s:()=>kt,BH:()=>Ne,G6:()=>ee,L:()=>pe,LL:()=>ie,Mn:()=>fe,Sg:()=>xe,UG:()=>re,US:()=>we,ZB:()=>j,ZR:()=>le,b$:()=>We,d:()=>Me,eu:()=>me,hl:()=>se,jU:()=>ve,m9:()=>Qt,ne:()=>Ms,pd:()=>Ir,r3:()=>At,ru:()=>qe,tV:()=>Se,uI:()=>Ge,vZ:()=>ts,w1:()=>Te,xO:()=>ns,xb:()=>un,z$:()=>De,zI:()=>W,zd:()=>dr});const oe=function(L){const U=[];let z=0;for(let ue=0;ue<L.length;ue++){let V=L.charCodeAt(ue);V<128?U[z++]=V:V<2048?(U[z++]=V>>6|192,U[z++]=63&V|128):55296==(64512&V)&&ue+1<L.length&&56320==(64512&L.charCodeAt(ue+1))?(V=65536+((1023&V)<<10)+(1023&L.charCodeAt(++ue)),U[z++]=V>>18|240,U[z++]=V>>12&63|128,U[z++]=V>>6&63|128,U[z++]=63&V|128):(U[z++]=V>>12|224,U[z++]=V>>6&63|128,U[z++]=63&V|128)}return U},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,U){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let V=0;V<L.length;V+=3){const K=L[V],Ie=V+1<L.length,$e=Ie?L[V+1]:0,at=V+2<L.length,Et=at?L[V+2]:0;let Nn=(15&$e)<<2|Et>>6,ne=63&Et;at||(ne=64,Ie||(Nn=64)),ue.push(z[K>>2],z[(3&K)<<4|$e>>4],z[Nn],z[ne])}return ue.join("")},encodeString(L,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(L):this.encodeByteArray(oe(L),U)},decodeString(L,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(L):function(L){const U=[];let z=0,ue=0;for(;z<L.length;){const V=L[z++];if(V<128)U[ue++]=String.fromCharCode(V);else if(V>191&&V<224){const K=L[z++];U[ue++]=String.fromCharCode((31&V)<<6|63&K)}else if(V>239&&V<365){const at=((7&V)<<18|(63&L[z++])<<12|(63&L[z++])<<6|63&L[z++])-65536;U[ue++]=String.fromCharCode(55296+(at>>10)),U[ue++]=String.fromCharCode(56320+(1023&at))}else{const K=L[z++],Ie=L[z++];U[ue++]=String.fromCharCode((15&V)<<12|(63&K)<<6|63&Ie)}}return U.join("")}(this.decodeStringToByteArray(L,U))},decodeStringToByteArray(L,U){this.init_();const z=U?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let V=0;V<L.length;){const K=z[L.charAt(V++)],$e=V<L.length?z[L.charAt(V)]:0;++V;const Et=V<L.length?z[L.charAt(V)]:64;++V;const pt=V<L.length?z[L.charAt(V)]:64;if(++V,null==K||null==$e||null==Et||null==pt)throw Error();ue.push(K<<2|$e>>4),64!==Et&&(ue.push($e<<4&240|Et>>2),64!==pt&&ue.push(Et<<6&192|pt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},pe=function(L){return function(L){const U=oe(L);return we.encodeByteArray(U,!0)}(L).replace(/\./g,"")},Se=function(L){try{return we.decodeString(L,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function j(L,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return U}for(const z in U)!U.hasOwnProperty(z)||!Y(z)||(L[z]=j(L[z],U[z]));return L}function Y(L){return"__proto__"!==L}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,z)=>{this.resolve=U,this.reject=z})}wrapCallback(U){return(z,ue)=>{z?this.reject(z):this.resolve(ue),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(z):U(z,ue))}}}function xe(L,U){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=U||"demo-project",V=L.iat||0,K=L.sub||L.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:V,exp:V+3600,auth_time:V,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},L);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ie)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function ve(){return"object"==typeof self&&self.self===self}function qe(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return De().indexOf("Electron/")>=0}function Te(){const L=De();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function fe(){return De().indexOf("MSAppHost/")>=0}function ee(){return!re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){return"object"==typeof indexedDB}function me(){return new Promise((L,U)=>{try{let z=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(ue);V.onsuccess=()=>{V.result.close(),z||self.indexedDB.deleteDatabase(ue),L(!0)},V.onupgradeneeded=()=>{z=!1},V.onerror=()=>{var K;U((null===(K=V.error)||void 0===K?void 0:K.message)||"")}}catch(z){U(z)}})}function W(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(U,z,ue){super(z),this.code=U,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ie.prototype.create)}}class ie{constructor(U,z,ue){this.service=U,this.serviceName=z,this.errors=ue}create(U,...z){const ue=z[0]||{},V=`${this.service}/${U}`,K=this.errors[U],Ie=K?function Ae(L,U){return L.replace(ot,(z,ue)=>{const V=U[ue];return null!=V?String(V):`<${ue}?>`})}(K,ue):"Error";return new le(V,`${this.serviceName}: ${Ie} (${V}).`,ue)}}const ot=/\{\$([^}]+)}/g;function At(L,U){return Object.prototype.hasOwnProperty.call(L,U)}function un(L){for(const U in L)if(Object.prototype.hasOwnProperty.call(L,U))return!1;return!0}function ts(L,U){if(L===U)return!0;const z=Object.keys(L),ue=Object.keys(U);for(const V of z){if(!ue.includes(V))return!1;const K=L[V],Ie=U[V];if(vn(K)&&vn(Ie)){if(!ts(K,Ie))return!1}else if(K!==Ie)return!1}for(const V of ue)if(!z.includes(V))return!1;return!0}function vn(L){return null!==L&&"object"==typeof L}function ns(L){const U=[];for(const[z,ue]of Object.entries(L))Array.isArray(ue)?ue.forEach(V=>{U.push(encodeURIComponent(z)+"="+encodeURIComponent(V))}):U.push(encodeURIComponent(z)+"="+encodeURIComponent(ue));return U.length?"&"+U.join("&"):""}function dr(L){const U={};return L.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[V,K]=ue.split("=");U[decodeURIComponent(V)]=decodeURIComponent(K)}}),U}function Ir(L){const U=L.indexOf("?");if(!U)return"";const z=L.indexOf("#",U);return L.substring(U,z>0?z:void 0)}function Ms(L,U){const z=new lt(L,U);return z.subscribe.bind(z)}class lt{constructor(U,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{U(this)}).catch(ue=>{this.error(ue)})}next(U){this.forEachObserver(z=>{z.next(U)})}error(U){this.forEachObserver(z=>{z.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,z,ue){let V;if(void 0===U&&void 0===z&&void 0===ue)throw new Error("Missing Observer.");V=function dn(L,U){if("object"!=typeof L||null===L)return!1;for(const z of U)if(z in L&&"function"==typeof L[z])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:z,complete:ue},void 0===V.next&&(V.next=qt),void 0===V.error&&(V.error=qt),void 0===V.complete&&(V.complete=qt);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(Ie){}}),this.observers.push(V),K}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,U)}sendOne(U,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{z(this.observers[U])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qt(){}function kt(L,U=1e3,z=2){const ue=U*Math.pow(z,L),V=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+V)}function Qt(L){return L&&L._delegate?L._delegate:L}},9976:(Ye,ge,R)=>{var l=R(5e3);let F=null;function P(){return F}const ce=new l.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(){return(0,l.LFG)(j)}()},providedIn:"platform"}),n})();const $=new l.OlP("Location Initialized");let j=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Y()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Y()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ne(){return new j((0,l.LFG)(ce))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(n){const e=(0,l.LFG)(ce).location;return new We((0,l.LFG)(pe),e&&e.origin||"")}()},providedIn:"root"}),n})();const qe=new l.OlP("appBaseHref");let We=(()=>{class n extends re{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+Ge(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+Ge(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(qe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends re{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=xe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+Ge(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+Ge(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(qe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=De(ee(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ge(i))}normalize(t){return n.stripTrailingSlash(function Pe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=xe,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(pe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fe(){return new Te((0,l.LFG)(re),(0,l.LFG)(pe))}()},providedIn:"root"}),n})();function ee(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Group=1]="Group",ie[ie.List=2]="List",ie[ie.PercentSign=3]="PercentSign",ie[ie.PlusSign=4]="PlusSign",ie[ie.MinusSign=5]="MinusSign",ie[ie.Exponential=6]="Exponential",ie[ie.SuperscriptingExponent=7]="SuperscriptingExponent",ie[ie.PerMille=8]="PerMille",ie[ie.Infinity=9]="Infinity",ie[ie.NaN=10]="NaN",ie[ie.TimeSeparator=11]="TimeSeparator",ie[ie.CurrencyDecimal=12]="CurrencyDecimal",ie[ie.CurrencyGroup=13]="CurrencyGroup",ie))();function Gt(n,e){return dn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function At(n,e){return dn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Ut(n,e){return dn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function un(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(void 0===i){if(e===ie.CurrencyDecimal)return t[l.wAp.NumberSymbols][ie.Decimal];if(e===ie.CurrencyGroup)return t[l.wAp.NumberSymbols][ie.Group]}return i}function Xi(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function qt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const bn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bi={},xs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),rt=(()=>((rt=rt||{})[rt.FullYear=0]="FullYear",rt[rt.Month=1]="Month",rt[rt.Date=2]="Date",rt[rt.Hours=3]="Hours",rt[rt.Minutes=4]="Minutes",rt[rt.Seconds=5]="Seconds",rt[rt.FractionalSeconds=6]="FractionalSeconds",rt[rt.Day=7]="Day",rt))(),Je=(()=>((Je=Je||{})[Je.DayPeriods=0]="DayPeriods",Je[Je.Days=1]="Days",Je[Je.Months=2]="Months",Je[Je.Eras=3]="Eras",Je))();function fr(n,e,t,i){let r=function _e(n){if(nt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return Gr(r,o-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(bn))return function Ve(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-i,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,u,h,m,v),e}(i)}const e=new Date(n);if(!nt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=kt(t,e)||e;let h,u=[];for(;e;){if(h=xs.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const T=u.pop();if(!T)break;e=T}}let m=r.getTimezoneOffset();i&&(m=ne(i,m),r=function H(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function G(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(ne(e,r)-r))}(r,i,!0));let v="";return u.forEach(T=>{const D=function Nn(n){if(pt[n])return pt[n];let e;switch(n){case"G":case"GG":case"GGG":e=z(Je.Eras,te.Abbreviated);break;case"GGGG":e=z(Je.Eras,te.Wide);break;case"GGGGG":e=z(Je.Eras,te.Narrow);break;case"y":e=L(rt.FullYear,1,0,!1,!0);break;case"yy":e=L(rt.FullYear,2,0,!0,!0);break;case"yyy":e=L(rt.FullYear,3,0,!1,!0);break;case"yyyy":e=L(rt.FullYear,4,0,!1,!0);break;case"Y":e=Zt(1);break;case"YY":e=Zt(2,!0);break;case"YYY":e=Zt(3);break;case"YYYY":e=Zt(4);break;case"M":case"L":e=L(rt.Month,1,1);break;case"MM":case"LL":e=L(rt.Month,2,1);break;case"MMM":e=z(Je.Months,te.Abbreviated);break;case"MMMM":e=z(Je.Months,te.Wide);break;case"MMMMM":e=z(Je.Months,te.Narrow);break;case"LLL":e=z(Je.Months,te.Abbreviated,X.Standalone);break;case"LLLL":e=z(Je.Months,te.Wide,X.Standalone);break;case"LLLLL":e=z(Je.Months,te.Narrow,X.Standalone);break;case"w":e=Et(1);break;case"ww":e=Et(2);break;case"W":e=Et(1,!0);break;case"d":e=L(rt.Date,1);break;case"dd":e=L(rt.Date,2);break;case"c":case"cc":e=L(rt.Day,1);break;case"ccc":e=z(Je.Days,te.Abbreviated,X.Standalone);break;case"cccc":e=z(Je.Days,te.Wide,X.Standalone);break;case"ccccc":e=z(Je.Days,te.Narrow,X.Standalone);break;case"cccccc":e=z(Je.Days,te.Short,X.Standalone);break;case"E":case"EE":case"EEE":e=z(Je.Days,te.Abbreviated);break;case"EEEE":e=z(Je.Days,te.Wide);break;case"EEEEE":e=z(Je.Days,te.Narrow);break;case"EEEEEE":e=z(Je.Days,te.Short);break;case"a":case"aa":case"aaa":e=z(Je.DayPeriods,te.Abbreviated);break;case"aaaa":e=z(Je.DayPeriods,te.Wide);break;case"aaaaa":e=z(Je.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":e=z(Je.DayPeriods,te.Abbreviated,X.Standalone,!0);break;case"bbbb":e=z(Je.DayPeriods,te.Wide,X.Standalone,!0);break;case"bbbbb":e=z(Je.DayPeriods,te.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":e=z(Je.DayPeriods,te.Abbreviated,X.Format,!0);break;case"BBBB":e=z(Je.DayPeriods,te.Wide,X.Format,!0);break;case"BBBBB":e=z(Je.DayPeriods,te.Narrow,X.Format,!0);break;case"h":e=L(rt.Hours,1,-12);break;case"hh":e=L(rt.Hours,2,-12);break;case"H":e=L(rt.Hours,1);break;case"HH":e=L(rt.Hours,2);break;case"m":e=L(rt.Minutes,1);break;case"mm":e=L(rt.Minutes,2);break;case"s":e=L(rt.Seconds,1);break;case"ss":e=L(rt.Seconds,2);break;case"S":e=L(rt.FractionalSeconds,1);break;case"SS":e=L(rt.FractionalSeconds,2);break;case"SSS":e=L(rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=V(xt.Short);break;case"ZZZZZ":e=V(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=V(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=V(xt.Long);break;default:return null}return pt[n]=e,e}(T);v+=D?D(r,t,m):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Gr(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function kt(n,e){const t=function ot(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(bi[t]=bi[t]||{},bi[t][e])return bi[t][e];let i="";switch(e){case"shortDate":i=Gt(n,le.Short);break;case"mediumDate":i=Gt(n,le.Medium);break;case"longDate":i=Gt(n,le.Long);break;case"fullDate":i=Gt(n,le.Full);break;case"shortTime":i=At(n,le.Short);break;case"mediumTime":i=At(n,le.Medium);break;case"longTime":i=At(n,le.Long);break;case"fullTime":i=At(n,le.Full);break;case"short":const r=kt(n,"shortTime"),o=kt(n,"shortDate");i=is(Ut(n,le.Short),[r,o]);break;case"medium":const u=kt(n,"mediumTime"),h=kt(n,"mediumDate");i=is(Ut(n,le.Medium),[u,h]);break;case"long":const m=kt(n,"longTime"),v=kt(n,"longDate");i=is(Ut(n,le.Long),[m,v]);break;case"full":const T=kt(n,"fullTime"),D=kt(n,"fullDate");i=is(Ut(n,le.Full),[T,D])}return i&&(bi[t][e]=i),i}function is(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Tn(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.substr(u.length-e)),o+u}function L(n,e,t=0,i=!1,r=!1){return function(o,u){let h=function U(n,e){switch(n){case rt.FullYear:return e.getFullYear();case rt.Month:return e.getMonth();case rt.Date:return e.getDate();case rt.Hours:return e.getHours();case rt.Minutes:return e.getMinutes();case rt.Seconds:return e.getSeconds();case rt.FractionalSeconds:return e.getMilliseconds();case rt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||h>-t)&&(h+=t),n===rt.Hours)0===h&&-12===t&&(h=12);else if(n===rt.FractionalSeconds)return function Qt(n,e){return Tn(n,3).substr(0,e)}(h,e);const m=un(u,ie.MinusSign);return Tn(h,e,m,i,r)}}function z(n,e,t=X.Format,i=!1){return function(r,o){return function ue(n,e,t,i,r,o){switch(t){case Je.Months:return function Be(n,e,t){const i=(0,l.cg1)(n),o=dn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return dn(o,t)}(e,r,i)[n.getMonth()];case Je.Days:return function Ft(n,e,t){const i=(0,l.cg1)(n),o=dn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return dn(o,t)}(e,r,i)[n.getDay()];case Je.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const v=function Ms(n){const e=(0,l.cg1)(n);return Xi(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?qt(i):[qt(i[0]),qt(i[1])])}(e),T=function lt(n,e,t){const i=(0,l.cg1)(n);Xi(i);const o=dn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return dn(o,t)||[]}(e,r,i),D=v.findIndex(M=>{if(Array.isArray(M)){const[k,N]=M,Q=u>=k.hours&&h>=k.minutes,he=u<N.hours||u===N.hours&&h<N.minutes;if(k.hours<N.hours){if(Q&&he)return!0}else if(Q||he)return!0}else if(M.hours===u&&M.minutes===h)return!0;return!1});if(-1!==D)return T[D]}return function Vt(n,e,t){const i=(0,l.cg1)(n),o=dn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return dn(o,t)}(e,r,i)[u<12?0:1];case Je.Eras:return function Kt(n,e){return dn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function V(n){return function(e,t,i){const r=-1*i,o=un(t,ie.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case xt.Short:return(r>=0?"+":"")+Tn(u,2,o)+Tn(Math.abs(r%60),2,o);case xt.ShortGMT:return"GMT"+(r>=0?"+":"")+Tn(u,1,o);case xt.Long:return"GMT"+(r>=0?"+":"")+Tn(u,2,o)+":"+Tn(Math.abs(r%60),2,o);case xt.Extended:return 0===i?"Z":(r>=0?"+":"")+Tn(u,2,o)+":"+Tn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function at(n){return Gr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Et(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+o)/7)}else{const o=at(t),u=function $e(n){const e=Gr(n,0,1).getDay();return Gr(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Tn(r,n,un(i,ie.MinusSign))}}function Zt(n,e=!1){return function(t,i){return Tn(at(t).getFullYear(),n,un(i,ie.MinusSign),e)}}const pt={};function ne(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function nt(n){return n instanceof Date&&!isNaN(n.valueOf())}function no(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}let Ar=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class jo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new jo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),ss(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ss(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ss(n,e){n.context.$implicit=e.item}let hn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Xt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Xt{constructor(){this.$implicit=null,this.ngIf=null}}function Kf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Ha{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Vi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),wi=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ha(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Vi,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),id=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function Ln(n,e){return new l.vHH(2100,"")}class Jf{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class K0{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const os=new K0,Q0=new Jf;let Ga=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return os;if((0,l.F4k)(t))return Q0;throw Ln()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})();const ew=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let tp=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,o){var u;if(null==t||""===t||t!=t)return null;try{return fr(t,i,o||this.locale,null!==(u=null!=r?r:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(h){throw Ln()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(ew,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0}),n})(),Ci=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const sd="browser";function oi(n){return"server"===n}let lc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new cc((0,l.LFG)(ce),window)}),n})();class cc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ld(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ad(this.window.history)||ad(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ad(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class an{}class $o extends class uc extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ye(n){F||(F=n)}(new $o)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ap(){return nn=nn||document.querySelector("base"),nn?nn.getAttribute("href"):null}();return null==t?null:function Ya(n){Za=Za||document.createElement("a"),Za.setAttribute("href",n);const e=Za.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return no(document.cookie,e)}}let Za,nn=null;const Ei=new l.OlP("TRANSITION_ID"),Ka=[{provide:l.ip1,useFactory:function dc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ei,ce,l.zs3],multi:!0}];class as{static init(){(0,l.VLi)(new as)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(m){u=u||m,o--,0==o&&i(u)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ti=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zo=new l.OlP("EventManagerPlugins");let Rs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class lp{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Mr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Go=(()=>{class n extends Mr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(qo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qo))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function qo(n){P().remove(n)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hc=/%COMP%/g;function Ce(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ce(n,r,t):(r=r.replace(hc,n),t.push(r))}return t}function Nt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new hd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new fd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ce(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rs),l.LFG(Go),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Wo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ut[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=ut[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ut[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nt(i)):this.eventManager.addEventListener(e,t,Nt(i))}}class hd extends Wo{constructor(e,t,i,r){super(e),this.component=i;const o=Ce(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function ud(n){return"_ngcontent-%COMP%".replace(hc,n)}(r+"-"+i.id),this.hostAttr=function D_(n){return"_nghost-%COMP%".replace(hc,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class fd extends Wo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ce(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dp=(()=>{class n extends lp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hp=["alt","control","meta","shift"],Zo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ai={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fp=(()=>{class n extends lp{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(hp.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),u+=m+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(t){let i="",r=function Ps(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ai.hasOwnProperty(e)&&(e=ai[e]))}return Zo[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hp.forEach(o=>{o!=r&&xr[o](t)&&(i+=o+".")}),i+=r,i}static eventCallback(t,i,r){return o=>{n.getEventFullKey(o)===t&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const S_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:sd},{provide:l.g9A,useValue:function ls(){$o.makeCurrent(),as.init()},multi:!0},{provide:ce,useFactory:function pp(){return(0,l.RDi)(document),document},deps:[]}]),Xa=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function pd(){return new l.qLn},deps:[]},{provide:zo,useClass:dp,multi:!0,deps:[ce,l.R0b,l.Lbi]},{provide:zo,useClass:fp,multi:!0,deps:[ce]},{provide:wn,useClass:wn,deps:[Rs,Go,l.AFp]},{provide:l.FYo,useExisting:wn},{provide:Mr,useExisting:Go},{provide:Go,useClass:Go,deps:[ce]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Rs,useClass:Rs,deps:[zo,l.R0b]},{provide:an,useClass:Ti,deps:[]}];let pc=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Ei,useExisting:l.AFp},Ka]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Xa,imports:[Ci,l.hGG]}),n})();"undefined"!=typeof window&&window;let qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(vp),i},providedIn:"root"}),n})(),vp=(()=>{class n extends qr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function mc(n){return new vp(n.get(ce))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var bt=R(9681);(0,bt.registerVersion)("firebase","9.8.1","app");var q=R(5861),je=R(2090),Di=R(4859),gr=R(1877),kr=R(8766);const ao="@firebase/installations",Qo="w:0.5.9",rl="FIS_v2",li=new je.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function sl(n){return n instanceof je.ZR&&n.code.includes("request-failed")}function ds({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Fs(n){return{token:n.token,requestStatus:2,expiresIn:Tp(n.expiresIn),creationTime:Date.now()}}function Jo(n,e){return ol.apply(this,arguments)}function ol(){return(ol=(0,q.Z)(function*(n,e){const i=(yield e.json()).error;return li.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function gc({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function al(n,{refreshToken:e}){const t=gc(n);return t.append("Authorization",function O_(n){return`${rl} ${n}`}(e)),t}function _c(n){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,q.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Tp(n){return Number(n.replace("s","000"))}function yc(n,e){return ea.apply(this,arguments)}function ea(){return(ea=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=ds(n),r=gc(n),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const h={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:rl,appId:n.appId,sdkVersion:Qo})},m=yield _c(()=>fetch(i,h));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Fs(v.authToken)}}throw yield Jo("Create Installation",m)})).apply(this,arguments)}function vd(n){return new Promise(e=>{setTimeout(e,n)})}const Dp=/^[cdef][\w-]{21}$/;function vc(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function bd(n){return function Ip(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Dp.test(t)?t:""}catch(n){return""}}function hs(n){return`${n.appName}!${n.appId}`}const _r=new Map;function co(n,e){const t=hs(n);bc(t,e),function na(n,e){const t=function wc(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=n=>{bc(n.data.key,n.data.fid)}),ia}();t&&t.postMessage({key:n,fid:e}),function pn(){0===_r.size&&ia&&(ia.close(),ia=null)}()}(t,e)}function bc(n,e){const t=_r.get(n);if(t)for(const i of t)i(e)}let ia=null;const ra="firebase-installations-store";let Sp=null;function wd(){return Sp||(Sp=(0,kr.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ra)}})),Sp}function Cd(n,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,q.Z)(function*(n,e){const t=hs(n),r=(yield wd()).transaction(ra,"readwrite"),o=r.objectStore(ra),u=yield o.get(t);return yield o.put(e,t),yield r.done,(!u||u.fid!==e.fid)&&co(n,e.fid),e})).apply(this,arguments)}function uo(n){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,q.Z)(function*(n){const e=hs(n),i=(yield wd()).transaction(ra,"readwrite");yield i.objectStore(ra).delete(e),yield i.done})).apply(this,arguments)}function mn(n,e){return ho.apply(this,arguments)}function ho(){return(ho=(0,q.Z)(function*(n,e){const t=hs(n),r=(yield wd()).transaction(ra,"readwrite"),o=r.objectStore(ra),u=yield o.get(t),h=e(u);return void 0===h?yield o.delete(t):yield o.put(h,t),yield r.done,h&&(!u||u.fid!==h.fid)&&co(n,h.fid),h})).apply(this,arguments)}function fo(n){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,q.Z)(function*(n){let e;const t=yield mn(n.appConfig,i=>{const r=P_(i),o=ji(n,r);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function P_(n){return Bs(n||{fid:vc(),registrationStatus:0})}function ji(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(li.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function rr(n,e){return sa.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Tc(n)}:{installationEntry:e}}function sa(){return(sa=(0,q.Z)(function*(n,e){try{const t=yield yc(n,e);return Cd(n.appConfig,t)}catch(t){throw sl(t)&&409===t.customData.serverCode?yield uo(n.appConfig):yield Cd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Tc(n){return fs.apply(this,arguments)}function fs(){return(fs=(0,q.Z)(function*(n){let e=yield Ed(n.appConfig);for(;1===e.registrationStatus;)yield vd(100),e=yield Ed(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield fo(n);return i||t}return e})).apply(this,arguments)}function Ed(n){return mn(n,e=>{if(!e)throw li.create("installation-not-found");return Bs(e)})}function Bs(n){return function Td(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function hw(n,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=xp(n,t),r=al(n,t),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Qo,appId:n.appId}})},m=yield _c(()=>fetch(i,h));if(m.ok)return Fs(yield m.json());throw yield Jo("Generate Auth Token",m)})).apply(this,arguments)}function xp(n,{fid:e}){return`${ds(n)}/${e}/authTokens:generate`}function Yn(n){return oa.apply(this,arguments)}function oa(){return(oa=(0,q.Z)(function*(n,e=!1){let t;const i=yield mn(n.appConfig,o=>{if(!Op(o))throw li.create("not-registered");const u=o.authToken;if(!e&&Id(u))return o;if(1===u.requestStatus)return t=aa(n,e),o;{if(!navigator.onLine)throw li.create("app-offline");const h=Rp(o);return t=N_(n,h),h}});return t?yield t:i.authToken})).apply(this,arguments)}function aa(n,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,q.Z)(function*(n,e){let t=yield cl(n.appConfig);for(;1===t.authToken.requestStatus;)yield vd(100),t=yield cl(n.appConfig);const i=t.authToken;return 0===i.requestStatus?Yn(n,e):i})).apply(this,arguments)}function cl(n){return mn(n,e=>{if(!Op(e))throw li.create("not-registered");return function po(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function N_(n,e){return ul.apply(this,arguments)}function ul(){return(ul=(0,q.Z)(function*(n,e){try{const t=yield hw(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Cd(n.appConfig,i),t}catch(t){if(!sl(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Cd(n.appConfig,i)}else yield uo(n.appConfig);throw t}})).apply(this,arguments)}function Op(n){return void 0!==n&&2===n.registrationStatus}function Id(n){return 2===n.requestStatus&&!function Dd(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Rp(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Pp(){return(Pp=(0,q.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield fo(e);return i?i.catch(console.error):Yn(e).catch(console.error),t.fid})).apply(this,arguments)}function go(){return(go=(0,q.Z)(function*(n,e=!1){const t=n;return yield la(t),(yield Yn(t,e)).token})).apply(this,arguments)}function la(n){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,q.Z)(function*(n){const{registrationPromise:e}=yield fo(n);e&&(yield e)})).apply(this,arguments)}function ca(n){return li.create("missing-app-config-values",{valueName:n})}const xd="installations",yo=n=>{const e=n.getProvider("app").getImmediate(),t=function Kn(n){if(!n||!n.options)throw ca("App Configuration");if(!n.name)throw ca("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw ca(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,bt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},F_=n=>{const e=n.getProvider("app").getImmediate(),t=(0,bt._getProvider)(e,xd).getImmediate();return{getId:()=>function Ic(n){return Pp.apply(this,arguments)}(t),getToken:r=>function mo(n){return go.apply(this,arguments)}(t,r)}};(function Od(){(0,bt._registerComponent)(new Di.wA(xd,yo,"PUBLIC")),(0,bt._registerComponent)(new Di.wA("installations-internal",F_,"PRIVATE"))})(),(0,bt.registerVersion)(ao,"0.5.9"),(0,bt.registerVersion)(ao,"0.5.9","esm2017");const dl="@firebase/remote-config",Si=new je.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class L_{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,q.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&u.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(u),o})()}}function B_(n=navigator){return n.languages&&n.languages[0]||n.language}class yw{constructor(e,t,i,r,o,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=u}fetch(e){var t=this;return(0,q.Z)(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:B_()},v={method:"POST",headers:h,body:JSON.stringify(m)},T=fetch(u,v),D=new Promise((Re,He)=>{e.signal.addEventListener(()=>{const ze=new Error("The operation was aborted.");ze.name="AbortError",He(ze)})});let M;try{yield Promise.race([T,D]),M=yield T}catch(Re){let He="fetch-client-network";throw"AbortError"===Re.name&&(He="fetch-timeout"),Si.create(He,{originalErrorMessage:Re.message})}let k=M.status;const N=M.headers.get("ETag")||void 0;let Q,he;if(200===M.status){let Re;try{Re=yield M.json()}catch(He){throw Si.create("fetch-client-parse",{originalErrorMessage:He.message})}Q=Re.entries,he=Re.state}if("INSTANCE_STATE_UNSPECIFIED"===he?k=500:"NO_CHANGE"===he?k=304:("NO_TEMPLATE"===he||"EMPTY_CONFIG"===he)&&(Q={}),304!==k&&200!==k)throw Si.create("fetch-status",{httpStatus:k});return{status:k,eTag:N,config:Q}})()}}class Bp{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,q.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,q.Z)(function*(){yield function ha(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function Ld(n){if(!(n instanceof je.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const u={throttleEndTimeMillis:Date.now()+(0,je.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(e,u)}})()}}class wo{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _l(n,e){const t=n.target.error||void 0;return Si.create(e,{originalErrorMessage:t&&t.message})}const Co="app_namespace_store";class Or{constructor(e,t,i,r=function j_(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(_l(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Co,{keyPath:"compositeKey"})}}catch(t){e(Si.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,q.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const h=i.transaction([Co],"readonly").objectStore(Co),m=t.createCompositeKey(e);try{const v=h.get(m);v.onerror=T=>{o(_l(T,"storage-get"))},v.onsuccess=T=>{const D=T.target.result;r(D?D.value:void 0)}}catch(v){o(Si.create("storage-get",{originalErrorMessage:v&&v.message}))}})})()}set(e,t){var i=this;return(0,q.Z)(function*(){const r=yield i.openDbPromise;return new Promise((o,u)=>{const m=r.transaction([Co],"readwrite").objectStore(Co),v=i.createCompositeKey(e);try{const T=m.put({compositeKey:v,value:t});T.onerror=D=>{u(_l(D,"storage-set"))},T.onsuccess=()=>{o()}}catch(T){u(Si.create("storage-set",{originalErrorMessage:T&&T.message}))}})})()}delete(e){var t=this;return(0,q.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const h=i.transaction([Co],"readwrite").objectStore(Co),m=t.createCompositeKey(e);try{const v=h.delete(m);v.onerror=T=>{o(_l(T,"storage-delete"))},v.onsuccess=()=>{r()}}catch(v){o(Si.create("storage-delete",{originalErrorMessage:v&&v.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class fa{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,q.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const u=yield i;u&&(e.lastSuccessfulFetchTimestampMillis=u);const h=yield r;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function H_(){return yl.apply(this,arguments)}function yl(){return(yl=(0,q.Z)(function*(){if(!(0,je.hl)())return!1;try{return yield(0,je.eu)()}catch(n){return!1}})).apply(this,arguments)}!function kc(){(0,bt._registerComponent)(new Di.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Si.create("registration-window");if(!(0,je.hl)())throw Si.create("indexed-db-unavailable");const{projectId:o,apiKey:u,appId:h}=i.options;if(!o)throw Si.create("registration-project-id");if(!u)throw Si.create("registration-api-key");if(!h)throw Si.create("registration-app-id");const m=new Or(h,i.name,t=t||"firebase"),v=new fa(m),T=new gr.Yd(dl);T.logLevel=gr.in.ERROR;const D=new yw(r,bt.SDK_VERSION,t,o,u,h),M=new Bp(D,m),k=new L_(M,m,v,T),N=new wo(i,k,v,m,T);return function mw(n){const e=(0,je.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(N),N},"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(dl,"0.3.8"),(0,bt.registerVersion)(dl,"0.3.8","esm2017")}();const $_="/firebase-messaging-sw.js",Bd="/firebase-cloud-messaging-push-scope",Vd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jp="google.c.a.c_id",G_="google.c.a.c_l",bw="google.c.a.ts",w="google.c.a.e";var _=(()=>{return(n=_||(_={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",_;var n})();function E(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function A(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const x="fcm_token_details_db",Ee="fcm_token_object_Store";function Ze(n){return st.apply(this,arguments)}function st(){return st=(0,q.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(x))return null;let e=null;return(yield(0,kr.X3)(x,5,{upgrade:(i=(0,q.Z)(function*(r,o,u,h){var m;if(o<2||!r.objectStoreNames.contains(Ee))return;const v=h.objectStore(Ee),T=yield v.index("fcmSenderId").get(n);if(yield v.clear(),T)if(2===o){const D=T;if(!D.auth||!D.p256dh||!D.endpoint)return;e={token:D.fcmToken,createTime:null!==(m=D.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:E(D.vapidKey)}}}else if(3===o){const D=T;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:E(D.auth),p256dh:E(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:E(D.vapidKey)}}}else if(4===o){const D=T;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:E(D.auth),p256dh:E(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:E(D.vapidKey)}}}}),function(o,u,h,m){return i.apply(this,arguments)})})).close(),yield(0,kr.Lj)(x),yield(0,kr.Lj)("fcm_vapid_details_db"),yield(0,kr.Lj)("undefined"),Dt(e)?e:null;var i}),st.apply(this,arguments)}function Dt(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ci="firebase-messaging-store";let vl=null;function Ud(){return vl||(vl=(0,kr.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ci)}})),vl}function bl(n){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,q.Z)(function*(n){const e=Vs(n),i=yield(yield Ud()).transaction(ci).objectStore(ci).get(e);if(i)return i;{const r=yield Ze(n.appConfig.senderId);if(r)return yield Pc(n,r),r}})).apply(this,arguments)}function Pc(n,e){return wl.apply(this,arguments)}function wl(){return(wl=(0,q.Z)(function*(n,e){const t=Vs(n),r=(yield Ud()).transaction(ci,"readwrite");return yield r.objectStore(ci).put(e,t),yield r.done,e})).apply(this,arguments)}function Hp(n){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,q.Z)(function*(n){const e=Vs(n),i=(yield Ud()).transaction(ci,"readwrite");yield i.objectStore(ci).delete(e),yield i.done})).apply(this,arguments)}function Vs({appConfig:n}){return n.appId}const Bn=new je.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hd(n,e){return gn.apply(this,arguments)}function gn(){return(gn=(0,q.Z)(function*(n,e){const t=yield Z_(n),i=Cw(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(W_(n.appConfig),r)).json()}catch(u){throw Bn.create("token-subscribe-failed",{errorInfo:u})}if(o.error)throw Bn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Bn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function ww(n,e){return q_.apply(this,arguments)}function q_(){return(q_=(0,q.Z)(function*(n,e){const t=yield Z_(n),i=Cw(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${W_(n.appConfig)}/${e.token}`,r)).json()}catch(u){throw Bn.create("token-update-failed",{errorInfo:u})}if(o.error)throw Bn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Bn.create("token-update-no-token");return o.token})).apply(this,arguments)}function $p(n,e){return zp.apply(this,arguments)}function zp(){return(zp=(0,q.Z)(function*(n,e){const i={method:"DELETE",headers:yield Z_(n)};try{const o=yield(yield fetch(`${W_(n.appConfig)}/${e}`,i)).json();if(o.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Bn.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function W_({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Z_(n){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,q.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Cw({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==Vd&&(r.web.applicationPubKey=i),r}const XD=6048e5;function y1(n){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,q.Z)(function*(n){const e=yield $d(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:E(e.getKey("auth")),p256dh:E(e.getKey("p256dh"))},i=yield bl(n.firebaseDependencies);if(i){if(eS(i.subscriptionOptions,t))return Date.now()>=i.createTime+XD?K_(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield $p(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Q_(n.firebaseDependencies,t)}return Q_(n.firebaseDependencies,t)})).apply(this,arguments)}function Nc(n){return ui.apply(this,arguments)}function ui(){return(ui=(0,q.Z)(function*(n){const e=yield bl(n.firebaseDependencies);e&&(yield $p(n.firebaseDependencies,e.token),yield Hp(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function K_(n,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,q.Z)(function*(n,e){try{const t=yield ww(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Pc(n.firebaseDependencies,i),t}catch(t){throw yield Nc(n),t}})).apply(this,arguments)}function Q_(n,e){return di.apply(this,arguments)}function di(){return(di=(0,q.Z)(function*(n,e){const i={token:yield Hd(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Pc(n,i),i.token})).apply(this,arguments)}function $d(n,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,q.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:A(e)})})).apply(this,arguments)}function eS(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Tw(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Iw(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r)}(e,n),function tS(n,e){!e.data||(n.data=e.data)}(e,n),function Dw(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const i=e.fcmOptions.analytics_label;i&&(n.fcmOptions.analyticsLabel=i)}(e,n),e}function nS(n){return"object"==typeof n&&!!n&&jp in n}function J_(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function X_(n){return Bn.create("missing-app-config-values",{valueName:n})}J_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),J_("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ey{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function iS(n){if(!n||!n.options)throw X_("App Configuration Object");if(!n.name)throw X_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw X_(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function Sw(n){return ty.apply(this,arguments)}function ty(){return(ty=(0,q.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register($_,{scope:Bd}),n.swRegistration.update().catch(()=>{})}catch(e){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function ny(n,e){return iy.apply(this,arguments)}function iy(){return(iy=(0,q.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield Sw(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function rS(n,e){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,q.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Vd)})).apply(this,arguments)}function ry(){return(ry=(0,q.Z)(function*(n,e){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield rS(n,null==e?void 0:e.vapidKey),yield ny(n,null==e?void 0:e.serviceWorkerRegistration),y1(n)})).apply(this,arguments)}function sS(n,e,t){return sy.apply(this,arguments)}function sy(){return(sy=(0,q.Z)(function*(n,e,t){const i=oS(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[jp],message_name:t[G_],message_time:t[bw],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oS(n){switch(n){case _.NOTIFICATION_CLICKED:return"notification_open";case _.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oy(){return(oy=(0,q.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===_.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Tw(t)):n.onMessageHandler.next(Tw(t)));const i=t.data;nS(i)&&"1"===i[w]&&(yield sS(n,t.messageType,i))})).apply(this,arguments)}const xw="@firebase/messaging",aS=n=>{const e=new ey(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Mw(n,e){return oy.apply(this,arguments)}(e,t)),e},lS=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function Aw(n,e){return ry.apply(this,arguments)}(e,i)}};function Ow(){return ay.apply(this,arguments)}function ay(){return(ay=(0,q.Z)(function*(){try{yield(0,je.eu)()}catch(n){return!1}return"undefined"!=typeof window&&(0,je.hl)()&&(0,je.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cS(){(0,bt._registerComponent)(new Di.wA("messaging",aS,"PUBLIC")),(0,bt._registerComponent)(new Di.wA("messaging-internal",lS,"PRIVATE")),(0,bt.registerVersion)(xw,"0.9.13"),(0,bt.registerVersion)(xw,"0.9.13","esm2017")}();const Bc="analytics",dS="firebase_id",Fw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js",Qn=new gr.Yd("@firebase/analytics");function qp(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Lw(n,e){const t=document.createElement("script");t.src=`${ly}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Vc(n,e,t,i,r,o){return qd.apply(this,arguments)}function qd(){return(qd=(0,q.Z)(function*(n,e,t,i,r,o){const u=i[r];try{if(u)yield e[u];else{const m=(yield qp(t)).find(v=>v.measurementId===r);m&&(yield e[m.appId])}}catch(h){Qn.error(h)}n("config",r,o)})).apply(this,arguments)}function Bw(n,e,t,i,r){return cy.apply(this,arguments)}function cy(){return(cy=(0,q.Z)(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const h=yield qp(t);for(const m of u){const v=h.find(D=>D.measurementId===m),T=v&&e[v.appId];if(!T){o=[];break}o.push(T)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){Qn.error(o)}})).apply(this,arguments)}function fS(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(ly))return e;return null}const Rr=new je.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wp=new class Vw{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Uw(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function dy(n){return hy.apply(this,arguments)}function hy(){return(hy=(0,q.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Uw(i)},o=Fw.replace("{app-id}",t),u=yield fetch(o,r);if(200!==u.status&&304!==u.status){let h="";try{const m=yield u.json();(null===(e=m.error)||void 0===e?void 0:e.message)&&(h=m.error.message)}catch(m){}throw Rr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()})).apply(this,arguments)}function _S(n){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,q.Z)(function*(n,e=Wp,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw Rr.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Rr.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new yS;return setTimeout((0,q.Z)(function*(){h.abort()}),void 0!==t?t:6e4),fy({appId:i,apiKey:r,measurementId:o},u,h,e)})).apply(this,arguments)}function fy(n,e,t){return To.apply(this,arguments)}function To(){return(To=(0,q.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=Wp){const{appId:o,measurementId:u}=n;try{yield jw(i,e)}catch(h){if(u)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h.message}]`),{appId:o,measurementId:u};throw h}try{const h=yield dy(n);return r.deleteThrottleMetadata(o),h}catch(h){if(!Hw(h)){if(r.deleteThrottleMetadata(o),u)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h.message}]`),{appId:o,measurementId:u};throw h}const m=503===Number(h.customData.httpStatus)?(0,je.$s)(t,r.intervalMillis,30):(0,je.$s)(t,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return r.setThrottleMetadata(o,v),Qn.debug(`Calling attemptFetch again in ${m} millis`),fy(n,v,i,r)}})).apply(this,arguments)}function jw(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Rr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hw(n){if(!(n instanceof je.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class yS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Yp(){return py.apply(this,arguments)}function py(){return(py=(0,q.Z)(function*(){if(!(0,je.hl)())return Qn.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,je.eu)()}catch(n){return Qn.warn(Rr.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function Kp(){return(Kp=(0,q.Z)(function*(n,e,t,i,r,o,u){var h;const m=_S(n);m.then(k=>{t[k.measurementId]=k.appId,n.options.measurementId&&k.measurementId!==n.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>Qn.error(k)),e.push(m);const v=Yp().then(k=>{if(k)return i.getId()}),[T,D]=yield Promise.all([m,v]);fS()||Lw(o,T.measurementId),r("js",new Date);const M=null!==(h=null==u?void 0:u.config)&&void 0!==h?h:{};return M.origin="firebase",M.update=!0,null!=D&&(M[dS]=D),r("config",T.measurementId,M),T.measurementId})).apply(this,arguments)}class zw{constructor(e){this.app=e}_delete(){return delete ps[this.app.options.appId],Promise.resolve()}}let ps={},my=[];const Wd={};let Qp,Uc,El="dataLayer",Zd=!1;function Gw(n,e,t){!function vS(){const n=[];if((0,je.ru)()&&n.push("This is a browser extension environment."),(0,je.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Rr.create("invalid-analytics-context",{errorInfo:e});Qn.warn(t.message)}}();const i=n.options.appId;if(!i)throw Rr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Rr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ps[i])throw Rr.create("already-exists",{id:i});if(!Zd){!function b1(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(El);const{wrappedGtag:o,gtagCore:u}=function hS(n,e,t,i,r){let o=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function uy(n,e,t,i){function o(){return(o=(0,q.Z)(function*(u,h,m){try{"event"===u?yield Bw(n,e,t,h,m):"config"===u?yield Vc(n,e,t,i,h,m):n("set",h)}catch(v){Qn.error(v)}})).apply(this,arguments)}return function r(u,h,m){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(ps,my,Wd,El,"gtag");Uc=o,Qp=u,Zd=!0}return ps[i]=function $w(n,e,t,i,r,o,u){return Kp.apply(this,arguments)}(n,my,Wd,e,Qp,El,t),new zw(n)}function _y(){return(_y=(0,q.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function wS(){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,q.Z)(function*(){if((0,je.ru)()||!(0,je.zI)()||!(0,je.hl)())return!1;try{return yield(0,je.eu)()}catch(n){return!1}})).apply(this,arguments)}const Jw="@firebase/analytics";!function CS(){(0,bt._registerComponent)(new Di.wA(Bc,(e,{options:t})=>Gw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,bt._registerComponent)(new Di.wA("analytics-internal",function n(e){try{const t=e.getProvider(Bc).getImmediate();return{logEvent:(i,r,o)=>function Qw(n,e,t,i){n=(0,je.m9)(n),function bS(n,e,t,i,r){return _y.apply(this,arguments)}(Uc,ps[n.app.options.appId],e,t,i).catch(r=>Qn.error(r))}(t,i,r,o)}}catch(t){throw Rr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,bt.registerVersion)(Jw,"0.7.9"),(0,bt.registerVersion)(Jw,"0.7.9","esm2017")}();var tt=R(727);class eC extends tt.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Kd={setInterval(n,e,...t){const{delegate:i}=Kd;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Kd;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var tC=R(8737);class Tl extends eC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Kd.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;Kd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,tC.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const em={now:()=>(em.delegate||Date).now(),delegate:void 0};class Qd{constructor(e,t=Qd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Qd.now=em.now;class jc extends Qd{constructor(e,t=Qd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const by=new class Io extends jc{}(class gs extends Tl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),pa=new jc(Tl),D1=pa;var Vn=R(9751),Us=R(576),Un=R(4482),Cn=R(5403),ma=R(4671);function Dn(n,e,t){const i=(0,Us.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,Un.e)((r,o)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe((0,Cn.x)(o,m=>{var v;null===(v=i.next)||void 0===v||v.call(i,m),o.next(m)},()=>{var m;h=!1,null===(m=i.complete)||void 0===m||m.call(i),o.complete()},m=>{var v;h=!1,null===(v=i.error)||void 0===v||v.call(i,m),o.error(m)},()=>{var m,v;h&&(null===(m=i.unsubscribe)||void 0===m||m.call(i)),null===(v=i.finalize)||void 0===v||v.call(i)}))}):ma.y}var Il=R(9468),Hc=R(5363);const Jd=new l.GfV("7.3.0"),wy="__angularfire_symbol__analyticsIsSupportedValue",Cy="__angularfire_symbol__analyticsIsSupported",Ey="__angularfire_symbol__remoteConfigIsSupportedValue",tm="__angularfire_symbol__remoteConfigIsSupported",nC="__angularfire_symbol__messagingIsSupportedValue",Ty="__angularfire_symbol__messagingIsSupported";function $c(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(u=>u.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Cy]||(globalThis[Cy]=wS().then(n=>globalThis[wy]=n).catch(()=>globalThis[wy]=!1)),globalThis[Ty]||(globalThis[Ty]=Ow().then(n=>globalThis[nC]=n).catch(()=>globalThis[nC]=!1)),globalThis[tm]||(globalThis[tm]=H_().then(n=>globalThis[Ey]=n).catch(()=>globalThis[Ey]=!1));const Iy=(n,e)=>{const t=e?[e]:(0,bt.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i};function Xd(){}class DS{constructor(e,t=by){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class A1{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xd,{},Xd,Xd)),t.pipe(Dn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new DS(Zone.current)),this.insideAngular=t.run(()=>new DS(Zone.current,pa)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function M1(n){return zc().ngZone.runOutsideAngular(()=>n())}function Gc(n){return zc().ngZone.run(()=>n())}function zn(n){return zc(),function Dy(n){return function(t){return(t=t.lift(new A1(n.ngZone))).pipe((0,Il.R)(n.outsideAngular),(0,Hc.Q)(n.insideAngular))}}(zc())(n)}const SS=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Gc(()=>n.apply(void 0,i))},ln=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Gc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xd,{},Xd,Xd)))),i[o]=SS(i[o],t));const r=M1(()=>n.apply(this,i));if(!e){if(r instanceof Vn.y){const o=zc();return r.pipe((0,Il.R)(o.outsideAngular),(0,Hc.Q)(o.insideAngular))}return Gc(()=>r)}return r instanceof Vn.y?r.pipe(zn):r instanceof Promise?Gc(()=>new Promise((o,u)=>r.then(h=>Gc(()=>o(h)),h=>Gc(()=>u(h))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Gc(()=>r)};class Do{constructor(e){return e}}class th{constructor(){return(0,bt.getApps)()}}const js=new l.OlP("angularfire2._apps"),sC={provide:Do,useFactory:function AS(n){return n&&1===n.length?n[0]:new Do((0,bt.getApp)())},deps:[[new l.FiY,js]]},MS={provide:th,deps:[[new l.FiY,js]]};function Sy(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Do(i)}}let xS=(()=>{class n{constructor(t){(0,bt.registerVersion)("angularfire",Jd.full,"core"),(0,bt.registerVersion)("angularfire",Jd.full,"app"),(0,bt.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[sC,MS]}),n})();function oC(n,...e){return{ngModule:xS,providers:[{provide:js,useFactory:Sy(n),multi:!0,deps:[l.R0b,l.zs3,eh,...e]}]}}const qc=ln(bt.initializeApp,!0),Dl=new Map,kS={activated:!1,tokenObservers:[]},lC={initialized:!1,enabled:!1};function Jn(n){return Dl.get(n)||kS}function Pr(n,e){Dl.set(n,e)}function Wc(){return lC}class dC{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,q.Z)(function*(){t.stop();try{t.pending=new je.BH,yield function PS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new je.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const sr=new je.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vr(n){if(!Jn(n).activated)throw sr.create("use-before-activation",{appName:n.name})}function fC(n,e){return am.apply(this,arguments)}function am(){return(am=(0,q.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,o)}catch(D){throw sr.create("fetch-network-error",{originalErrorMessage:D.message})}if(200!==u.status)throw sr.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(D){throw sr.create("fetch-parse-error",{originalErrorMessage:D.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),T=Date.now();return{token:h.token,expireTimeMillis:T+v,issuedAtTimeMillis:T}})).apply(this,arguments)}function xy(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const ih="firebase-app-check-store";let rh=null;function gC(){return rh||(rh=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(sr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ih,{keyPath:"compositeKey"})}}catch(t){e(sr.create("storage-open",{originalErrorMessage:t.message}))}}),rh)}function Oy(){return(Oy=(0,q.Z)(function*(n,e){const i=(yield gC()).transaction(ih,"readwrite"),o=i.objectStore(ih).put({compositeKey:n,value:e});return new Promise((u,h)=>{o.onsuccess=m=>{u()},i.onerror=m=>{var v;h(sr.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const oh=new gr.Yd("@firebase/app-check");function bC(n,e){return(0,je.hl)()?function BS(n,e){return function ky(n,e){return Oy.apply(this,arguments)}(function vC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{oh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cm(){return Wc().enabled}function wC(){return Py.apply(this,arguments)}function Py(){return(Py=(0,q.Z)(function*(){const n=Wc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ny={error:"UNKNOWN_ERROR"};function jS(n){return je.US.encodeString(JSON.stringify(n),!1)}function Zc(n){return ah.apply(this,arguments)}function ah(){return(ah=(0,q.Z)(function*(n,e=!1){const t=n.app;vr(t);const i=Jn(t);let o,r=i.token;if(!r){const m=yield i.cachedTokenPromise;m&&hm(m)&&(r=m)}if(!e&&r&&hm(r))return{token:r.token};let h,u=!1;if(cm()){i.exchangeTokenPromise||(i.exchangeTokenPromise=fC(xy(t,yield wC()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const m=yield i.exchangeTokenPromise;return yield bC(t,m),Pr(t,Object.assign(Object.assign({},i),{token:m})),{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(m=>(i.exchangeTokenPromise=void 0,m)),u=!0),r=yield i.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?oh.warn(m.message):oh.error(m),o=m}return r?(h={token:r.token},Pr(t,Object.assign(Object.assign({},i),{token:r})),yield bC(t,r)):h=EC(o),u&&HS(t,h),h})).apply(this,arguments)}function Fy(n,e){const t=Jn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Pr(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function CC(n){const{app:e}=n,t=Jn(e);let i=t.tokenRefresher;i||(i=function Ly(n){const{app:e}=n;return new dC((0,q.Z)(function*(){let i;if(i=Jn(e).token?yield Zc(n,!0):yield Zc(n),i.error)throw i.error}),()=>!0,()=>{const t=Jn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Pr(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function HS(n,e){const t=Jn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function hm(n){return n.expireTimeMillis-Date.now()>0}function EC(n){return{token:jS(Ny),error:n}}class TC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jn(this.app);for(const t of e)Fy(this.app,t.next);return Promise.resolve()}}const OC="app-check-internal";!function WS(){(0,bt._registerComponent)(new Di.wA("app-check",n=>function IC(n,e){return new TC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(OC).initialize()})),(0,bt._registerComponent)(new Di.wA(OC,n=>function DC(n){return{getToken:e=>Zc(n,e),addTokenListener:e=>function dm(n,e,t,i){const{app:r}=n,o=Jn(r),u={next:t,error:i,type:e};if(Pr(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&hm(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),CC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>CC(n))}(n,"INTERNAL",e),removeTokenListener:e=>Fy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bt.registerVersion)("@firebase/app-check","0.5.8")}();class or{constructor(){return Iy("app-check")}}"undefined"!=typeof window&&window;var ch=R(198);function zy(n){return new Vn.y(function(e){return{unsubscribe:(0,ch.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function LC(n){return new Vn.y(function(e){return{unsubscribe:(0,ch.q)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class _m{constructor(e){return e}}class Nr{constructor(){return Iy("auth")}}const BC=new l.OlP("angularfire2.auth-instances");function UC(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new _m(i)}}const jC={provide:Nr,deps:[[new l.FiY,BC]]},eA={provide:_m,useFactory:function VC(n,e){const t=$c("auth",n,e);return t&&new _m(t)},deps:[[new l.FiY,BC],Do]};let j1=(()=>{class n{constructor(){(0,bt.registerVersion)("angularfire",Jd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eA,jC]}),n})();function HC(n,...e){return{ngModule:j1,providers:[{provide:BC,useFactory:UC(n),multi:!0,deps:[l.R0b,l.zs3,eh,th,[new l.FiY,or],...e]}]}}const qy=ln(zy,!0),tA=ln(LC,!0),nA=ln(ch.a5,!0),iA=ln(ch.n,!0),qC=ln(ch.a6,!0),gA=ln(ch.af,!0);var sn=R(8996),Jc=R(3269);function et(...n){const e=(0,Jc.yG)(n);return(0,sn.D)(n,e)}var jn=R(5577);function Hi(n,e){return(0,Us.m)(e)?(0,jn.z)(n,e,1):(0,jn.z)(n,1)}var St=R(7579),Zr=R(6451),ga=R(8421);function _n(n,e){return(0,Un.e)((t,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,Cn.x)(i,m=>{null==r||r.unsubscribe();let v=0;const T=o++;(0,ga.Xf)(n(m,T)).subscribe(r=(0,Cn.x)(i,D=>i.next(e?e(m,D,T,v++):D),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var Qe=R(4004);class tP extends St.x{constructor(e=1/0,t=1/0,i=em){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let h=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)h=m;h&&i.splice(0,h+1)}}}var WC=R(3099);function Al(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,WC.B)({connector:()=>new tP(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const bh=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hn(n,e){return(0,Un.e)((t,i)=>{let r=0;t.subscribe((0,Cn.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var Sn=R(5698);function wh(n){return(0,Un.e)((e,t)=>{let i=!1;e.subscribe((0,Cn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ZC(n=YC){return(0,Un.e)((e,t)=>{let i=!1;e.subscribe((0,Cn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function YC(){return new bh}function Ml(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Hn((r,o)=>n(r,o,i)):ma.y,(0,Sn.q)(1),t?wh(e):ZC(()=>new bh))}function KC(n,e){return(0,Us.m)(e)?_n(()=>n,e):_n(()=>n)}var vs=R(2011);R(127);const Yy=new l.OlP("angularfire2.auth.use-emulator"),QC=new l.OlP("angularfire2.auth.settings"),Ky=new l.OlP("angularfire2.auth.tenant-id"),Qy=new l.OlP("angularfire2.auth.langugage-code"),bm=new l.OlP("angularfire2.auth.use-device-language"),bA=new l.OlP("angularfire.auth.persistence"),wm=(n,e,t,i,r,o,u,h)=>(0,vs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),u)for(const[v,T]of Object.entries(u))m.settings[v]=T;return h&&m.setPersistence(h),m},[t,i,r,o,u,h]);let Jy=(()=>{class n{constructor(t,i,r,o,u,h,m,v,T,D,M,k){const N=new St.x,Q=et(void 0).pipe((0,Hc.Q)(u.outsideAngular),_n(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,Qe.U)(()=>(0,vs.on)(t,o,i)),(0,Qe.U)(he=>wm(he,o,h,v,T,D,m,M)),Al({bufferSize:1,refCount:!1}));if(oi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{Q.pipe(Ml()).subscribe();const Re=Q.pipe(_n(Le=>Le.getRedirectResult().then(mt=>mt,()=>null)),zn,Al({bufferSize:1,refCount:!1})),He=Q.pipe(_n(Le=>new Vn.y(mt=>({unsubscribe:o.runOutsideAngular(()=>Le.onAuthStateChanged(yt=>mt.next(yt),yt=>mt.error(yt),()=>mt.complete()))})))),ze=Q.pipe(_n(Le=>new Vn.y(mt=>({unsubscribe:o.runOutsideAngular(()=>Le.onIdTokenChanged(yt=>mt.next(yt),yt=>mt.error(yt),()=>mt.complete()))}))));this.authState=Re.pipe(KC(He),(0,Il.R)(u.outsideAngular),(0,Hc.Q)(u.insideAngular)),this.user=Re.pipe(KC(ze),(0,Il.R)(u.outsideAngular),(0,Hc.Q)(u.insideAngular)),this.idToken=this.user.pipe(_n(Le=>Le?(0,sn.D)(Le.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(_n(Le=>Le?(0,sn.D)(Le.getIdTokenResult()):et(null))),this.credential=(0,Zr.T)(Re,N,this.authState.pipe(Hn(Le=>!Le))).pipe((0,Qe.U)(Le=>(null==Le?void 0:Le.user)?Le:null),(0,Il.R)(u.outsideAngular),(0,Hc.Q)(u.insideAngular))}return(0,vs.pX)(this,Q,o,{spy:{apply:(he,Re,He)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&He.then(ze=>N.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(eh),l.LFG(Yy,8),l.LFG(QC,8),l.LFG(Ky,8),l.LFG(Qy,8),l.LFG(bm,8),l.LFG(bA,8),l.LFG(or,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Mo=(()=>{class n{constructor(t,i){this.auth=t,this.afAuth=i,this.currentUser$=qy(this.auth)}login(t,i){return(0,sn.D)(qC(this.auth,t,i))}signUp(t,i){return(0,sn.D)(nA(this.auth,t,i))}updateProfileData(t){return et(this.auth.currentUser).pipe(Hi(r=>{if(!r)throw new Error("Not Authenticated");return gA(r,t)}))}logout(){return(0,sn.D)(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_m),l.LFG(Jy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fr extends St.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:Xy}=Array,{getPrototypeOf:ev,prototype:wA,keys:Cm}=Object;function Ch(n){if(1===n.length){const e=n[0];if(Xy(e))return{args:e,keys:null};if(function tv(n){return n&&"object"==typeof n&&ev(n)===wA}(e)){const t=Cm(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:iP}=Array;function Xc(n){return(0,Qe.U)(e=>function CA(n,e){return iP(e)?n(...e):n(e)}(n,e))}function Eh(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var nv=R(9672);function Th(...n){const e=(0,Jc.yG)(n),t=(0,Jc.jO)(n),{args:i,keys:r}=Ch(n);if(0===i.length)return(0,sn.D)([],e);const o=new Vn.y(function iv(n,e,t=ma.y){return i=>{rv(e,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let m=0;m<r;m++)rv(e,()=>{const v=(0,sn.D)(n[m],e);let T=!1;v.subscribe((0,Cn.x)(i,D=>{o[m]=D,T||(T=!0,h--),h||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Eh(r,u):ma.y));return t?o.pipe(Xc(t)):o}function rv(n,e,t){n?(0,nv.f)(t,n,e):e()}function eu(n,e){const t=(0,Us.m)(n)?n:()=>n,i=r=>r.error(t());return new Vn.y(e?r=>e.schedule(i,0,r):i)}var tu=R(8189);function Em(...n){return function JC(){return(0,tu.J)(1)}()((0,sn.D)(n,(0,Jc.yG)(n)))}function Ih(n){return new Vn.y(e=>{(0,ga.Xf)(n()).subscribe(e)})}var Hs=R(515);function Tm(){return(0,Un.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class XC extends Vn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Un.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tt.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tt.w0.EMPTY)}return e}refCount(){return Tm()(this)}}function $i(...n){const e=(0,Jc.yG)(n);return(0,Un.e)((t,i)=>{(e?Em(n,t,e):Em(n,t)).subscribe(i)})}function eE(n,e,t,i,r){return(o,u)=>{let h=t,m=e,v=0;o.subscribe((0,Cn.x)(u,T=>{const D=v++;m=h?n(m,T,D):(h=!0,T),i&&u.next(m)},r&&(()=>{h&&u.next(m),u.complete()})))}}function nu(n,e){return(0,Un.e)(eE(n,e,arguments.length>=2,!0))}function Yr(n){return(0,Un.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,Cn.x)(t,void 0,void 0,u=>{o=(0,ga.Xf)(n(u,Yr(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Dh(n){return n<=0?()=>Hs.E:(0,Un.e)((e,t)=>{let i=[];e.subscribe((0,Cn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function sv(n){return(0,Un.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class $s{constructor(e,t){this.id=e,this.url=t}}class Im extends $s{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class iu extends $s{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ov extends $s{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nE extends $s{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iE extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rP extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EA extends $s{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TA extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rE extends $s{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oE{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aE{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lE{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mt="primary";class cE{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bs(n){return new cE(n)}const uE="ngNavigationCancelingError";function av(n){const e=Error("NavigationCancelingError: "+n);return e[uE]=!0,e}function SA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Dm(n[r],e[r]))return!1;return!0}function Dm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Sm(n){return Array.prototype.concat.apply([],n)}function ws(n){return n.length>0?n[n.length-1]:null}function Ai(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xn(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,sn.D)(Promise.resolve(n)):et(n)}const Es={exact:function fE(n,e,t){if(!ya(n.segments,e.segments)||!_a(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!fE(n.children[i],e.children[i],t))return!1;return!0},subset:pE},lv={exact:function AA(n,e){return xo(n,e)},subset:function MA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Dm(n[t],e[t]))},ignored:()=>!0};function cv(n,e,t){return Es[t.paths](n.root,e.root,t.matrixParams)&&lv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function pE(n,e,t){return Am(n,e,e.segments,t)}function Am(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ya(r,t)||e.hasChildren()||!_a(r,t,i))}if(n.segments.length===t.length){if(!ya(n.segments,t)||!_a(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!pE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ya(n.segments,r)&&_a(n.segments,r,i)&&n.children[Mt])&&Am(n.children[Mt],e,o,i)}}function _a(n,e,t){return e.every((i,r)=>lv[t](n[r].parameters,i.parameters))}class xl{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bs(this.queryParams)),this._queryParamMap}toString(){return _E.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ai(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ru(this)}}class Sh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bs(this.parameters)),this._parameterMap}toString(){return hv(this)}}function ya(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class gE{}class uv{parse(e){const t=new FA(e);return new xl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${va(e.root,!0)}`,i=function xA(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${su(t)}=${su(r)}`).join("&"):`${su(t)}=${su(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function yE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _E=new uv;function ru(n){return n.segments.map(e=>hv(e)).join("/")}function va(n,e){if(!n.hasChildren())return ru(n);if(e){const t=n.children[Mt]?va(n.children[Mt],!1):"",i=[];return Ai(n.children,(r,o)=>{o!==Mt&&i.push(`${o}:${va(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Mm(n,e){let t=[];return Ai(n.children,(i,r)=>{r===Mt&&(t=t.concat(e(i,r)))}),Ai(n.children,(i,r)=>{r!==Mt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Mt?[va(n.children[Mt],!1)]:[`${r}:${va(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${ru(n)}/${t[0]}`:`${ru(n)}/(${t.join("//")})`}}function xm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(n){return xm(n).replace(/%3B/gi,";")}function km(n){return xm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ah(n){return decodeURIComponent(n)}function dv(n){return Ah(n.replace(/\+/g,"%20"))}function hv(n){return`${km(n.path)}${function vE(n){return Object.keys(n).map(e=>`;${km(e)}=${km(n[e])}`).join("")}(n.parameters)}`}const kA=/^[^\/()?;=#]+/;function Om(n){const e=n.match(kA);return e?e[0]:""}const OA=/^[^=?&#]+/,PA=/^[^&#]+/;class FA{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Mt]=new Lt(e,t)),i}parseSegment(){const e=Om(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Sh(Ah(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Om(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Om(this.remaining);r&&(i=r,this.capture(i))}e[Ah(t)]=Ah(i)}parseQueryParam(e){const t=function RA(n){const e=n.match(OA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function NA(n){const e=n.match(PA);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=dv(t),o=dv(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Om(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Mt);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[Mt]:new Lt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return pv(e,this._root).map(t=>t.value)}}function fv(n,e){if(n===e.value)return e;for(const t of e.children){const i=fv(n,t);if(i)return i}return null}function pv(n,e){if(n===e.value)return[e];for(const t of e.children){const i=pv(n,t);if(i.length)return i.unshift(e),i}return[]}class ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ou(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wE extends bE{constructor(e,t){super(e),this.snapshot=t,Rm(this,e)}toString(){return this.snapshot.toString()}}function CE(n,e){const t=function LA(n,e){const u=new Mh([],{},{},"",{},Mt,e,null,n.root,-1,{});return new mv("",new ko(u,[]))}(n,e),i=new Fr([new Sh("",{})]),r=new Fr({}),o=new Fr({}),u=new Fr({}),h=new Fr(""),m=new au(i,r,u,h,o,Mt,e,t.root);return m.snapshot=t.root,new wE(new ko(m,[]),t)}class au{constructor(e,t,i,r,o,u,h,m){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(e=>bs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(e=>bs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EE(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function TE(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Mh{constructor(e,t,i,r,o,u,h,m,v,T,D){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=T,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mv extends bE{constructor(e,t){super(t),this.url=e,Rm(this,t)}toString(){return gv(this._root)}}function Rm(n,e){e.value._routerState=n,e.children.forEach(t=>Rm(n,t))}function gv(n){const e=n.children.length>0?` { ${n.children.map(gv).join(", ")} } `:"";return`${n.value}${e}`}function Pm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xo(e.params,t.params)||n.params.next(t.params),function hE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Nm(n,e){const t=xo(n.params,e.params)&&function mE(n,e){return ya(n,e)&&n.every((t,i)=>xo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Nm(n.parent,e.parent))}function lu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function _v(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return lu(n,i,r);return lu(n,i)})}(n,e,t);return new ko(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>lu(n,h)),u}}const i=function DE(n){return new au(new Fr(n.url),new Fr(n.params),new Fr(n.queryParams),new Fr(n.fragment),new Fr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>lu(n,o));return new ko(i,r)}}function Fm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xh(n){return"object"==typeof n&&null!=n&&n.outlets}function ba(n,e,t,i,r){let o={};if(i&&Ai(i,(h,m)=>{o[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===e)return new xl(t,o,r);const u=BA(n,e,t);return new xl(u,o,r)}function BA(n,e,t){const i={};return Ai(n.children,(r,o)=>{i[o]=r===e?t:BA(r,e,t)}),new Lt(n.segments,i)}class Lm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Fm(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(xh);if(r&&r!==ws(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bm{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function AE(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Vm(n,e,t);const i=function VA(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],h=t[i];if(xh(h))break;const m=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Oh(m,v,u))return o;i+=2}else{if(!Oh(m,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Lt(n.segments.slice(0,i.pathIndex),{});return o.children[Mt]=new Lt(n.segments.slice(i.pathIndex),n.children),Vm(o,0,r)}return i.match&&0===r.length?new Lt(n.segments,{}):i.match&&!n.hasChildren()?cu(n,e,t):i.match?Vm(n,0,r):cu(n,e,t)}function Vm(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const i=function dt(n){return xh(n[0])?n[0].outlets:{[Mt]:n}}(t),r={};return Ai(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=AE(n.children[u],e,o))}),Ai(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Lt(n.segments,r)}}function cu(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(xh(o)){const m=UA(o.outlets);return new Lt(i,m)}if(0===r&&Fm(t[0])){i.push(new Sh(n.segments[e].path,kh(t[0]))),r++;continue}const u=xh(o)?o.outlets[Mt]:`${o}`,h=r<t.length-1?t[r+1]:null;u&&h&&Fm(h)?(i.push(new Sh(u,kh(h))),r+=2):(i.push(new Sh(u,{})),r++)}return new Lt(i,{})}function UA(n){const e={};return Ai(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=cu(new Lt([],{}),0,t))}),e}function kh(n){const e={};return Ai(n,(t,i)=>e[i]=`${t}`),e}function Oh(n,e,t){return n==t.path&&xo(e,t.parameters)}class lP{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Pm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ou(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Ai(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=ou(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=ou(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=ou(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new aE(o.value.snapshot))}),e.children.length&&this.forwardEvent(new IA(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(Pm(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Pm(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=function ME(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),m=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=m,u.outlet&&u.outlet.activateWith(r,m),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class yv{constructor(e,t){this.routes=e,this.module=t}}function wa(n){return"function"==typeof n}function Ca(n){return n instanceof xl}const Rh=Symbol("INITIAL_VALUE");function Oo(){return _n(n=>Th(n.map(e=>e.pipe((0,Sn.q)(1),$i(Rh)))).pipe(nu((e,t)=>{let i=!1;return t.reduce((r,o,u)=>r!==Rh?r:(o===Rh&&(i=!0),i||!1!==o&&u!==t.length-1&&!Ca(o)?r:o),e)},Rh),Hn(e=>e!==Rh),(0,Qe.U)(e=>Ca(e)?e:!0===e),(0,Sn.q)(1)))}class $A{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ph,this.attachRef=null}}class Ph{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $A,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vv=(()=>{class n{constructor(t,i,r,o,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=o||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,m=new Um(t,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ph),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Um{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===au?this.route:e===Ph?this.childContexts:this.parent.get(e,t)}}let bv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[vv],encapsulation:2}),n})();function wv(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];RE(i,zA(e,i))}}function RE(n,e){n.children&&wv(n.children,e)}function zA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ol(n){const e=n.children&&n.children.map(Ol),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=bv),t}function zi(n){return n.outlet||Mt}function PE(n,e){const t=n.filter(i=>zi(i)===e);return t.push(...n.filter(i=>zi(i)!==e)),t}const NE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jm(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},NE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||SA)(t,n,e);if(!o)return Object.assign({},NE);const u={};Ai(o.posParams,(m,v)=>{u[v]=m.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Nh(n,e,t,i,r="corrected"){if(t.length>0&&function GA(n,e,t){return t.some(i=>Hm(n,e,i)&&zi(i)!==Mt)}(n,t,i)){const u=new Lt(e,function LE(n,e,t,i){const r={};r[Mt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&zi(o)!==Mt){const u=new Lt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[zi(o)]=u}return r}(n,e,i,new Lt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function BE(n,e,t){return t.some(i=>Hm(n,e,i))}(n,t,i)){const u=new Lt(n.segments,function FE(n,e,t,i,r,o){const u={};for(const h of i)if(Hm(n,t,h)&&!r[zi(h)]){const m=new Lt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===o?n.segments.length:e.length,u[zi(h)]=m}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new Lt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Hm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function VE(n,e,t,i){return!!(zi(n)===i||i!==Mt&&Hm(e,t,n))&&("**"===n.path||jm(e,n,t).matched)}function qA(n,e,t){return 0===e.length&&!n.children[t]}class Cv{constructor(e){this.segmentGroup=e||null}}class WA{constructor(e){this.urlTree=e}}function $m(n){return eu(new Cv(n))}function Ev(n){return eu(new WA(n))}class UE{constructor(e,t,i,r,o){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Nh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Mt).pipe((0,Qe.U)(o=>this.createUrlTree(Tv(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yr(o=>{if(o instanceof WA)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Cv?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mt).pipe((0,Qe.U)(r=>this.createUrlTree(Tv(r),e.queryParams,e.fragment))).pipe(Yr(r=>{throw r instanceof Cv?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Lt([],{[Mt]:e}):e;return new xl(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Qe.U)(o=>new Lt([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,sn.D)(r).pipe(Hi(o=>{const u=i.children[o],h=PE(t,o);return this.expandSegmentGroup(e,h,u,o).pipe((0,Qe.U)(m=>({segment:m,outlet:o})))}),nu((o,u)=>(o[u.outlet]=u.segment,o),{}),function tE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Hn((r,o)=>n(r,o,i)):ma.y,Dh(1),t?wh(e):ZC(()=>new bh))}())}expandSegment(e,t,i,r,o,u){return(0,sn.D)(i).pipe(Hi(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,u).pipe(Yr(v=>{if(v instanceof Cv)return et(null);throw v}))),Ml(h=>!!h),Yr((h,m)=>{if(h instanceof bh||"EmptyError"===h.name)return qA(t,r,o)?et(new Lt([],{})):$m(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,u,h){return VE(r,t,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u):$m(t):$m(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ev(o):this.lineralizeSegments(i,o).pipe((0,jn.z)(u=>{const h=new Lt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:T}=jm(t,r,o);if(!h)return $m(t);const D=this.applyRedirectCommands(m,r.redirectTo,T);return r.redirectTo.startsWith("/")?Ev(D):this.lineralizeSegments(r,D).pipe((0,jn.z)(M=>this.expandSegment(e,t,i,M.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?et(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,Qe.U)(D=>(i._loadedConfig=D,new Lt(r,{})))):et(new Lt(r,{}));const{matched:u,consumedSegments:h,remainingSegments:m}=jm(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,jn.z)(T=>{const D=T.module,M=T.routes,{segmentGroup:k,slicedSegments:N}=Nh(t,h,m,M),Q=new Lt(k.segments,k.children);if(0===N.length&&Q.hasChildren())return this.expandChildren(D,M,Q).pipe((0,Qe.U)(ze=>new Lt(h,ze)));if(0===M.length&&0===N.length)return et(new Lt(h,{}));const he=zi(i)===o;return this.expandSegment(D,Q,M,N,he?Mt:o,!0).pipe((0,Qe.U)(He=>new Lt(h.concat(He.segments),He.children)))})):$m(t)}getChildConfig(e,t,i){return t.children?et(new yv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,jn.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,Qe.U)(o=>(t._loadedConfig=o,o))):function ZA(n){return eu(av(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):et(new yv([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?et(r.map(u=>{const h=e.get(u);let m;if(function kE(n){return n&&wa(n.canLoad)}(h))m=h.canLoad(t,i);else{if(!wa(h))throw new Error("Invalid CanLoad guard");m=h(t,i)}return Xn(m)})).pipe(Oo(),Dn(u=>{if(!Ca(u))return;const h=av(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,Qe.U)(u=>!0===u)):et(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[Mt])return eu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Mt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new xl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ai(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return Ai(t.children,(h,m)=>{u[m]=this.createSegmentGroup(e,h,i,r)}),new Lt(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Tv(n){const e={};for(const i of Object.keys(n.children)){const o=Tv(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Fh(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}class jE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gm{constructor(e,t){this.component=e,this.route=t}}function QA(n,e,t){const i=n._root;return zs(i,e?e._root:null,t,[i.value])}function qm(n,e,t){const i=function JA(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function zs(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ou(e);return n.children.forEach(u=>{(function XA(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function $E(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ya(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ya(n.url,e.url)||!xo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nm(n,e)||!xo(n.queryParams,e.queryParams);default:return!Nm(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new jE(i)):(o.data=u.data,o._resolvedData=u._resolvedData),zs(n,e,o.component?h?h.children:null:t,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Gm(h.outlet.component,u))}else u&&Lh(e,h,r),r.canActivateChecks.push(new jE(i)),zs(n,null,o.component?h?h.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),Ai(o,(u,h)=>Lh(u,t.getContext(h),r)),r}function Lh(n,e,t){const i=ou(n),r=n.value;Ai(i,(o,u)=>{Lh(o,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Gm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class iM{}function ZE(n){return new Vn.y(e=>e.error(n))}class Dv{constructor(e,t,i,r,o,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const e=Nh(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mt);if(null===t)return null;const i=new Mh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ko(i,t),o=new mv(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,i=EE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const o of Object.keys(t.children)){const u=t.children[o],h=PE(e,o),m=this.processSegmentGroup(h,u,o);if(null===m)return null;i.push(...m)}const r=KE(i);return function sM(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const o of e){const u=this.processSegmentAgainstRoute(o,t,i,r);if(null!==u)return u}return qA(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!VE(e,t,i,r))return null;let o,u=[],h=[];if("**"===e.path){const k=i.length>0?ws(i).parameters:{};o=new Mh(i,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,XE(e),zi(e),e.component,e,QE(t),JE(t)+i.length,eT(e))}else{const k=jm(t,e,i);if(!k.matched)return null;u=k.consumedSegments,h=k.remainingSegments,o=new Mh(u,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,XE(e),zi(e),e.component,e,QE(t),JE(t)+u.length,eT(e))}const m=function YE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:T}=Nh(t,u,h,m.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);if(0===T.length&&v.hasChildren()){const k=this.processChildren(m,v);return null===k?null:[new ko(o,k)]}if(0===m.length&&0===T.length)return[new ko(o,[])];const D=zi(e)===r,M=this.processSegment(m,v,T,D?Mt:r);return null===M?null:[new ko(o,M)]}}function oM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function KE(n){const e=[],t=new Set;for(const i of n){if(!oM(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=KE(i.children);e.push(new ko(i.value,r))}return e.filter(i=>!t.has(i))}function QE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function JE(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function XE(n){return n.data||{}}function eT(n){return n.resolve||{}}function iT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sv(n){return _n(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,Qe.U)(()=>e)):et(e)})}class Av extends class uM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Bh=new l.OlP("ROUTES");class Mv{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,Qe.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=o.create(e);return new yv(Sm(u.injector.get(Bh,void 0,l.XFs.Self|l.XFs.Optional)).map(Ol),u)}),Yr(o=>{throw t._loader$=void 0,o}));return t._loader$=new XC(r,()=>new St.x).pipe(Tm()),t._loader$}loadModuleFactory(e){return Xn(e()).pipe((0,jn.z)(t=>t instanceof l.YKP?et(t):(0,sn.D)(this.compiler.compileModuleAsync(t))))}}class dM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hM(n){throw n}function kv(n,e,t){return e.parse("/")}function sT(n,e){return et(null)}const oT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{class n{constructor(t,i,r,o,u,h,m){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.x,this.errorHandler=hM,this.malformedUriErrorHandler=kv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sT,afterPreactivation:sT},this.urlHandlingStrategy=new dM,this.routeReuseStrategy=new Av,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const D=u.get(l.R0b);this.isNgZoneEnabled=D instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function Cs(){return new xl(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mv(u,h,M=>this.triggerEvent(new sE(M)),M=>this.triggerEvent(new Gn(M))),this.routerState=CE(this.currentUrlTree,this.rootComponentType),this.transitions=new Fr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Hn(r=>0!==r.id),(0,Qe.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),_n(r=>{let o=!1,u=!1;return et(r).pipe(Dn(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_n(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ov(h.source)&&(this.browserUrlTree=h.extractedUrl),et(h).pipe(_n(D=>{const M=this.transitions.getValue();return i.next(new Im(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions.getValue()?Hs.E:Promise.resolve(D)}),function KA(n,e,t,i){return _n(r=>function YA(n,e,t,i,r){return new UE(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Qe.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Dn(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function aM(n,e,t,i,r){return(0,jn.z)(o=>function rM(n,e,t,i,r="emptyOnly",o="legacy"){try{const u=new Dv(n,e,t,i,r,o).recognize();return null===u?ZE(new iM):et(u)}catch(u){return ZE(u)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),i,r).pipe((0,Qe.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),Dn(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(k,D)}this.browserUrlTree=D.urlAfterRedirects}const M=new iE(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(M)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:k,source:N,restoredState:Q,extras:he}=h,Re=new Im(M,this.serializeUrl(k),N,Q);i.next(Re);const He=CE(k,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},h),{targetSnapshot:He,urlAfterRedirects:k,extras:Object.assign(Object.assign({},he),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Hs.E}),Sv(h=>{const{targetSnapshot:m,id:v,extractedUrl:T,rawUrl:D,extras:{skipLocationChange:M,replaceUrl:k}}=h;return this.hooks.beforePreactivation(m,{navigationId:v,appliedUrlTree:T,rawUrlTree:D,skipLocationChange:!!M,replaceUrl:!!k})}),Dn(h=>{const m=new rP(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,Qe.U)(h=>Object.assign(Object.assign({},h),{guards:QA(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function zE(n,e){return(0,jn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function eM(n,e,t,i){return(0,sn.D)(n).pipe((0,jn.z)(r=>function WE(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?et(o.map(h=>{const m=qm(h,e,r);let v;if(function HA(n){return n&&wa(n.canDeactivate)}(m))v=Xn(m.canDeactivate(n,e,t,i));else{if(!wa(m))throw new Error("Invalid CanDeactivate guard");v=Xn(m(n,e,t,i))}return v.pipe(Ml())})).pipe(Oo()):et(!0)}(r.component,r.route,t,e,i)),Ml(r=>!0!==r,!0))}(u,i,r,n).pipe((0,jn.z)(h=>h&&function xE(n){return"boolean"==typeof n}(h)?function GE(n,e,t,i){return(0,sn.D)(e).pipe(Hi(r=>Em(function Iv(n,e){return null!==n&&e&&e(new oE(n)),et(!0)}(r.route.parent,i),function tM(n,e){return null!==n&&e&&e(new DA(n)),et(!0)}(r.route,i),function qE(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function HE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Ih(()=>et(u.guards.map(m=>{const v=qm(m,u.node,t);let T;if(function jA(n){return n&&wa(n.canActivateChild)}(v))T=Xn(v.canActivateChild(i,n));else{if(!wa(v))throw new Error("Invalid CanActivateChild guard");T=Xn(v(i,n))}return T.pipe(Ml())})).pipe(Oo())));return et(o).pipe(Oo())}(n,r.path,t),function nM(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(o=>Ih(()=>{const u=qm(o,e,t);let h;if(function OE(n){return n&&wa(n.canActivate)}(u))h=Xn(u.canActivate(e,n));else{if(!wa(u))throw new Error("Invalid CanActivate guard");h=Xn(u(e,n))}return h.pipe(Ml())}));return et(r).pipe(Oo())}(n,r.route,t))),Ml(r=>!0!==r,!0))}(i,o,n,e):et(h)),(0,Qe.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),Dn(h=>{if(Ca(h.guardsResult)){const v=av(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const m=new EA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),Hn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Sv(h=>{if(h.guards.canActivateChecks.length)return et(h).pipe(Dn(m=>{const v=new TA(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),_n(m=>{let v=!1;return et(m).pipe(function tT(n,e){return(0,jn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return et(t);let o=0;return(0,sn.D)(r).pipe(Hi(u=>function nT(n,e,t,i){return function lM(n,e,t,i){const r=iT(n);if(0===r.length)return et({});const o={};return(0,sn.D)(r).pipe((0,jn.z)(u=>function rT(n,e,t,i){const r=qm(n,e,i);return Xn(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe(Dn(h=>{o[u]=h}))),Dh(1),(0,jn.z)(()=>iT(o).length===r.length?et(o):Hs.E))}(n._resolve,n,e,i).pipe((0,Qe.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),EE(n,t).resolve),null)))}(u.route,i,n,e)),Dn(()=>o++),Dh(1),(0,jn.z)(u=>o===r.length?et(t):Hs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Dn({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),Dn(m=>{const v=new rE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),Sv(h=>{const{targetSnapshot:m,id:v,extractedUrl:T,rawUrl:D,extras:{skipLocationChange:M,replaceUrl:k}}=h;return this.hooks.afterPreactivation(m,{navigationId:v,appliedUrlTree:T,rawUrlTree:D,skipLocationChange:!!M,replaceUrl:!!k})}),(0,Qe.U)(h=>{const m=function IE(n,e,t){const i=lu(n,e._root,t?t._root:void 0);return new wE(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:m})}),Dn(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Qe.U)(i=>(new lP(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),Dn({next(){o=!0},complete(){o=!0}}),sv(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Yr(h=>{if(u=!0,function dE(n){return n&&n[uE]}(h)){const m=Ca(h.url);m||(this.navigated=!0,this.restoreHistory(r,!0));const v=new ov(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(v),m?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ov(r.source)};this.scheduleNavigation(T,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new nE(r.id,this.serializeUrl(r.extractedUrl),h);i.next(m);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return Hs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const m=Object.assign({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wv(t),this.config=t.map(Ol),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,v=r||this.routerState.root,T=m?this.currentUrlTree.fragment:u;let D=null;switch(h){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}return null!==D&&(D=this.removeEmptyProps(D)),function kl(n,e,t,i,r){if(0===t.length)return ba(e.root,e.root,e.root,i,r);const o=function oP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Lm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Ai(o.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Lm(t,e,i)}(t);if(o.toRoot())return ba(e.root,e.root,new Lt([],{}),i,r);const u=function SE(n,e,t){if(n.isAbsolute)return new Bm(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new Bm(o,o===e.root,0)}const i=Fm(n.commands[0])?0:1;return function aP(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Bm(i,!1,r-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,e,n),h=u.processChildren?Vm(u.segmentGroup,u.index,o.commands):AE(u.segmentGroup,u.index,o.commands);return ba(e.root,u.segmentGroup,h,i,r)}(v,this.currentUrlTree,t,D,null!=T?T:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ca(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function pM(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},oT):!1===i?Object.assign({},fM):i,Ca(t))return cv(this.currentUrlTree,t,r);const o=this.parseUrl(t);return cv(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new iu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,u){var h,m;if(this.disposed)return Promise.resolve(!1);let v,T,D;u?(v=u.resolve,T=u.reject,D=u.promise):D=new Promise((N,Q)=>{v=N,T=Q});const M=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),k=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):k=0,this.setTransition({id:M,targetPageId:k,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:v,reject:T,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(N=>Promise.reject(N))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new ov(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ov(n){return"imperative"!==n}let Rv=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new St.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ro(this.skipLocationChange),replaceUrl:Ro(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ro(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hi),l.Y36(au),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Wm=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new St.x,this.subscription=t.events.subscribe(o=>{o instanceof iu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,u){if(0!==t||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Ro(this.skipLocationChange),replaceUrl:Ro(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ro(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hi),l.Y36(au),l.Y36(re))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Ro(n){return""===n||!!n}class du{}class _M{preload(e,t){return et(null)}}let Pv=(()=>{class n{constructor(t,i,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new Mv(r,i,m=>t.triggerEvent(new sE(m)),m=>t.triggerEvent(new Gn(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(t=>t instanceof iu),Hi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children));return(0,sn.D)(r).pipe((0,tu.J)(),(0,Qe.U)(o=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?et(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,jn.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hi),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(du))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Nv=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Im?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof iu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new lE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Rl=new l.OlP("ROUTER_CONFIGURATION"),aT=new l.OlP("ROUTER_FORROOT_GUARD"),lT=[Te,{provide:gE,useClass:uv},{provide:hi,useFactory:function uT(n,e,t,i,r,o,u={},h,m){const v=new hi(null,n,e,t,i,r,Sm(o));return h&&(v.urlHandlingStrategy=h),m&&(v.routeReuseStrategy=m),function vM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(T=>{var D,M;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(M=console.groupEnd)||void 0===M||M.call(console)}),v},deps:[gE,Ph,Te,l.zs3,l.Sil,Bh,Rl,[class xv{},new l.FiY],[class cM{},new l.FiY]]},Ph,{provide:au,useFactory:function bM(n){return n.routerState.root},deps:[hi]},Pv,_M,class gM{preload(e,t){return t().pipe(Yr(()=>et(null)))}},{provide:Rl,useValue:{enableTracing:!1}}];function cT(){return new l.PXZ("Router",hi)}let Zm=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[lT,Fv(t),{provide:aT,useFactory:yM,deps:[[hi,new l.FiY,new l.tp0]]},{provide:Rl,useValue:i||{}},{provide:re,useFactory:Vh,deps:[pe,[new l.tBr(qe),new l.FiY],Rl]},{provide:Nv,useFactory:Ym,deps:[hi,lc,Rl]},{provide:du,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:_M},{provide:l.PXZ,multi:!0,useFactory:cT},[Uh,{provide:l.ip1,multi:!0,useFactory:wM,deps:[Uh]},{provide:dT,useFactory:dP,deps:[Uh]},{provide:l.tb,multi:!0,useExisting:dT}]]}}static forChild(t){return{ngModule:n,providers:[Fv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(aT,8),l.LFG(hi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Ym(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Nv(n,e,t)}function Vh(n,e,t={}){return t.useHash?new Me(n,e):new We(n,e)}function yM(n){return"guarded"}function Fv(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Bh,multi:!0,useValue:n}]}let Uh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new St.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(hi),u=this.injector.get(Rl);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Rl),r=this.injector.get(Pv),o=this.injector.get(Nv),u=this.injector.get(hi),h=this.injector.get(l.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function wM(n){return n.appInitializer.bind(n)}function dP(n){return n.bootstrapListener.bind(n)}const dT=new l.OlP("Router Initializer");var Xe,hT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},br={},Km=Km||{},wt=hT||self;function Lv(){}function Qm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hh="closure_uid_"+(1e9*Math.random()>>>0),EM=0;function pT(n,e,t){return n.call.apply(n.bind,arguments)}function mT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Mi(n,e,t){return(Mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pT:mT).apply(null,arguments)}function Xm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function Ea(){this.s=this.s,this.o=this.o}var IM={};Ea.prototype.s=!1,Ea.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function fT(n){return Object.prototype.hasOwnProperty.call(n,Hh)&&n[Hh]||(n[Hh]=++EM)}(this);delete IM[n]}},Ea.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},hu=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&e.call(t,r[o],o,n)};function Bv(n){return Array.prototype.concat.apply([],arguments)}function eg(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function $h(n){return/^[\s\xa0]*$/.test(n)}var qi,Vv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gi(n,e){return-1!=n.indexOf(e)}function Uv(n,e){return n<e?-1:n>e?1:0}e:{var yT=wt.navigator;if(yT){var vT=yT.userAgent;if(vT){qi=vT;break e}}qi=""}function jv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function bT(n){const e={};for(const t in n)e[t]=n[t];return e}var fu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wT(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<fu.length;o++)t=fu[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function zh(n){return zh[" "](n),n}zh[" "]=Lv;var Pl,n,DM=Gi(qi,"Opera"),Po=Gi(qi,"Trident")||Gi(qi,"MSIE"),pu=Gi(qi,"Edge"),Hv=pu||Po,CT=Gi(qi,"Gecko")&&!(Gi(qi.toLowerCase(),"webkit")&&!Gi(qi,"Edge"))&&!(Gi(qi,"Trident")||Gi(qi,"MSIE"))&&!Gi(qi,"Edge"),SM=Gi(qi.toLowerCase(),"webkit")&&!Gi(qi,"Edge");function Gh(){var n=wt.document;return n?n.documentMode:void 0}e:{var $v="",zv=(n=qi,CT?/rv:([^\);]+)(\)|;)/.exec(n):pu?/Edge\/([\d\.]+)/.exec(n):Po?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):SM?/WebKit\/(\S+)/.exec(n):DM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zv&&($v=zv?zv[1]:""),Po){var tg=Gh();if(null!=tg&&tg>parseFloat($v)){Pl=String(tg);break e}}Pl=$v}var ET={};var AM=wt.document&&Po&&(Gh()||parseInt(Pl,10))||void 0,hP=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{wt.addEventListener("test",Lv,e),wt.removeEventListener("test",Lv,e)}catch(t){}return n}();function fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Nl(n,e){if(fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CT){e:{try{zh(e.nodeName);var r=!0;break e}catch(o){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:IT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nl.Z.h.call(this)}}fi.prototype.h=function(){this.defaultPrevented=!0},xi(Nl,fi);var IT={2:"touch",3:"pen",4:"mouse"};Nl.prototype.h=function(){Nl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fl="closure_listenable_"+(1e6*Math.random()|0),qv=0;function MM(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++qv,this.ca=this.fa=!1}function ig(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function rg(n){this.src=n,this.g={},this.h=0}function Wv(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=gT(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ig(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sg(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==i)return r}return-1}rg.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=sg(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new MM(e,this.src,o,!!i,r)).fa=t,n.push(e)),e};var qh="closure_lm_"+(1e6*Math.random()|0),og={};function Zv(n,e,t,i,r){if(i&&i.once)return ST(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zv(n,e[o],t,i,r);return null}return t=Ta(t),n&&n[Fl]?n.N(e,t,Jm(i)?!!i.capture:!!i,r):Yv(n,e,t,!1,i,r)}function Yv(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=Jm(r)?!!r.capture:!!r,h=lg(n);if(h||(n[qh]=h=new rg(n)),(t=h.add(e,t,i,u,o)).proxy)return t;if(i=function DT(){var e=MT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)hP||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(AT(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ST(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ST(n,e[o],t,i,r);return null}return t=Ta(t),n&&n[Fl]?n.O(e,t,Jm(i)?!!i.capture:!!i,r):Yv(n,e,t,!0,i,r)}function Kv(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)Kv(n,e[o],t,i,r);else i=Jm(i)?!!i.capture:!!i,t=Ta(t),n&&n[Fl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sg(o=n.g[e],t,i,r))&&(ig(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=lg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sg(e,t,i,r)),(t=-1<n?e[n]:null)&&ag(t))}function ag(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Fl])Wv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(AT(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=lg(e))?(Wv(t,n),0==t.h&&(t.src=null,e[qh]=null)):ig(n)}}}function AT(n){return n in og?og[n]:og[n]="on"+n}function MT(n,e){if(n.ca)n=!0;else{e=new Nl(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&ag(n),n=t.call(i,e)}return n}function lg(n){return(n=n[qh])instanceof rg?n:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(n){return"function"==typeof n?n:(n[ki]||(n[ki]=function(e){return n.handleEvent(e)}),n[ki])}function pi(){Ea.call(this),this.i=new rg(this),this.P=this,this.I=null}function Oi(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new fi(e,n);else if(e instanceof fi)e.target=e.target||n;else{var r=e;wT(e=new fi(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=Qv(u,i,!0,e)&&r}if(r=Qv(u=e.g=n,i,!0,e)&&r,r=Qv(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Qv(u=e.g=t[o],i,!1,e)&&r}function Qv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.ca&&u.capture==t){var h=u.listener,m=u.ia||u.src;u.fa&&Wv(n.i,u),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}xi(pi,Ea),pi.prototype[Fl]=!0,pi.prototype.removeEventListener=function(n,e,t,i){Kv(this,n,e,t,i)},pi.prototype.M=function(){if(pi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ig(t[i]);delete n.g[e],n.h--}}this.I=null},pi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},pi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ll=wt.JSON.stringify;function xM(){var n=Zh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wh,xT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kT,n=>n.reset());class kT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kM(n){wt.setTimeout(()=>{throw n},0)}function Xv(n,e){Wh||function OT(){var n=wt.Promise.resolve(void 0);Wh=function(){n.then(eb)}}(),cg||(Wh(),cg=!0),Zh.add(n,e)}var cg=!1,Zh=new class Jv{constructor(){this.h=this.g=null}add(e,t){const i=xT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function eb(){for(var n;n=xM();){try{n.h.call(n.g)}catch(t){kM(t)}var e=xT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cg=!1}function tb(n,e){pi.call(this),this.h=n||1,this.g=e||wt,this.j=Mi(this.kb,this),this.l=Date.now()}function ug(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function nb(n,e,t){if("function"==typeof n)t&&(n=Mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:wt.setTimeout(n,e||0)}function ib(n){n.g=nb(()=>{n.g=null,n.i&&(n.i=!1,ib(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xi(tb,pi),(Xe=tb.prototype).da=!1,Xe.S=null,Xe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oi(this,"tick"),this.da&&(ug(this),this.start()))}},Xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.M=function(){tb.Z.M.call(this),ug(this),delete this.g};class dg extends Ea{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ib(this)}M(){super.M(),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mu(n){Ea.call(this),this.h=n,this.g={}}xi(mu,Ea);var RT=[];function hg(n,e,t,i){Array.isArray(t)||(t&&(RT[0]=t.toString()),t=RT);for(var r=0;r<t.length;r++){var o=Zv(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function fg(n){jv(n.g,function(e,t){this.g.hasOwnProperty(t)&&ag(e)},n),n.g={}}function rb(){this.g=!0}function Bl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function PM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Ll(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}mu.prototype.M=function(){mu.Z.M.call(this),fg(this)},mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rb.prototype.Aa=function(){this.g=!1},rb.prototype.info=function(){};var Ia={},sb=null;function pg(){return sb=sb||new pi}function NT(n){fi.call(this,Ia.Ma,n)}function gu(n){const e=pg();Oi(e,new NT(e,n))}function FT(n,e){fi.call(this,Ia.STAT_EVENT,n),this.stat=e}function Wi(n){const e=pg();Oi(e,new FT(e,n))}function ob(n,e){fi.call(this,Ia.Na,n),this.size=e}function _u(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){n()},e)}Ia.Ma="serverreachability",xi(NT,fi),Ia.STAT_EVENT="statevent",xi(FT,fi),Ia.Na="timingevent",xi(ob,fi);var Yh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},LT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ab(){}function lb(){}ab.prototype.h=null;var UT,mg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function BT(){fi.call(this,"d")}function VT(){fi.call(this,"c")}function cb(){}function gg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new mu(this),this.P=fP,this.W=new tb(n=Hv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FM}function FM(){this.i=null,this.g="",this.h=!1}xi(BT,fi),xi(VT,fi),xi(cb,ab),cb.prototype.g=function(){return new XMLHttpRequest},cb.prototype.i=function(){return{}},UT=new cb;var fP=45e3,yu={},ub={};function _g(n,e,t){n.K=1,n.v=wg(No(e)),n.s=t,n.U=!0,yg(n,null)}function yg(n,e){n.F=Date.now(),Vl(n),n.A=No(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),vb(t.h,"t",i),n.C=0,t=n.l.H,n.h=new FM,n.g=tI(n.l,t?e:null,!n.s),0<n.O&&(n.L=new dg(Mi(n.Ia,n,n.g),n.O)),hg(n.V,n.g,"readystatechange",n.gb),e=n.H?bT(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),gu(1),function OM(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var T=v[0];v=v[1];var D=T.split("_");u=2<=D.length&&"type"==D[1]?u+(T+"=")+v+"&":u+(T+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function db(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function hb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=pP(n,t),r==ub){4==e&&(n.o=4,Wi(14),i=!1),Bl(n.j,n.m,null,"[Incomplete Response]");break}if(r==yu){n.o=4,Wi(15),Bl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Bl(n.j,n.m,r,null),pb(n,r)}db(n)&&r!=ub&&r!=yu&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Mb(e),e.L=!0,Wi(11))):(Bl(n.j,n.m,t,"[Invalid Chunked Response]"),bu(n),vu(n))}function pP(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?ub:(t=Number(e.substring(t,i)),isNaN(t)?yu:(i+=1)+t>e.length?ub:(e=e.substr(i,t),n.C=i+t,e))}function Vl(n){n.Y=Date.now()+n.P,fb(n,n.P)}function fb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_u(Mi(n.eb,n),e)}function vg(n){n.B&&(wt.clearTimeout(n.B),n.B=null)}function vu(n){0==n.l.G||n.I||XT(n.l,n)}function bu(n){vg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ug(n.W),fg(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function pb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wb(t.i,n)))if(t.I=n.N,!n.J&&wb(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=_u(Mi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Mg(t),Su(t)}Ag(t),Wi(18)}if(1>=qT(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else Sa(t,11)}else if((n.J||t.g==n)&&Mg(t),!$h(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const T=v[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const D=v[4];null!=D&&(t.za=D,t.h.info("SVER="+t.za));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.K=i=1.5*M,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const k=n.g;if(k){const N=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var o=i.i;!o.g&&(Gi(N,"spdy")||Gi(N,"quic")||Gi(N,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(WT(o,o.h),o.h=null))}if(i.D){const Q=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,jt(i.F,i.D,Q))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=eI(i,i.H?i.la:null,i.W),u.J){Cg(i.i,u);var h=u,m=i.K;m&&h.setTimeout(m),h.B&&(vg(h),Vl(h)),i.g=u}else nx(i);0<t.l.length&&Au(t)}else"stop"!=v[0]&&"close"!=v[0]||Sa(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Sa(t,7):tf(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}gu(4)}catch(v){}}function Kh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qm(n)||"string"==typeof n)hu(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Qm(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function LM(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Qm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}}function wu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof wu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function jT(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Cu(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Cu(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Cu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Xe=gg.prototype).setTimeout=function(n){this.P=n},Xe.gb=function(n){n=n.target;const e=this.L;e&&3==Kr(n)?e.l():this.Ia(n)},Xe.Ia=function(n){try{if(n==this.g)e:{const T=Kr(this.g);var e=this.g.Da();const D=this.g.ba();if(!(3>T)&&(3!=T||Hv||this.g&&(this.h.h||this.g.ga()||KT(this.g)))){this.I||4!=T||7==e||gu(8==e||0>=D?3:2),vg(this);var t=this.g.ba();this.N=t;t:if(db(this)){var i=KT(this.g);n="";var r=i.length,o=4==Kr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bu(this),vu(this);var u="";break t}this.h.i=new wt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function RM(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$h(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Wi(12),bu(this),vu(this);break e}Bl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pb(this,t)}this.U?(hb(this,T,u),Hv&&this.i&&3==T&&(hg(this.V,this.W,"tick",this.fb),this.W.start())):(Bl(this.j,this.m,u,null),pb(this,u)),4==T&&bu(this),this.i&&!this.I&&(4==T?XT(this.l,this):(this.i=!1,Vl(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Wi(12)):(this.o=0,Wi(13)),bu(this),vu(this)}}}catch(T){}},Xe.fb=function(){if(this.g){var n=Kr(this.g),e=this.g.ga();this.C<e.length&&(vg(this),hb(this,n,e),this.i&&4!=n&&Vl(this))}},Xe.cancel=function(){this.I=!0,bu(this)},Xe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gu(3),Wi(17)),bu(this),this.o=2,vu(this)):fb(this,this.Y-n)},(Xe=wu.prototype).R=function(){jT(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Xe.T=function(){return jT(this),this.g.concat()},Xe.get=function(n,e){return Cu(this.h,n)?this.h[n]:e},Xe.set=function(n,e){Cu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Xe.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],o=this.get(r);n.call(e,o,r,this)}};var BM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ul(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ul){this.g=void 0!==e?e:n.g,mb(this,n.j),this.s=n.s,bg(this,n.i),Eu(this,n.m),this.l=n.l,e=n.h;var t=new Jh;t.i=e.i,e.g&&(t.g=new wu(e.g),t.h=e.h),HT(this,t),this.o=n.o}else n&&(t=String(n).match(BM))?(this.g=!!e,mb(this,t[1]||"",!0),this.s=Qh(t[2]||""),bg(this,t[3]||"",!0),Eu(this,t[4]),this.l=Qh(t[5]||"",!0),HT(this,t[6]||"",!0),this.o=Qh(t[7]||"")):(this.g=!!e,this.h=new Jh(null,this.g))}function No(n){return new Ul(n)}function mb(n,e,t){n.j=t?Qh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bg(n,e,t){n.i=t?Qh(e,!0):e}function Eu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HT(n,e,t){e instanceof Jh?(n.h=e,function mP(n,e){e&&!n.j&&(qs(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Da(this,i),vb(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=jl(e,HM)),n.h=new Jh(e,n.g))}function jt(n,e,t){n.h.set(e,t)}function wg(n){return jt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$T),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $T(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ul.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jl(e,_b,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jl(e,_b,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(jl(t,"/"==t.charAt(0)?zT:jM,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jl(t,$M)),n.join("")};var _b=/[#\/\?@]/g,jM=/[#\?:]/g,zT=/[#\?]/g,HM=/[#\?@]/g,$M=/#/g;function Jh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qs(n){n.g||(n.g=new wu,n.h=0,n.i&&function VM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Da(n,e){qs(n),e=Tu(n,e),Cu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&jT(n)))}function yb(n,e){return qs(n),e=Tu(n,e),Cu(n.g.h,e)}function vb(n,e,t){Da(n,e),0<t.length&&(n.i=null,n.g.set(Tu(n,e),eg(t)),n.h+=t.length)}function Tu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function GT(n){this.l=n||GM,n=wt.PerformanceNavigationTiming?0<(n=wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(wt.g&&wt.g.Ea&&wt.g.Ea()&&wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=Jh.prototype).add=function(n,e){qs(this),this.i=null,n=Tu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){qs(this),this.g.forEach(function(t,i){hu(t,function(r){n.call(e,r,i,this)},this)},this)},Xe.T=function(){qs(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],o=0;o<r.length;o++)t.push(e[i]);return t},Xe.R=function(n){qs(this);var e=[];if("string"==typeof n)yb(this,n)&&(e=Bv(e,this.g.get(Tu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Bv(e,n[t])}return e},Xe.set=function(n,e){return qs(this),this.i=null,yb(this,n=Tu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var GM=10;function bb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qT(n){return n.h?1:n.g?n.g.size:0}function wb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function WT(n,e){n.g?n.g.add(e):n.h=e}function Cg(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Cb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return eg(n.i)}function Eb(){}function qM(){this.g=new Eb}function ZT(n,e,t){const i=t||"";try{Kh(n,function(r,o){let u=r;Jm(r)&&(u=Ll(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Iu(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function Du(n){this.l=n.$b||null,this.j=n.ib||!1}function Eg(n,e){pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GT.prototype.cancel=function(){if(this.i=Cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Eb.prototype.stringify=function(n){return wt.JSON.stringify(n,void 0)},Eb.prototype.parse=function(n){return wt.JSON.parse(n,void 0)},xi(Du,ab),Du.prototype.g=function(){return new Eg(this.l,this.j)},Du.prototype.i=function(n){return function(){return n}}({}),xi(Eg,pi);var Tg=0;function Ib(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ef(n)}function ef(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=Eg.prototype).open=function(n,e){if(this.readyState!=Tg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ef(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=Tg},Xe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ib(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Xe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xh(this):ef(this),3==this.readyState&&Ib(this)}},Xe.Ua=function(n){this.g&&(this.response=this.responseText=n,Xh(this))},Xe.Ta=function(n){this.g&&(this.response=n,Xh(this))},Xe.ha=function(){this.g&&Xh(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Eg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gP=wt.JSON.parse;function ei(n){pi.call(this),this.headers=new wu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Db,this.K=this.L=!1}xi(ei,pi);var Db="",WM=/^https?$/i,ZM=["POST","PUT"];function _P(n){return"content-type"==n.toLowerCase()}function KM(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,QM(n),Sb(n)}function QM(n){n.D||(n.D=!0,Oi(n,"complete"),Oi(n,"error"))}function JM(n){if(n.h&&void 0!==Km&&(!n.C[1]||4!=Kr(n)||2!=n.ba()))if(n.v&&4==Kr(n))nb(n.Fa,0,n);else if(Oi(n,"readystatechange"),4==Kr(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(BM)[1]||null;if(!r&&wt.self&&wt.self.location){var o=wt.self.location.protocol;r=o.substr(0,o.length-1)}i=!WM.test(r?r.toLowerCase():"")}t=i}if(t)Oi(n,"complete"),Oi(n,"success");else{n.m=6;try{var u=2<Kr(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.ba()+"]",QM(n)}}finally{Sb(n)}}}function Sb(n,e){if(n.g){YT(n);const t=n.g,i=n.C[0]?Lv:null;n.g=null,n.C=null,e||Oi(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function YT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(wt.clearTimeout(n.A),n.A=null)}function Kr(n){return n.g?n.g.readyState:0}function KT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Db:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ig(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function XM(n){let e="";return jv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jt(n,e,t))}function Ts(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ab(n){this.za=0,this.l=[],this.h=new rb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ts("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ts("baseRetryDelayMs",5e3,n),this.$a=Ts("retryDelaySeedMs",1e4,n),this.Ya=Ts("forwardChannelMaxRetries",2,n),this.ra=Ts("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new GT(n&&n.concurrentRequestLimit),this.Ca=new qM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function tf(n){if(QT(n),3==n.G){var e=n.V++,t=No(n.F);jt(t,"SID",n.J),jt(t,"RID",e),jt(t,"TYPE","terminate"),Sg(n,t),(e=new gg(n,n.h,e,void 0)).K=2,e.v=wg(No(t)),t=!1,wt.navigator&&wt.navigator.sendBeacon&&(t=wt.navigator.sendBeacon(e.v.toString(),"")),!t&&wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=tI(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vl(e)}kb(n)}function Su(n){n.g&&(Mb(n),n.g.cancel(),n.g=null)}function QT(n){Su(n),n.u&&(wt.clearTimeout(n.u),n.u=null),Mg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&wt.clearTimeout(n.m),n.m=null)}function nf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Au(n)}function Au(n){bb(n.i)||n.m||(n.m=!0,Xv(n.Ha,n),n.C=0)}function ex(n,e){var t;t=e?e.m:n.V++;const i=No(n.F);jt(i,"SID",n.J),jt(i,"RID",t),jt(i,"AID",n.U),Sg(n,i),n.o&&n.s&&Ig(i,n.o,n.s),t=new gg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=tx(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),WT(n.i,t),_g(t,i,e)}function Sg(n,e){n.j&&Kh({},function(t,i){jt(e,i,t)})}function tx(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Mi(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let m=0;m<t;m++){let v=r[m].h;const T=r[m].g;if(v-=o,0>v)o=Math.max(0,r[m].h-100),h=!1;else try{ZT(T,u,"req"+v+"_")}catch(D){i&&i(T)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function nx(n){n.g||n.u||(n.Y=1,Xv(n.Ga,n),n.A=0)}function Ag(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=_u(Mi(n.Ga,n),xb(n,n.A)),n.A++,0))}function Mb(n){null!=n.B&&(wt.clearTimeout(n.B),n.B=null)}function JT(n){n.g=new gg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=No(n.oa);jt(e,"RID","rpc"),jt(e,"SID",n.J),jt(e,"CI",n.N?"0":"1"),jt(e,"AID",n.U),Sg(n,e),jt(e,"TYPE","xmlhttp"),n.o&&n.s&&Ig(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=wg(No(e)),t.s=null,t.U=!0,yg(t,n)}function Mg(n){null!=n.v&&(wt.clearTimeout(n.v),n.v=null)}function XT(n,e){var t=null;if(n.g==e){Mg(n),Mb(n),n.g=null;var i=2}else{if(!wb(n.i,e))return;t=e.D,Cg(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Oi(i=pg(),new ob(i,t,e,r)),Au(n)}else nx(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Dg(n,e){return!(qT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=_u(Mi(n.Ha,n,e),xb(n,n.C)),n.C++,0)))}(n,e)||2==i&&Ag(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Sa(n,5);break;case 4:Sa(n,10);break;case 3:Sa(n,6);break;default:Sa(n,2)}}function xb(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Sa(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Mi(n.jb,n);t||(t=new Ul("//www.google.com/images/cleardot.gif"),wt.location&&"http"==wt.location.protocol||mb(t,"https"),wg(t)),function Tb(n,e){const t=new rb;if(wt.Image){const i=new Image;i.onload=Xm(Iu,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Xm(Iu,t,i,"TestLoadImage: error",!1,e),i.onabort=Xm(Iu,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Xm(Iu,t,i,"TestLoadImage: timeout",!1,e),wt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Wi(2);n.G=0,n.j&&n.j.va(e),kb(n),QT(n)}function kb(n){n.G=0,n.I=-1,n.j&&((0!=Cb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,eg(n.l),n.l.length=0),n.j.ua())}function eI(n,e,t){let i=function gb(n){return n instanceof Ul?No(n):new Ul(n,void 0)}(t);if(""!=i.i)e&&bg(i,e+"."+i.i),Eu(i,i.m);else{const r=wt.location;i=function UM(n,e,t,i){var r=new Ul(null,void 0);return n&&mb(r,n),e&&bg(r,e),t&&Eu(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&jv(n.aa,function(r,o){jt(i,o,r)}),t=n.sa,(e=n.D)&&t&&jt(i,e,t),jt(i,"VER",n.ma),Sg(n,i),i}function tI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ei(t&&n.Ba&&!n.qa?new Du({ib:!0}):n.qa)).L=n.H,e}function Ob(){}function Mu(){if(Po&&!(10<=Number(AM)))throw Error("Environmental error: no available transport.")}function Qr(n,e){pi.call(this),this.g=new Ab(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$h(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$h(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xu(this)}function Rb(n){BT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xg(){VT.call(this),this.status=1}function xu(n){this.g=n}(Xe=ei.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():UT.g(),this.C=function NM(n){return n.h||(n.h=n.i())}(this.u?this.u:UT),this.g.onreadystatechange=Mi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void KM(this,o)}n=t||"";const r=new wu(this.headers);i&&Kh(i,function(o,u){r.set(u,o)}),i=function _T(n){e:{var e=_P;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=wt.FormData&&n instanceof wt.FormData,!(0<=gT(ZM,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{YT(this),0<this.B&&((this.K=function YM(n){return Po&&function Gv(){return function Gs(n){var e=ET;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Vv(String(Pl)).split("."),t=Vv("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",o=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Uv(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Uv(0==r[2].length,0==o[2].length)||Uv(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mi(this.pa,this)):this.A=nb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){KM(this,o)}},Xe.pa=function(){void 0!==Km&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oi(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Oi(this,"complete"),Oi(this,"abort"),Sb(this))},Xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sb(this,!0)),ei.Z.M.call(this)},Xe.Fa=function(){this.s||(this.F||this.v||this.l?JM(this):this.cb())},Xe.cb=function(){JM(this)},Xe.ba=function(){try{return 2<Kr(this)?this.g.status:-1}catch(n){return-1}},Xe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Xe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gP(e)}},Xe.Da=function(){return this.m},Xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=Ab.prototype).ma=8,Xe.G=1,Xe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Xe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new gg(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=bT(o),wT(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=tx(this,r,e),jt(t=No(this.F),"RID",n),jt(t,"CVER",22),this.D&&jt(t,"X-HTTP-Session-Id",this.D),Sg(this,t),this.o&&o&&Ig(t,this.o,o),WT(this.i,r),this.Ra&&jt(t,"TYPE","init"),this.ja?(jt(t,"$req",e),jt(t,"SID","null"),r.$=!0,_g(r,t,null)):_g(r,t,e),this.G=2}}else 3==this.G&&(n?ex(this,n):0==this.l.length||bb(this.i)||ex(this))},Xe.Ga=function(){if(this.u=null,JT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=_u(Mi(this.bb,this),n)}},Xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wi(10),Su(this),JT(this))},Xe.ab=function(){null!=this.v&&(this.v=null,Su(this),Ag(this),Wi(19))},Xe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Wi(2)):(this.h.info("Failed to ping google.com"),Wi(1))},(Xe=Ob.prototype).xa=function(){},Xe.wa=function(){},Xe.va=function(){},Xe.ua=function(){},Xe.Oa=function(){},Mu.prototype.g=function(n,e){return new Qr(n,e)},xi(Qr,pi),Qr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Xv(Mi(n.hb,n,e))),Wi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=eI(n,null,n.W),Au(n)},Qr.prototype.close=function(){tf(this.g)},Qr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,nf(this.g,e)}else this.v?((e={}).__data__=Ll(n),nf(this.g,e)):nf(this.g,n)},Qr.prototype.M=function(){this.g.j=null,delete this.j,tf(this.g),delete this.g,Qr.Z.M.call(this)},xi(Rb,BT),xi(xg,VT),xi(xu,Ob),xu.prototype.xa=function(){Oi(this.g,"a")},xu.prototype.wa=function(n){Oi(this.g,new Rb(n))},xu.prototype.va=function(n){Oi(this.g,new xg(n))},xu.prototype.ua=function(){Oi(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,Yh.NO_ERROR=0,Yh.TIMEOUT=8,Yh.HTTP_ERROR=6,LT.COMPLETE="complete",lb.EventType=mg,mg.OPEN="a",mg.CLOSE="b",mg.ERROR="c",mg.MESSAGE="d",pi.prototype.listen=pi.prototype.N,ei.prototype.listenOnce=ei.prototype.O,ei.prototype.getLastError=ei.prototype.La,ei.prototype.getLastErrorCode=ei.prototype.Da,ei.prototype.getStatus=ei.prototype.ba,ei.prototype.getResponseJson=ei.prototype.Qa,ei.prototype.getResponseText=ei.prototype.ga,ei.prototype.send=ei.prototype.ea;var ix=br.createWebChannelTransport=function(){return new Mu},yP=br.getStatEventTarget=function(){return pg()},nI=br.ErrorCode=Yh,rx=br.EventType=LT,sx=br.Event=Ia,ox=br.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vP=br.FetchXmlHttpFactory=Du,Pb=br.WebChannel=lb,bP=br.XhrIo=ei;const ax="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let rf="9.8.0";const Hl=new gr.Yd("@firebase/firestore");function iI(){return Hl.logLevel}function s(n,...e){if(Hl.logLevel<=gr.in.DEBUG){const t=e.map(d);Hl.debug(`Firestore (${rf}): ${n}`,...t)}}function a(n,...e){if(Hl.logLevel<=gr.in.ERROR){const t=e.map(d);Hl.error(`Firestore (${rf}): ${n}`,...t)}}function c(n,...e){if(Hl.logLevel<=gr.in.WARN){const t=e.map(d);Hl.warn(`Firestore (${rf}): ${n}`,...t)}}function d(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function f(n="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+n;throw a(e),new Error(e)}function p(n,e){n||f()}function b(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class I extends je.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class S{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class O{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ri.UNAUTHENTICATED))}shutdown(){}}class Z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class de{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let u=new S;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new S,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,q.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},m=v=>{s("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(s("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new S)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(s("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(p("string"==typeof i.accessToken),new O(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return p(null===e||"string"==typeof e),new Ri(e)}}class ke{constructor(e,t,i){this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Fe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new ke(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ke{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class be{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=o=>{null!=o.error&&s("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,s("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{s("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):s("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(p("string"==typeof t.token),this.p=t.token,new Ke(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class gt{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function en(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}gt.A=-1;class wr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=en(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function _t(n,e){return n<e?-1:n>e?1:0}function Aa(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function kg(n){return n+"\0"}class cn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new I(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new I(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new I(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new cn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ht(e)}static min(){return new ht(new cn(0,0))}static max(){return new ht(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Og(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $l{constructor(e,t,i){void 0===t?t=0:t>e.length&&f(),void 0===i?i=e.length-t:i>e.length-t&&f(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===$l.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bt extends $l{construct(e,t,i){return new Bt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new I(C.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const Aj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends $l{construct(e,t,i){return new Pi(e,t,i)}static isValidIdentifier(e){return Aj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new I(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new I(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new I(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new I(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(t)}static emptyPath(){return new Pi([])}}class Pg{constructor(e){this.fields=e,e.sort(Pi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ni(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ku(n){if(p(!!n),"string"==typeof n){let e=0;const t=xj.exec(n);if(p(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qn(n.seconds),nanos:qn(n.nanos)}}function qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sf(n){return"string"==typeof n?Ni.fromBase64String(n):Ni.fromUint8Array(n)}function lx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function CP(n){const e=n.mapValue.fields.__previous_value__;return lx(e)?CP(e):e}function Nb(n){const e=ku(n.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}class kj{constructor(e,t,i,r,o,u,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class zl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function Fb(n){return null==n}function Lb(n){return 0===n&&1/n==-1/0}function EP(n){return"number"==typeof n&&Number.isInteger(n)&&!Lb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Bt.fromString(e))}static fromName(e){return new Ue(Bt.fromString(e).popFirst(5))}static empty(){return new Ue(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Bt(e.slice()))}}const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rI={nullValue:"NULL_VALUE"};function af(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lx(n)?4:SP(n)?9007199254740991:10:f()}function Ma(n,e){if(n===e)return!0;const t=af(n);if(t!==af(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nb(n).isEqual(Nb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=ku(i.timestampValue),u=ku(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,sf(n.bytesValue).isEqual(sf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return qn(i.geoPointValue.latitude)===qn(r.geoPointValue.latitude)&&qn(i.geoPointValue.longitude)===qn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return qn(i.integerValue)===qn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=qn(i.doubleValue),u=qn(r.doubleValue);return o===u?Lb(o)===Lb(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Og(o)!==Og(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Ma(o[h],u[h])))return!1;return!0}(n,e);default:return f()}var r}function Bb(n,e){return void 0!==(n.values||[]).find(t=>Ma(t,e))}function Ru(n,e){if(n===e)return 0;const t=af(n),i=af(e);if(t!==i)return _t(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=qn(r.integerValue||r.doubleValue),h=qn(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return TP(n.timestampValue,e.timestampValue);case 4:return TP(Nb(n),Nb(e));case 5:return _t(n.stringValue,e.stringValue);case 6:return function(r,o){const u=sf(r),h=sf(o);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=_t(u[m],h[m]);if(0!==v)return v}return _t(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=_t(qn(r.latitude),qn(o.latitude));return 0!==u?u:_t(qn(r.longitude),qn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let m=0;m<u.length&&m<h.length;++m){const v=Ru(u[m],h[m]);if(v)return v}return _t(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Ou.mapValue&&o===Ou.mapValue)return 0;if(r===Ou.mapValue)return 1;if(o===Ou.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),m=o.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let T=0;T<h.length&&T<v.length;++T){const D=_t(h[T],v[T]);if(0!==D)return D;const M=Ru(u[h[T]],m[v[T]]);if(0!==M)return M}return _t(h.length,v.length)}(n.mapValue,e.mapValue);default:throw f()}}function TP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _t(n,e);const t=ku(n),i=ku(e),r=_t(t.seconds,i.seconds);return 0!==r?r:_t(t.nanos,i.nanos)}function Ng(n){return cx(n)}function cx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ku(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sf(n.bytesValue).toBase64():"referenceValue"in n?Ue.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=cx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${cx(i.fields[h])}`;return o+"}"}(n.mapValue):f();var e}function lf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ux(n){return!!n&&"integerValue"in n}function Vb(n){return!!n&&"arrayValue"in n}function IP(n){return!!n&&"nullValue"in n}function DP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sI(n){return!!n&&"mapValue"in n}function Ub(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ub(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ub(n.arrayValue.values[t]);return e}return Object.assign({},n)}function SP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Oj(n){return"nullValue"in n?rI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lf(zl.empty(),Ue.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:f()}function Rj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lf(zl.empty(),Ue.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ou:f()}function AP(n,e){const t=Ru(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function MP(n,e){const t=Ru(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!sI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ub(t)}setAll(e){let t=Pi.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Ub(u):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());sI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];sI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Fo(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Cr(Ub(this.value))}}function xP(n){const e=[];return Fo(n.fields,(t,i)=>{const r=new Pi([t]);if(sI(i)){const o=xP(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new Pg(e)}class An{constructor(e,t,i,r,o,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(e){return new An(e,0,ht.min(),ht.min(),Cr.empty(),0)}static newFoundDocument(e,t,i){return new An(e,1,t,ht.min(),i,0)}static newNoDocument(e,t){return new An(e,2,t,ht.min(),Cr.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,ht.min(),Cr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oI{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function dx(n){return n.fields.find(e=>2===e.kind)}function cf(n){return n.fields.filter(e=>2!==e.kind)}oI.UNKNOWN_ID=-1;class aI{constructor(e,t){this.fieldPath=e,this.kind=t}}class jb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jb(0,Lo.min())}}function kP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ht.fromTimestamp(1e9===i?new cn(t+1,0):new cn(t,i));return new Lo(r,Ue.empty(),e)}function Pj(n){return new Lo(n.readTime,n.key,-1)}class Lo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Lo(ht.min(),Ue.empty(),-1)}static max(){return new Lo(ht.max(),Ue.empty(),-1)}}function OP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ue.comparator(n.documentKey,e.documentKey),0!==t?t:_t(n.largestBatchId,e.largestBatchId))}class ti{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lI(this.root,e,this.comparator,!1)}getReverseIterator(){return new lI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lI(this.root,e,this.comparator,!0)}}class lI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=null!=i?i:lr.RED,this.left=null!=r?r:lr.EMPTY,this.right=null!=o?o:lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new lr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw f();const e=this.left.check();if(e!==this.right.check())throw f();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw f()}get value(){throw f()}get color(){throw f()}get left(){throw f()}get right(){throw f()}copy(n,e,t,i,r){return this}insert(n,e,t){return new lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RP(this.data.getIterator())}getIteratorFrom(e){return new RP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class RP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fg(n){return n.hasNext()?n.getNext():void 0}class Nj{constructor(e,t=null,i=[],r=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.P=null}}function PP(n,e=null,t=[],i=[],r=null,o=null,u=null){return new Nj(n,e,t,i,r,o,u)}function uf(n){const e=b(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ng(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Fb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ng(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ng(i)).join(",")),e.P=t}return e.P}function Hb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!zj(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Ma(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VP(n.startAt,e.startAt)&&VP(n.endAt,e.endAt)}function cI(n){return Ue.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uI(n,e){return n.filters.filter(t=>t instanceof cr&&t.field.isEqual(e))}function NP(n,e,t){let i=rI,r=!0;for(const o of uI(n,e)){let u=rI,h=!0;switch(o.op){case"<":case"<=":u=Oj(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=rI}AP({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];AP({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function FP(n,e,t){let i=Ou,r=!0;for(const o of uI(n,e)){let u=Ou,h=!0;switch(o.op){case">=":case">":u=Rj(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ou}MP({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];MP({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class cr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new Lj(e,t,i):"array-contains"===t?new Uj(e,i):"in"===t?new jj(e,i):"not-in"===t?new Hj(e,i):"array-contains-any"===t?new $j(e,i):new cr(e,t,i)}static V(e,t,i){return"in"===t?new Bj(e,i):new Vj(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ru(t,this.value)):null!==t&&af(this.value)===af(t)&&this.v(Ru(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return f()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Lj extends cr{constructor(e,t,i){super(e,t,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.v(t)}}class Bj extends cr{constructor(e,t){super(e,"in",t),this.keys=LP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vj extends cr{constructor(e,t){super(e,"not-in",t),this.keys=LP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class Uj extends cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vb(t)&&Bb(t.arrayValue,this.value)}}class jj extends cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bb(this.value.arrayValue,t)}}class Hj extends cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bb(this.value.arrayValue,t)}}class $j extends cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bb(this.value.arrayValue,i))}}class Pu{constructor(e,t){this.position=e,this.inclusive=t}}class Lg{constructor(e,t="asc"){this.field=e,this.dir=t}}function zj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function BP(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?Ue.comparator(Ue.fromName(u.referenceValue),t.key):Ru(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function VP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ma(n.position[t],e.position[t]))return!1;return!0}class Gl{constructor(e,t=null,i=[],r=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.D=null,this.C=null}}function UP(n,e,t,i,r,o,u,h){return new Gl(n,e,t,i,r,o,u,h)}function Bg(n){return new Gl(n)}function hx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fx(n){for(const e of n.filters)if(e.S())return e.field;return null}function px(n){return null!==n.collectionGroup}function Vg(n){const e=b(n);if(null===e.D){e.D=[];const t=fx(e),i=hx(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Lg(t)),e.D.push(new Lg(Pi.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Lg(Pi.keyField(),o))}}}return e.D}function Ws(n){const e=b(n);if(!e.C)if("F"===e.limitType)e.C=PP(e.path,e.collectionGroup,Vg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Vg(e))t.push(new Lg(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Pu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pu(e.startAt.position,e.startAt.inclusive):null;e.C=PP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function jP(n,e,t){return new Gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $b(n,e){return Hb(Ws(n),Ws(e))&&n.limitType===e.limitType}function HP(n){return`${uf(Ws(n))}|lt:${n.limitType}`}function mx(n){return`Query(target=${function Fj(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Ng(i.value)}`;var i}).join(", ")}]`),Fb(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ng(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ng(t)).join(",")),`Target(${e})`}(Ws(n))}; limitType=${n.limitType})`}function gx(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ue.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const h=BP(r,o,u);return r.inclusive?h<=0:h<0}(t.startAt,Vg(t),i)||t.endAt&&!function(r,o,u){const h=BP(r,o,u);return r.inclusive?h>=0:h>0}(t.endAt,Vg(t),i)));var t,i}function $P(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zP(n){return(e,t)=>{let i=!1;for(const r of Vg(n)){const o=qj(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function qj(n,e,t){const i=n.field.isKeyField()?Ue.comparator(e.key,t.key):function(r,o,u){const h=o.data.field(r),m=u.data.field(r);return null!==h&&null!==m?Ru(h,m):f()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return f()}}function GP(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lb(e)?"-0":e}}function qP(n){return{integerValue:""+n}}function WP(n,e){return EP(e)?qP(e):GP(n,e)}class dI{constructor(){this._=void 0}}function Wj(n,e,t){return n instanceof Ug?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof df?YP(n,e):n instanceof hf?KP(n,e):function(i,r){const o=ZP(i,r),u=QP(o)+QP(i.k);return ux(o)&&ux(i.k)?qP(u):GP(i.M,u)}(n,e)}function Zj(n,e,t){return n instanceof df?YP(n,e):n instanceof hf?KP(n,e):t}function ZP(n,e){return n instanceof jg?ux(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ug extends dI{}class df extends dI{constructor(e){super(),this.elements=e}}function YP(n,e){const t=JP(e);for(const i of n.elements)t.some(r=>Ma(r,i))||t.push(i);return{arrayValue:{values:t}}}class hf extends dI{constructor(e){super(),this.elements=e}}function KP(n,e){let t=JP(e);for(const i of n.elements)t=t.filter(r=>!Ma(r,i));return{arrayValue:{values:t}}}class jg extends dI{constructor(e,t){super(),this.M=e,this.k=t}}function QP(n){return qn(n.integerValue||n.doubleValue)}function JP(n){return Vb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zb{constructor(e,t){this.field=e,this.transform=t}}class Kj{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fI{}function Qj(n,e,t){n instanceof Gb?function(i,r,o){const u=i.value.clone(),h=nN(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ff?function(i,r,o){if(!hI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=nN(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(tN(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _x(n,e,t){var r;n instanceof Gb?function(i,r,o){if(!hI(i.precondition,r))return;const u=i.value.clone(),h=iN(i.fieldTransforms,o,r);u.setAll(h),r.convertToFoundDocument(eN(r),u).setHasLocalMutations()}(n,e,t):n instanceof ff?function(i,r,o){if(!hI(i.precondition,r))return;const u=iN(i.fieldTransforms,o,r),h=r.data;h.setAll(tN(i)),h.setAll(u),r.convertToFoundDocument(eN(r),h).setHasLocalMutations()}(n,e,t):hI(n.precondition,r=e)&&r.convertToNoDocument(ht.min())}function Jj(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=ZP(i.transform,r||null);null!=o&&(null==t&&(t=Cr.empty()),t.set(i.field,o))}return t||null}function XP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Aa(t,i,(r,o)=>function Yj(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof df&&i instanceof df||t instanceof hf&&i instanceof hf?Aa(t.elements,i.elements,Ma):t instanceof jg&&i instanceof jg?Ma(t.k,i.k):t instanceof Ug&&i instanceof Ug);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function eN(n){return n.isFoundDocument()?n.version:ht.min()}class Gb extends fI{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class ff extends fI{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function tN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function nN(n,e,t){const i=new Map;p(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,h=e.data.field(o.field);i.set(o.field,Zj(u,h,t[r]))}return i}function iN(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,Wj(o,u,e))}return i}class qb extends fI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class yx extends fI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Xj{constructor(e){this.count=e}}var gi,Wt;function rN(n){switch(n){default:return f();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function sN(n){if(void 0===n)return a("GRPC error has no .code"),C.UNKNOWN;switch(n){case gi.OK:return C.OK;case gi.CANCELLED:return C.CANCELLED;case gi.UNKNOWN:return C.UNKNOWN;case gi.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case gi.INTERNAL:return C.INTERNAL;case gi.UNAVAILABLE:return C.UNAVAILABLE;case gi.UNAUTHENTICATED:return C.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case gi.NOT_FOUND:return C.NOT_FOUND;case gi.ALREADY_EXISTS:return C.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return C.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case gi.ABORTED:return C.ABORTED;case gi.OUT_OF_RANGE:return C.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return C.UNIMPLEMENTED;case gi.DATA_LOSS:return C.DATA_LOSS;default:return f()}}(Wt=gi||(gi={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class Nu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return Rg(this.inner)}size(){return this.innerSize}}const eH=new ti(Ue.comparator);function Zs(){return eH}const tH=new ti(Ue.comparator);function vx(...n){let e=tH;for(const t of n)e=e.insert(t.key,t);return e}function Wb(){return new Nu(n=>n.toString(),(n,e)=>n.isEqual(e))}const nH=new ti(Ue.comparator),iH=new En(Ue.comparator);function on(...n){let e=iH;for(const t of n)e=e.add(t);return e}const rH=new En(_t);function pI(){return rH}class Zb{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Yb.createSynthesizedTargetChangeForCurrentChange(e,t)),new Zb(ht.min(),i,pI(),Zs(),on())}}class Yb{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Yb(Ni.EMPTY_BYTE_STRING,t,on(),on(),on())}}class mI{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class oN{constructor(e,t){this.targetId=e,this.$=t}}class aN{constructor(e,t,i=Ni.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class lN{constructor(){this.B=0,this.L=uN(),this.U=Ni.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=on(),t=on(),i=on();return this.L.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:f()}}),new Yb(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=uN()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sH{constructor(e){this.nt=e,this.st=new Map,this.it=Zs(),this.rt=cN(),this.ot=new En(_t)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:f()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const o=r.target;if(cI(o))if(0===i){const u=new Ue(o.path);this.ct(t,u,An.newNoDocument(u,ht.min()))}else p(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&cI(h.target)){const m=new Ue(h.target.path);null!==this.it.get(m)||this.It(u,m)||this.ct(u,m,An.newNoDocument(m,e))}o.j&&(t.set(u,o.H()),o.J())}});let i=on();this.rt.forEach((o,u)=>{let h=!0;u.forEachWhile(m=>{const v=this.wt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,u)=>u.setReadTime(e));const r=new Zb(e,t,this.ot,this.it,i);return this.it=Zs(),this.rt=cN(),this.ot=new En(_t),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new lN,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new En(_t),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||s("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new lN),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function cN(){return new ti(Ue.comparator)}function uN(){return new ti(Ue.comparator)}const oH={asc:"ASCENDING",desc:"DESCENDING"},aH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lH{constructor(e,t){this.databaseId=e,this.N=t}}function Kb(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dN(n,e){return n.N?e.toBase64():e.toUint8Array()}function cH(n,e){return Kb(n,e.toTimestamp())}function Zi(n){return p(!!n),ht.fromTimestamp(function(e){const t=ku(e);return new cn(t.seconds,t.nanos)}(n))}function bx(n,e){return(t=n,new Bt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hN(n){const e=Bt.fromString(n);return p(wN(e)),e}function Qb(n,e){return bx(n.databaseId,e.path)}function xa(n,e){const t=hN(e);if(t.get(1)!==n.databaseId.projectId)throw new I(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new I(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(pN(t))}function wx(n,e){return bx(n.databaseId,e)}function fN(n){const e=hN(n);return 4===e.length?Bt.emptyPath():pN(e)}function Jb(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pN(n){return p(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mN(n,e,t){return{name:Qb(n,e),fields:t.value.mapValue.fields}}function gN(n,e,t){const i=xa(n,e.name),r=Zi(e.updateTime),o=new Cr({mapValue:{fields:e.fields}}),u=An.newFoundDocument(i,r,o);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Xb(n,e){let t;if(e instanceof Gb)t={update:mN(n,e.key,e.value)};else if(e instanceof qb)t={delete:Qb(n,e.key)};else if(e instanceof ff)t={update:mN(n,e.key,e.data),updateMask:yH(e.fieldMask)};else{if(!(e instanceof yx))return f();t={verify:Qb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Ug)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof df)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof jg)return{fieldPath:o.field.canonicalString(),increment:u.k};throw f()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:cH(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:f()),t;var r}function Cx(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?mi.updateTime(Zi(r.updateTime)):void 0!==r.exists?mi.exists(r.exists):mi.none():mi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(p("REQUEST_TIME"===u.setToServerValue),h=new Ug):"appendMissingElements"in u?h=new df(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new hf(u.removeAllFromArray.values||[]):"increment"in u?h=new jg(o,u.increment):f();const m=Pi.fromServerFormat(u.fieldPath);return new zb(m,h)}(n,r)):[];var r;if(e.update){const r=xa(n,e.update.name),o=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Pg((e.updateMask.fieldPaths||[]).map(v=>Pi.fromServerFormat(v)));return new ff(r,o,u,t,i)}return new Gb(r,o,t,i)}if(e.delete){const r=xa(n,e.delete);return new qb(r,t)}if(e.verify){const r=xa(n,e.verify);return new yx(r,t)}return f()}function _N(n,e){return{documents:[wx(n,e.path)]}}function yN(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=wx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0===m.length)return;const v=m.map(T=>function(D){if("=="===D.op){if(DP(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NAN"}};if(IP(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(DP(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NOT_NAN"}};if(IP(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hg(D.field),op:mH(D.op),value:D.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:Hg((T=v).field),direction:pH(T.dir)};var T})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=(v=e.limit,n.N||Fb(v)?v:{value:v});var v,h,m;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function vN(n){let e=fN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){p(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let o=[];t.where&&(o=bN(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new Lg($g((D=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(T){let D;return D="object"==typeof T?T.value:T,Fb(D)?null:D}(t.limit));let m=null;var T;t.startAt&&(m=new Pu((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Pu(T.values||[],!T.before)}(t.endAt)),UP(e,r,u,o,h,"F",m,v)}function bN(n){return n?void 0!==n.unaryFilter?[_H(n)]:void 0!==n.fieldFilter?[gH(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>bN(e)).reduce((e,t)=>e.concat(t)):f():[]}function pH(n){return oH[n]}function mH(n){return aH[n]}function Hg(n){return{fieldPath:n.canonicalString()}}function $g(n){return Pi.fromServerFormat(n.fieldPath)}function gH(n){return cr.create($g(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return f()}}(n.fieldFilter.op),n.fieldFilter.value)}function _H(n){switch(n.unaryFilter.op){case"IS_NAN":const e=$g(n.unaryFilter.field);return cr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=$g(n.unaryFilter.field);return cr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$g(n.unaryFilter.field);return cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=$g(n.unaryFilter.field);return cr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return f()}}function yH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Lr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=CN(e)),e=vH(n.get(t),e);return CN(e)}function vH(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function CN(n){return n+"\x01\x01"}function ka(n){const e=n.length;if(p(e>=2),2===e)return p("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&f(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:f()}o=u+2}return new Bt(i)}const EN=["userId","batchId"];function gI(n,e){return[n,Lr(e)]}function TN(n,e,t){return[n,Lr(e),t]}const bH={},wH=["prefixPath","collectionGroup","readTime","documentId"],CH=["prefixPath","collectionGroup","documentId"],EH=["collectionGroup","readTime","prefixPath","documentId"],TH=["canonicalId","targetId"],IH=["targetId","path"],DH=["path","targetId"],SH=["collectionId","parent"],AH=["indexId","uid"],MH=["uid","sequenceNumber"],xH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kH=["indexId","uid","orderedDocumentKey"],OH=["userId","collectionPath","documentId"],RH=["userId","collectionPath","largestBatchId"],PH=["userId","collectionGroup","largestBatchId"],IN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NH=[...IN,"documentOverlays"],DN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FH=[...DN,"indexConfiguration","indexState","indexEntries"],SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&f(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,o=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&t()},m=>i(m))}),u=!0,o===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}}class _I{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new S,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new e0(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Ex(i.target.error);this.At.reject(new e0(e,r))}}static open(e,t,i,r){try{return new _I(t,e.transaction(r,i))}catch(o){throw new e0(t,o)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(s("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BH(t)}}class Bo{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===Bo.Vt((0,je.z$)())&&a("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return s("SimpleDb","Removing database:",e),mf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,je.hl)())return!1;if(Bo.St())return!0;const e=(0,je.z$)(),t=Bo.Vt(e),i=0<t&&t<10,r=Bo.Dt(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,q.Z)(function*(){return t.db||(s("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new e0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new I(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new I(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new e0(e,h))},o.onupgradeneeded=u=>{s("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{s("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,q.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.Nt(e);const m=_I.open(o.db,e,u?"readonly":"readwrite",i),v=r(m).next(T=>(m.bt(),T)).catch(T=>(m.abort(T),ae.reject(T))).toPromise();return v.catch(()=>{}),yield m.Rt,v}catch(m){const v="FirebaseError"!==m.name&&h<3;if(s("SimpleDb","Transaction failed with error:",m.message,"Retrying:",v),o.close(),!v)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class LH{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return mf(this.Ft.delete())}}class e0 extends I{constructor(e,t){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pf(n){return"IndexedDbTransactionError"===n.name}class BH{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(s("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(s("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),mf(i)}add(e){return s("SimpleDb","ADD",this.store.name,e,e),mf(this.store.add(e))}get(e){return mf(this.store.get(e)).next(t=>(void 0===t&&(t=null),s("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return s("SimpleDb","DELETE",this.store.name,e),mf(this.store.delete(e))}count(){return s("SimpleDb","COUNT",this.store.name),mf(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(e,t){s("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,u,h)=>h.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=o=>{const u=Ex(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Kt(e,t){const i=[];return new ae((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const m=new LH(h),v=t(h.primaryKey,h.value,m);if(v instanceof ae){const T=v.catch(D=>(m.done(),ae.reject(D)));i.push(T)}m.isDone?r():null===m.Lt?h.continue():h.continue(m.Lt)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mf(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Ex(i.target.error);t(r)}})}let MN=!1;function Ex(n){const e=Bo.Vt((0,je.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new I("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MN||(MN=!0,setTimeout(()=>{throw i},0)),i}}return n}class xN extends AN{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=b(n);return Bo.xt(t.Ht,e)}class Tx{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Qj(o,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_x(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_x(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(ht.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,i)=>XP(t,i))&&Aa(this.baseMutations,e.baseMutations,(t,i)=>XP(t,i))}}class Ix{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){p(e.mutations.length===i.length);let r=nH;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Ix(e,t,i,r)}}class Dx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fu{constructor(e,t,i,r,o=ht.min(),u=ht.min(),h=Ni.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new Fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kN{constructor(e){this.Jt=e}}function ON(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Qb(r=n.Jt,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Kb(r,o.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:gf(e.version)};else{if(!e.isUnknownDocument())return f();i.unknownDocument={path:t.path.toArray(),version:gf(e.version)}}var r,o;return i}function yI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _f(n){const e=new cn(n.seconds,n.nanoseconds);return ht.fromTimestamp(e)}function zg(n,e){const t=(e.baseMutations||[]).map(o=>Cx(n.Jt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(u.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const i=e.mutations.map(o=>Cx(n.Jt,o)),r=cn.fromMillis(e.localWriteTimeMs);return new Tx(e.batchId,r,t,i)}function t0(n){const e=_f(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_f(n.lastLimboFreeSnapshotVersion):ht.min();let i;var r;return void 0!==n.query.documents?(p(1===(r=n.query).documents.length),i=Ws(Bg(fN(r.documents[0])))):i=Ws(vN(n.query)),new Fu(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ni.fromBase64String(n.resumeToken))}function RN(n,e){const t=gf(e.snapshotVersion),i=gf(e.lastLimboFreeSnapshotVersion);let r;r=cI(e.target)?_N(n.Jt,e.target):yN(n.Jt,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:uf(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Sx(n){const e=vN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jP(e,e.limit,"L"):e}function Ax(n,e){return new Dx(e.largestBatchId,Cx(n.Jt,e.overlayMutation))}function PN(n,e){const t=e.path.lastSegment();return[n,Lr(e.path.popLast()),t]}class UH{getBundleMetadata(e,t){return NN(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:_f(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return NN(e).put({bundleId:(i=t).id,createTime:gf(Zi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return FN(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Sx(r.bundledQuery),readTime:_f(r.readTime)};var r})}saveNamedQuery(e,t){return FN(e).put({name:(i=t).name,readTime:gf(Zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function NN(n){return Yi(n,"bundles")}function FN(n){return Yi(n,"namedQueries")}class Mx{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Mx(e,t.uid||"")}getOverlay(e,t){return n0(e).get(PN(this.userId,t)).next(i=>i?Ax(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const h=new Dx(t,u);r.push(this.Xt(e,h))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Lr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(n0(e).Qt("collectionPathOverlayIndex",h))}),ae.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Wb(),o=Lr(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return n0(e).qt("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const v=Ax(this.M,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Wb();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return n0(e).Wt({index:"collectionGroupOverlayIndex",range:h},(m,v,T)=>{const D=Ax(this.M,v);o.size()<r||D.largestBatchId===u?(o.set(D.getKey(),D),u=D.largestBatchId):T.done()}).next(()=>o)}Xt(e,t){return n0(e).put(function(i,r,o){const[u,h,m]=PN(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Xb(i.Jt,o.mutation)}}(this.M,this.userId,t))}}function n0(n){return Yi(n,"documentOverlays")}class yf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(qn(e.integerValue));else if("doubleValue"in e){const i=qn(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Lb(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(sf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?SP(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):f()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),Ue.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function jH(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function LN(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=jH(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}yf.fe=new yf;class HH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=LN(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=LN(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $H{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class zH{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class r0{constructor(){this.De=new HH,this.Ce=new $H(this.De),this.xe=new zH(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class vf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new vf(this.indexId,this.documentKey,this.arrayValue,i)}}function bf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=BN(n.arrayValue,e.arrayValue),0!==t?t:(t=BN(n.directionalValue,e.directionalValue),0!==t?t:Ue.comparator(n.documentKey,e.documentKey)))}function BN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class GH{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=dx(e);if(void 0!==t&&!this.Be(t))return!1;const i=cf(e);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class qH{constructor(){this.qe=new xx}addToCollectionParentIndex(e,t){return this.qe.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Lo.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class xx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new En(Bt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new En(Bt.comparator)).toArray()}}const vI=new Uint8Array(0);class WH{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new xx,this.Ge=new Nu(i=>uf(i),(i,r)=>Hb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const o={collectionId:i,parent:Lr(r)};return VN(e).put(o)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[kg(t),""],!1,!0);return VN(e).qt(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(ka(u.parent))}return i})}addFieldIndex(e,t){const i=bI(e),r={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=bI(e),r=wI(e),o=s0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=s0(e);let r=!0;const o=new Map;return ae.forEach(this.Qe(t),u=>this.je(e,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=on();const h=[];return ae.forEach(o,(m,v)=>{var T;s("IndexedDbIndexManager",`Using index ${T=m,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${uf(t)}`);const D=function(ze,Le){const mt=dx(Le);if(void 0===mt)return null;for(const yt of uI(ze,mt.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(v,m),M=function(ze,Le){const mt=new Map;for(const yt of cf(Le))for(const $t of uI(ze,yt.fieldPath))switch($t.op){case"==":case"in":mt.set(yt.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return mt.set(yt.fieldPath.canonicalString(),$t.value),Array.from(mt.values())}return null}(v,m),k=function(ze,Le){const mt=[];let yt=!0;for(const $t of cf(Le)){const ii=0===$t.kind?NP(ze,$t.fieldPath,ze.startAt):FP(ze,$t.fieldPath,ze.startAt);mt.push(ii.value),yt&&(yt=ii.inclusive)}return new Pu(mt,yt)}(v,m),N=function(ze,Le){const mt=[];let yt=!0;for(const $t of cf(Le)){const ii=0===$t.kind?FP(ze,$t.fieldPath,ze.endAt):NP(ze,$t.fieldPath,ze.endAt);mt.push(ii.value),yt&&(yt=ii.inclusive)}return new Pu(mt,yt)}(v,m),Q=this.We(m,v,k),he=this.We(m,v,N),Re=this.ze(m,v,M),He=this.He(m.indexId,D,Q,k.inclusive,he,N.inclusive,Re);return ae.forEach(He,ze=>i.Gt(ze,t.limit).next(Le=>{Le.forEach(mt=>{const yt=Ue.fromSegments(mt.documentKey);u.has(yt)||(u=u.add(yt),h.push(yt))})}))}).next(()=>h)}return ae.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,i,r,o,u,h){const m=(null!=t?t.length:1)*Math.max(i.length,o.length),v=m/(null!=t?t.length:1),T=[];for(let D=0;D<m;++D){const M=t?this.Je(t[D/v]):vI,k=this.Ye(e,M,i[D%v],r),N=this.Xe(e,M,o[D%v],u),Q=h.map(he=>this.Ye(e,M,he,!0));T.push(...this.createRange(k,N,Q))}return T}Ye(e,t,i,r){const o=new vf(e,Ue.empty(),t,i);return r?o:o.ke()}Xe(e,t,i,r){const o=new vf(e,Ue.empty(),t,i);return r?o.ke():o}je(e,t){const i=new GH(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const h of o)i.$e(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;return ae.forEach(this.Qe(t),r=>this.je(e,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new En(Pi.comparator),m=!1;for(const v of u.filters){const T=v;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?m=!0:h=h.add(T.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(m?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(e,t){const i=new r0;for(const r of cf(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.Ne(r.kind);yf.fe.Zt(o,u)}return i.Se()}Je(e){const t=new r0;return yf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new r0;return yf.fe.Zt(lf(this.databaseId,t),i.Ne(function(r){const o=cf(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Se()}ze(e,t,i){if(null===i)return[];let r=[];r.push(new r0);let o=0;for(const u of cf(e)){const h=i[o++];for(const m of r)if(this.en(t,u.fieldPath)&&Vb(h))r=this.nn(r,u,h);else{const v=m.Ne(u.kind);yf.fe.Zt(h,v)}}return this.sn(r)}We(e,t,i){return this.ze(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const m=new r0;m.seed(h.Se()),yf.fe.Zt(u,m.Ne(t.kind)),o.push(m)}return o}en(e,t){return!!e.filters.find(i=>i instanceof cr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=bI(e),r=wI(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(o=>{const u=[];return ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(m=>{u.push(function(v,T){const D=T?new jb(T.sequenceNumber,new Lo(_f(T.readTime),new Ue(ka(T.documentKey)),T.largestBatchId)):jb.empty(),M=v.fields.map(([k,N])=>new aI(Pi.fromServerFormat(k),N));return new oI(v.indexId,v.collectionGroup,M,D)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:_t(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=bI(e),o=wI(e);return this.rn(e).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,m=>{return o.put({indexId:m.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:gf((M=i).readTime),documentKey:Lr(M.documentKey.path),largestBatchId:M.largestBatchId});var M})))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,m=>this.on(e,r,m).next(v=>{const T=this.un(o,m);return v.isEqual(T)?ae.resolve():this.an(e,o,m,v,T)}))))})}cn(e,t,i,r){return s0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return s0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=s0(e);let o=new En(bf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(u,h)=>{o=o.add(new vf(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}un(e,t){let i=new En(bf);const r=this.Ze(t,e);if(null==r)return i;const o=dx(t);if(null!=o){const u=e.data.field(o.fieldPath);if(Vb(u))for(const h of u.arrayValue.values||[])i=i.add(new vf(t.indexId,e.key,this.Je(h),r))}else i=i.add(new vf(t.indexId,e.key,vI,r));return i}an(e,t,i,r,o){s("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,m,v,T,D){const M=h.getIterator(),k=m.getIterator();let N=Fg(M),Q=Fg(k);for(;N||Q;){let he=!1,Re=!1;if(N&&Q){const He=v(N,Q);He<0?Re=!0:He>0&&(he=!0)}else null!=N?Re=!0:he=!0;he?(T(Q),Q=Fg(k)):Re?(D(N),N=Fg(M)):(N=Fg(M),Q=Fg(k))}}(r,o,bf,h=>{u.push(this.cn(e,t,i,h))},h=>{u.push(this.hn(e,t,i,h))}),ae.waitFor(u)}rn(e){let t=1;return wI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>bf(u,h)).filter((u,h,m)=>!h||0!==bf(u,m[h-1]));const r=[];r.push(e);for(const u of i){const h=bf(u,e),m=bf(u,t);if(0===h)r[0]=e.ke();else if(h>0&&m<0)r.push(u),r.push(u.ke());else if(m>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,vI,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,vI,[]]));return o}getMinOffset(e,t){let i;return ae.forEach(this.Qe(t),r=>this.je(e,r).next(o=>{o?(!i||OP(o.indexState.offset,i)<0)&&(i=o.indexState.offset):i=Lo.min()})).next(()=>i)}}function VN(n){return Yi(n,"collectionParents")}function s0(n){return Yi(n,"indexEntries")}function bI(n){return Yi(n,"indexConfiguration")}function wI(n){return Yi(n,"indexState")}const UN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jN(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const m=i.Wt({range:u},(T,D,M)=>(h++,M.delete()));o.push(m.next(()=>{p(1===h)}));const v=[];for(const T of t.mutations){const D=TN(e,T.key.path,t.batchId);o.push(r.delete(D)),v.push(T.key)}return ae.waitFor(o).next(()=>v)}function CI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw f();e=n.noDocument}return JSON.stringify(e).length}Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(41943040,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);class kx{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){p(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new kx(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lu(e).Wt({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Gg(e),u=Lu(e);return u.add({}).next(h=>{p("number"==typeof h);const m=new Tx(h,t,i,r),v=function(M,k,N){const Q=N.baseMutations.map(Re=>Xb(M.Jt,Re)),he=N.mutations.map(Re=>Xb(M.Jt,Re));return{userId:k,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:Q,mutations:he}}(this.M,this.userId,m),T=[];let D=new En((M,k)=>_t(M.canonicalString(),k.canonicalString()));for(const M of r){const k=TN(this.userId,M.key.path,h);D=D.add(M.key.path.popLast()),T.push(u.put(v)),T.push(o.put(k,bH))}return D.forEach(M=>{T.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.ln[h]=m.keys()}),ae.waitFor(T).next(()=>m)})}lookupMutationBatch(e,t){return Lu(e).get(t).next(i=>i?(p(i.userId===this.userId),zg(this.M,i)):null)}fn(e,t){return this.ln[t]?ae.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Lu(e).Wt({index:"userMutationsIndex",range:r},(u,h,m)=>{h.userId===this.userId&&(p(h.batchId>=i),o=zg(this.M,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Lu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lu(e).qt("userMutationsIndex",t).next(i=>i.map(r=>zg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=gI(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Gg(e).Wt({range:r},(u,h,m)=>{const[v,T,D]=u,M=ka(T);if(v===this.userId&&t.path.isEqual(M))return Lu(e).get(D).next(k=>{if(!k)throw f();p(k.userId===this.userId),o.push(zg(this.M,k))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new En(_t);const r=[];return t.forEach(o=>{const u=gI(this.userId,o.path),h=IDBKeyRange.lowerBound(u),m=Gg(e).Wt({range:h},(v,T,D)=>{const[M,k,N]=v,Q=ka(k);M===this.userId&&o.path.isEqual(Q)?i=i.add(N):D.done()});r.push(m)}),ae.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=gI(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new En(_t);return Gg(e).Wt({range:u},(m,v,T)=>{const[D,M,k]=m,N=ka(M);D===this.userId&&i.isPrefixOf(N)?N.length===r&&(h=h.add(k)):T.done()}).next(()=>this.dn(e,h))}dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Lu(e).get(o).next(u=>{if(null===u)throw f();p(u.userId===this.userId),i.push(zg(this.M,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return jN(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Gg(e).Wt({range:i},(o,u,h)=>{if(o[0]===this.userId){const m=ka(o[1]);r.push(m)}else h.done()}).next(()=>{p(0===r.length)})})}containsKey(e,t){return HN(e,this.userId,t)}wn(e){return $N(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HN(n,e,t){const i=gI(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Gg(n).Wt({range:o,jt:!0},(h,m,v)=>{const[T,D,M]=h;T===e&&D===r&&(u=!0),v.done()}).next(()=>u)}function Lu(n){return Yi(n,"mutations")}function Gg(n){return Yi(n,"documentMutations")}function $N(n){return Yi(n,"mutationQueues")}class wf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new wf(0)}static yn(){return new wf(-1)}}class ZH{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new wf(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>ht.fromTimestamp(new cn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qg(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(p(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return qg(e).Wt((u,h)=>{const m=t0(h);m.sequenceNumber<=t&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(e,m)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(e,t){return qg(e).Wt((i,r)=>{const o=t0(r);t(o)})}pn(e){return zN(e).get("targetGlobalKey").next(t=>(p(null!==t),t))}In(e,t){return zN(e).put("targetGlobalKey",t)}Tn(e,t){return qg(e).put(RN(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=uf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return qg(e).Wt({range:r,index:"queryTargetsIndex"},(u,h,m)=>{const v=t0(h);Hb(t,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Bu(e);return t.forEach(u=>{const h=Lr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=Bu(e);return ae.forEach(t,o=>{const u=Lr(o.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Bu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bu(e);let o=on();return r.Wt({range:i,jt:!0},(u,h,m)=>{const v=ka(u[1]),T=new Ue(v);o=o.add(T)}).next(()=>o)}containsKey(e,t){const i=Lr(t.path),r=IDBKeyRange.bound([i],[kg(i)],!1,!0);let o=0;return Bu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],m,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}Et(e,t){return qg(e).get(t).next(i=>i?t0(i):null)}}function qg(n){return Yi(n,"targets")}function zN(n){return Yi(n,"targetGlobal")}function Bu(n){return Yi(n,"targetDocuments")}function Cf(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,q.Z)(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==SN)throw n;s("LocalStore","Unexpectedly lost primary lease")}),Ox.apply(this,arguments)}function GN([n,e],[t,i]){const r=_t(n,t);return 0===r?_t(e,i):r}class YH{constructor(e){this.An=e,this.buffer=new En(GN),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();GN(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KH{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;s("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,q.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){pf(r)?s("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Cf(r)}yield t.Sn(e)}))}}class QH{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(gt.A);const i=new YH(t);return this.Dn.forEachTarget(e,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(s("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(UN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(s("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UN):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,o,u,h,m,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(s("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,u=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(o=D,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),iI()<=gr.in.DEBUG&&s("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${D} documents in `+(v-m)+`ms\nTotal Duration: ${v-T}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class JH{constructor(e,t){this.db=e,this.garbageCollector=new QH(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return EI(e,i)}removeReference(e,t,i){return EI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return EI(e,t)}On(e,t){return function(i,r){let o=!1;return $N(i).zt(u=>HN(i,u,r).next(h=>(h&&(o=!0),ae.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Mn(e,(u,h)=>{if(h<=t){const m=this.On(e,u).next(v=>{if(!v)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,ht.min()),Bu(e).delete([0,Lr(u.path)])))});r.push(m)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return EI(e,t)}Mn(e,t){const i=Bu(e);let r,o=gt.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:v})=>{0===u?(o!==gt.A&&t(new Ue(ka(r)),o),o=v,r=m):o=gt.A}).next(()=>{o!==gt.A&&t(new Ue(ka(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function EI(n,e){return Bu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Lr(e.path),sequenceNumber:i}));var i}class qN{constructor(){this.changes=new Nu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XH{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ef(e).put(i)}removeEntry(e,t,i){return Ef(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],yI(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=An.newInvalidDocument(t);return Ef(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(o0(t))},(r,o)=>{i=this.$n(t,o)}).next(()=>i)}Bn(e,t){let i={size:0,document:An.newInvalidDocument(t)};return Ef(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(o0(t))},(r,o)=>{i={document:this.$n(t,o),size:CI(o)}}).next(()=>i)}getEntries(e,t){let i=Zs();return this.Ln(e,t,(r,o)=>{const u=this.$n(r,o);i=i.insert(r,u)}).next(()=>i)}Un(e,t){let i=Zs(),r=new ti(Ue.comparator);return this.Ln(e,t,(o,u)=>{const h=this.$n(o,u);i=i.insert(o,h),r=r.insert(o,CI(u))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return ae.resolve();let r=new En(YN);t.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(o0(r.first()),o0(r.last())),u=r.getIterator();let h=u.getNext();return Ef(e).Wt({index:"documentKeyIndex",range:o},(m,v,T)=>{const D=Ue.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&YN(h,D)<0;)i(h,null),h=u.getNext();h&&h.isEqual(D)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?T.Ut(o0(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),yI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ef(e).qt(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Zs();for(const m of u){const v=this.$n(Ue.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Zs();const u=ZN(t,i),h=ZN(t,Lo.max());return Ef(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,v,T)=>{const D=this.$n(Ue.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(D.key,D),o.size===r&&T.done()}).next(()=>o)}newChangeBuffer(e){return new e3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return WN(e).get("remoteDocumentGlobalKey").next(t=>(p(!!t),t))}Fn(e,t){return WN(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function VH(n,e){let t;if(e.document)t=gN(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ue.fromSegments(e.noDocument.path),r=_f(e.noDocument.readTime);t=An.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return f();{const i=Ue.fromSegments(e.unknownDocument.path),r=_f(e.unknownDocument.version);t=An.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new cn(i[0],i[1]);return ht.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(ht.min()))return i}return An.newInvalidDocument(e)}}class e3 extends qN{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Nu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new En((o,u)=>_t(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Gn.get(o);if(t.push(this.Kn.removeEntry(e,o,h.readTime)),u.isValidDocument()){const m=ON(this.Kn.M,u);r=r.add(o.path.popLast()),i+=CI(m)-h.size,t.push(this.Kn.addEntry(e,o,m))}else if(i-=h.size,this.trackRemovals){const m=ON(this.Kn.M,u.convertToNoDocument(ht.min()));t.push(this.Kn.addEntry(e,o,m))}}),r.forEach(o=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Kn.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((o,u)=>{this.Gn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function WN(n){return Yi(n,"remoteDocumentGlobal")}function Ef(n){return Yi(n,"remoteDocumentsV14")}function o0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZN(n,e){const t=e.documentKey.path.toArray();return[n,yI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function YN(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=_t(t[o],i[o]),r)return r;return r=_t(t.length,i.length),r||(r=_t(t[t.length-2],i[i.length-2]),r||_t(t[t.length-1],i[i.length-1]))}class t3{constructor(e){this.M=e}kt(e,t,i,r){const o=new _I("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",EN,{unique:!0}),h.createObjectStore("documentMutations"),KN(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),KN(e)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ht.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store("mutations").qt().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",EN,{unique:!0});const T=m.store("mutations"),D=v.map(M=>T.put(M));return ae.waitFor(D)})}(e,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(o)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(o))),i<8&&r>=8&&(u=u.next(()=>this.zn(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:OH});m.createIndex("collectionPathOverlayIndex",RH,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",PH,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:wH});m.createIndex("documentKeyIndex",CH),m.createIndex("collectionGroupIndex",EH)}(e)).next(()=>this.Jn(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:AH}).createIndex("sequenceNumberIndex",MH,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:xH}).createIndex("documentKeyIndex",kH,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=CI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>ae.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(h=>ae.forEach(h,m=>{p(m.userId===o.userId);const v=zg(this.M,m);return jN(e,o.userId,v).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((u,h)=>{const m=new Bt(u),v=[0,Lr(m)];o.push(t.get(v).next(T=>T?ae.resolve():t.put({targetId:0,path:Lr(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:SH});const i=t.store("collectionParents"),r=new xx,o=u=>{if(r.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:Lr(m)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const m=new Bt(u);return o(m.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,h,m],v)=>{const T=ka(h);return o(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const o=t0(r),u=RN(this.M,o);return t.put(u)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((o,u)=>{const h=t.store("remoteDocumentsV14"),m=(v=u,v.document?new Ue(Bt.fromString(v.document.name).popFirst(5)):v.noDocument?Ue.fromSegments(v.noDocument.path):v.unknownDocument?Ue.fromSegments(v.unknownDocument.path):f()).path.toArray();var v;const T={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(T))}).next(()=>ae.waitFor(r))}}function KN(n){n.createObjectStore("targetDocuments",{keyPath:IH}).createIndex("documentTargetsIndex",DH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TH,{unique:!0}),n.createObjectStore("targetGlobal")}const Rx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Px{constructor(e,t,i,r,o,u,h,m,v,T,D=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=o,this.window=u,this.document=h,this.Xn=v,this.Zn=T,this.ts=D,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=M=>Promise.resolve(),!Px.vt())throw new I(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JH(this,r),this.hs=t+"main",this.M=new kN(m),this.ls=new Bo(this.hs,this.ts,new t3(this.M)),this.fs=new ZH(this.referenceDelegate,this.M),this.ds=new XH(this.M),this._s=new UH,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&a("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new I(C.FAILED_PRECONDITION,Rx);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new gt(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,q.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,q.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,q.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(pf(e))return s("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return s("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return a0(e).get("owner").next(t=>ae.resolve(this.Ps(t)))}Vs(e){return TI(e).delete(this.clientId)}vs(){var e=this;return(0,q.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Yi(i,"clientMetadata");return r.qt().next(o=>{const u=e.Ds(o,18e5),h=o.filter(m=>-1===u.indexOf(m));return ae.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ae.resolve(!0):a0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new I(C.FAILED_PRECONDITION,Rx);return!1}}return!(!this.networkEnabled||!this.inForeground)||TI(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&s("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,q.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new xN(t,gt.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>TI(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return kx.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new WH(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Mx.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){s("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=14===(u=this.ts)?FH:13===u?DN:12===u?NH:11===u?IN:void f();var u;let h;return this.ls.runTransaction(e,r,o,m=>(h=new xN(m,this.es?this.es.next():gt.A),"readwrite-primary"===t?this.Es(h).next(v=>!!v||this.As(h)).next(v=>{if(!v)throw a(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new I(C.FAILED_PRECONDITION,SN);return i(h)}).next(v=>this.bs(h).next(()=>v)):this.$s(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}$s(e){return a0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new I(C.FAILED_PRECONDITION,Rx)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return a0(e).put("owner",t)}static vt(){return Bo.vt()}Rs(e){const t=a0(e);return t.get("owner").next(i=>this.Ps(i)?(s("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(a(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,je.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return s("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return a("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){a("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function a0(n){return Yi(n,"owner")}function TI(n){return Yi(n,"clientMetadata")}function Nx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class n3{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const o of t)o.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return Ue.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):px(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new Ue(t)).next(i=>{let r=vx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let o=vx();return this.indexManager.getCollectionParents(e,r).next(u=>ae.forEach(u,h=>{const m=(v=t,T=h.child(r),new Gl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.zs(e,m,i).next(v=>{v.forEach((T,D)=>{o=o.insert(T,D)})})}).next(()=>o))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(o=>(r=o,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(o=>{for(const u of o)for(const h of u.mutations){const m=h.key;let v=r.get(m);null==v&&(v=An.newInvalidDocument(m),r=r.insert(m,v)),_x(h,v,u.localWriteTime),v.isFoundDocument()||(r=r.remove(m))}}).next(()=>(r.forEach((o,u)=>{gx(t,u)||(r=r.remove(o))}),r))}}class Fx{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=on(),r=on();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Fx(e,t.fromCache,i,r)}}class QN{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,r){return this.ti(e,t).next(o=>o||this.ei(e,t,r,i)).next(o=>o||this.ni(e,t))}ti(e,t){return ae.resolve(null)}ei(e,t,i,r){return function Gj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(ht.min())?this.ni(e,t):this.Zs.Ks(e,i).next(o=>{const u=this.si(t,o);return this.ii(t,u,i,r)?this.ni(e,t):(iI()<=gr.in.DEBUG&&s("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mx(t)),this.ri(e,u,t,kP(r,-1)))})}si(e,t){let i=new En(zP(e));return t.forEach((r,o)=>{gx(e,o)&&(i=i.add(o))}),i}ii(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ni(e,t){return iI()<=gr.in.DEBUG&&s("QueryEngine","Using full collection scan to execute query:",mx(t)),this.Zs.Qs(e,t,Lo.min())}ri(e,t,i,r){return this.Zs.Qs(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class r3{constructor(e,t,i,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new ti(_t),this.ai=new Nu(o=>uf(o),Hb),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new n3(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function JN(n,e,t,i){return new r3(n,e,t,i)}function XN(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,q.Z)(function*(n,e){const t=b(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(o=>(r=o,t.li(e),t.Bs.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let m=on();for(const v of r){u.push(v.batchId);for(const T of v.mutations)m=m.add(T.key)}for(const v of o){h.push(v.batchId);for(const T of v.mutations)m=m.add(T.key)}return t.fi.Ks(i,m).next(v=>({di:v,removedBatchIds:u,addedBatchIds:h}))})})}),Lx.apply(this,arguments)}function s3(n,e){const t=b(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.hi.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const T=m.batch,D=T.keys();let M=ae.resolve();return D.forEach(k=>{M=M.next(()=>v.getEntry(h,k)).next(N=>{const Q=m.docVersions.get(k);p(null!==Q),N.version.compareTo(Q)<0&&(T.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))})}),M.next(()=>u.Bs.removeMutationBatch(h,T))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,r))})}function eF(n){const e=b(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function o3(n,e){const t=b(n),i=e.snapshotVersion;let r=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.hi.newChangeBuffer({trackRemovals:!0});r=t.ui;const h=[];e.targetChanges.forEach((v,T)=>{const D=r.get(T);if(!D)return;h.push(t.fs.removeMatchingKeys(o,v.removedDocuments,T).next(()=>t.fs.addMatchingKeys(o,v.addedDocuments,T)));let M=D.withSequenceNumber(o.currentSequenceNumber);var k,N,Q;e.targetMismatches.has(T)?M=M.withResumeToken(Ni.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,i)),r=r.insert(T,M),N=M,Q=v,(0===(k=D).resumeToken.approximateByteSize()||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(o,M))});let m=Zs();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),h.push(tF(o,u,e.documentUpdates).next(v=>{m=v})),!i.isEqual(ht.min())){const v=t.fs.getLastRemoteSnapshotVersion(o).next(T=>t.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(v)}return ae.waitFor(h).next(()=>u.apply(o)).next(()=>t.fi.Gs(o,m)).next(()=>m)}).then(o=>(t.ui=r,o))}function tF(n,e,t){let i=on();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let o=Zs();return t.forEach((u,h)=>{const m=r.get(u);h.isNoDocument()&&h.version.isEqual(ht.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||0===h.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):s("LocalStore","Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),o})}function a3(n,e){const t=b(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Wg(n,e){const t=b(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(o=>o?(r=o,ae.resolve(r)):t.fs.allocateTargetId(i).next(u=>(r=new Fu(e,u,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function Zg(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,q.Z)(function*(n,e,t){const i=b(n),r=i.ui.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!pf(u))throw u;s("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.ui=i.ui.remove(e),i.ai.delete(r.target)}),Bx.apply(this,arguments)}function II(n,e,t){const i=b(n);let r=ht.min(),o=on();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,v){const T=b(h),D=T.ai.get(v);return void 0!==D?ae.resolve(T.ui.get(D)):T.fs.getTargetData(m,v)}(i,u,Ws(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{o=m})}).next(()=>i.oi.Qs(u,e,t?r:ht.min(),t?o:on())).next(h=>(rF(i,$P(e),h),{documents:h,_i:o})))}function nF(n,e){const t=b(n),i=b(t.fs),r=t.ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,e).next(u=>u?u.target:null))}function iF(n,e){const t=b(n),i=t.ci.get(e)||ht.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.hi.getAllFromCollectionGroup(r,e,kP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(rF(t,e,r),r))}function rF(n,e,t){let i=ht.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ci.set(e,i)}function Vx(){return Vx=(0,q.Z)(function*(n,e,t,i){const r=b(n);let o=on(),u=Zs();for(const v of t){const T=e.wi(v.metadata.name);v.document&&(o=o.add(T));const D=e.mi(v);D.setReadTime(e.gi(v.metadata.readTime)),u=u.insert(T,D)}const h=r.hi.newChangeBuffer({trackRemovals:!0}),m=yield Wg(r,(v=i,Ws(Bg(Bt.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>tF(v,h,u).next(T=>(h.apply(v),T)).next(T=>r.fs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.fs.addMatchingKeys(v,o,m.targetId)).next(()=>r.fi.Gs(v,T)).next(()=>T)))}),Vx.apply(this,arguments)}function c3(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,q.Z)(function*(n,e,t=on()){const i=yield Wg(n,Ws(Sx(e.bundledQuery))),r=b(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Zi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(o,e);const h=i.withResumeToken(Ni.EMPTY_BYTE_STRING,u);return r.ui=r.ui.insert(h.targetId,h),r.fs.updateTargetData(o,h).next(()=>r.fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.fs.addMatchingKeys(o,t,i.targetId)).next(()=>r._s.saveNamedQuery(o,e))})}),Ux.apply(this,arguments)}class u3{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return ae.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:Zi(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:Sx(i.bundledQuery),readTime:Zi(i.readTime)}),ae.resolve();var i}}class d3{constructor(){this.overlays=new ti(Ue.comparator),this.Ii=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.Xt(e,t,o)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ii.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=Wb(),o=t.length+1,u=new Ue(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ti((v,T)=>v-T);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let T=o.get(v.largestBatchId);null===T&&(T=Wb(),o=o.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const h=Wb(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,T)=>h.set(v,T)),!(h.size()>=r)););return ae.resolve(h)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Dx(t,i));let o=this.Ii.get(t);void 0===o&&(o=on(),this.Ii.set(t,o)),this.Ii.set(t,o.add(i.key))}}class jx{constructor(){this.Ti=new En(Ki.Ei),this.Ai=new En(Ki.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new Ki(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new Ki(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new Ue(new Bt([])),i=new Ki(t,e),r=new Ki(t,e+1),o=[];return this.Ai.forEachInRange([i,r],u=>{this.Pi(u),o.push(u.key)}),o}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Ue(new Bt([])),i=new Ki(t,e),r=new Ki(t,e+1);let o=on();return this.Ai.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Ki(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ki{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Ue.comparator(e.key,t.key)||_t(e.Ci,t.Ci)}static Ri(e,t){return _t(e.Ci,t.Ci)||Ue.comparator(e.key,t.key)}}class h3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new En(Ki.Ei)}checkEmpty(e){return ae.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const o=this.xi;this.xi++;const u=new Tx(o,t,i,r);this.Bs.push(u);for(const h of r)this.Ni=this.Ni.add(new Ki(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Mi(t+1),o=r<0?0:r;return ae.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return ae.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ki(t,0),r=new Ki(t,Number.POSITIVE_INFINITY),o=[];return this.Ni.forEachInRange([i,r],u=>{const h=this.ki(u.Ci);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new En(_t);return t.forEach(r=>{const o=new Ki(r,0),u=new Ki(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([o,u],h=>{i=i.add(h.Ci)})}),ae.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;Ue.isDocumentKey(o)||(o=o.child(""));const u=new Ki(new Ue(o),0);let h=new En(_t);return this.Ni.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m.Ci)),!0)},u),ae.resolve(this.Oi(h))}Oi(e){const t=[];return e.forEach(i=>{const r=this.ki(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){p(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return ae.forEach(t.mutations,r=>{const o=new Ki(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new Ki(t,0),r=this.Ni.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class f3{constructor(e){this.$i=e,this.docs=new ti(Ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let i=Zs();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():An.newInvalidDocument(r))}),ae.resolve(i)}getAllFromCollection(e,t,i){let r=Zs();const o=new Ue(t.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||OP(Pj(m),i)<=0||(r=r.insert(m.key,m.mutableCopy()))}return ae.resolve(r)}getAllFromCollectionGroup(e,t,i,r){f()}Bi(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new p3(this)}getSize(e){return ae.resolve(this.size)}}class p3 extends qN{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class m3{constructor(e){this.persistence=e,this.Li=new Nu(t=>uf(t),Hb),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Ui=0,this.qi=new jx,this.targetCount=0,this.Ki=wf.gn()}forEachTarget(e,t){return this.Li.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),ae.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new wf(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Tn(t),ae.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Li.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Li.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.qi.containsKey(t))}}class g3{constructor(e,t){this.Gi={},this.overlays={},this.es=new gt(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new m3(this),this.indexManager=new qH,this.ds=new f3(i=>this.referenceDelegate.Qi(i)),this.M=new kN(t),this._s=new u3(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new d3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new h3(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){s("MemoryPersistence","Starting transaction:",e);const r=new _3(this.es.next());return this.referenceDelegate.ji(),i(r).next(o=>this.referenceDelegate.Wi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}zi(e,t){return ae.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class _3 extends AN{constructor(e){super(),this.currentSequenceNumber=e}}class Hx{constructor(e){this.persistence=e,this.Hi=new jx,this.Ji=null}static Yi(e){return new Hx(e)}get Xi(){if(this.Ji)return this.Ji;throw f()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xi,i=>{const r=Ue.fromPath(i);return this.Zi(e,r).next(o=>{o||t.removeEntry(r,ht.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return ae.or([()=>ae.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function sF(n,e){return`firestore_clients_${n}_${e}`}function oF(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function $x(n,e){return`firestore_targets_${n}_${e}`}class DI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static tr(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new I(r.error.code,r.error.message))),u?new DI(e,t,r.state,o):(a("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class l0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static tr(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new I(i.error.code,i.error.message))),o?new l0(e,i.state,r):(a("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class SI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=pI();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=EP(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new SI(e,o):(a("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zx{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zx(t.clientId,t.onlineState):(a("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gx{constructor(){this.activeTargetIds=pI()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qx{constructor(e,t,i,r,o){this.window=e,this.Yn=t,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ti(_t),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=sF(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Gx),this.dr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,q.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.ir)continue;const o=e.getItem(sF(e.persistenceKey,r));if(o){const u=SI.tr(r,o);u&&(e.ar=e.ar.insert(u.clientId,u))}}e.yr();const i=e.storage.getItem(e.mr);if(i){const r=e.pr(i);r&&e.Ir(r)}for(const r of e.cr)e.ur(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,i){this.Er(e,t,i),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem($x(this.persistenceKey,e));if(i){const r=l0.tr(e,i);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($x(this.persistenceKey,e))}updateQueryState(e,t,i){this.br(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ar(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return s("SharedClientState","READ",e,t),t}setItem(e,t){s("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){s("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const i=e;if(i.storageArea===this.storage){if(s("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void a("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,q.Z)(function*(){if(t.started){if(null!==i.key)if(t.dr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Sr(r,null)}{const r=t.Dr(i.key,i.newValue);if(r)return t.Sr(r.clientId,r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.kr(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.mr){if(null!==i.newValue){const r=t.pr(i.newValue);if(r)return t.Ir(r)}}else if(i.key===t.lr){const r=function(o){let u=gt.A;if(null!=o)try{const h=JSON.parse(o);p("number"==typeof h),u=h}catch(h){a("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==gt.A&&t.sequenceNumberHandler(r)}else if(i.key===t.gr){const r=t.Or(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Fr(o)))}}else t.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,i){const r=new DI(this.currentUser,e,t,i),o=oF(this.persistenceKey,this.currentUser,e);this.setItem(o,r.er())}Ar(e){const t=oF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,i){const r=$x(this.persistenceKey,e),o=new l0(e,t,i);this.setItem(r,o.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const i=this.vr(e);return SI.tr(i,t)}Cr(e,t){const i=this._r.exec(e),r=Number(i[1]);return DI.tr(new Ri(void 0!==i[2]?i[2]:null),r,t)}kr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return l0.tr(r,t)}pr(e){return zx.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,q.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);s("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Tr(this.ar),o=this.Tr(i),u=[],h=[];return o.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.Lr(u,h).then(()=>{this.ar=i})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=pI();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class aF{constructor(){this.Ur=new Gx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Gx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y3{Kr(e){}shutdown(){}}class lF{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){s("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){s("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const v3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class b3{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class w3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,o){const u=this.ho(e,t);s("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(e,u,h,i).then(m=>(s("RestConnection","Received: ",m),m),m=>{throw c("RestConnection",`${e} failed with error: `,m,"url: ",u,"request:",i),m})}_o(e,t,i,r,o){return this.co(e,t,i,r,o)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+rf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}ho(e,t){return`${this.uo}/v1/${t}:${v3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((o,u)=>{const h=new bP;h.listenOnce(rx.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case nI.NO_ERROR:const v=h.getResponseJson();s("Connection","XHR received:",JSON.stringify(v)),o(v);break;case nI.TIMEOUT:s("Connection",'RPC "'+e+'" timed out'),u(new I(C.DEADLINE_EXCEEDED,"Request time out"));break;case nI.HTTP_ERROR:const T=h.getStatus();if(s("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const D=h.getResponseJson().error;if(D&&D.status&&D.message){const M=function(k){const N=k.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(N)>=0?N:C.UNKNOWN}(D.status);u(new I(M,D.message))}else u(new I(C.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new I(C.UNAVAILABLE,"Connection failed."));break;default:f()}}finally{s("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(r);h.send(t,"POST",m,i,15)})}wo(e,t,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ix(),u=yP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new vP({})),this.lo(h.initMessageHeaders,t,i),(0,je.uI)()||(0,je.b$)()||(0,je.d)()||(0,je.w1)()||(0,je.Mn)()||(0,je.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");s("Connection","Creating WebChannel: "+m,h);const v=o.createWebChannel(m,h);let T=!1,D=!1;const M=new b3({Jr:N=>{D?s("Connection","Not sending because WebChannel is closed:",N):(T||(s("Connection","Opening WebChannel transport."),v.open(),T=!0),s("Connection","WebChannel sending:",N),v.send(N))},Yr:()=>v.close()}),k=(N,Q,he)=>{N.listen(Q,Re=>{try{he(Re)}catch(He){setTimeout(()=>{throw He},0)}})};return k(v,Pb.EventType.OPEN,()=>{D||s("Connection","WebChannel transport opened.")}),k(v,Pb.EventType.CLOSE,()=>{D||(D=!0,s("Connection","WebChannel transport closed"),M.ro())}),k(v,Pb.EventType.ERROR,N=>{D||(D=!0,c("Connection","WebChannel transport errored:",N),M.ro(new I(C.UNAVAILABLE,"The operation could not be completed")))}),k(v,Pb.EventType.MESSAGE,N=>{var Q;if(!D){const he=N.data[0];p(!!he);const Re=he,He=Re.error||(null===(Q=Re[0])||void 0===Q?void 0:Q.error);if(He){s("Connection","WebChannel received error:",He);const ze=He.status;let Le=function(yt){const $t=gi[yt];if(void 0!==$t)return sN($t)}(ze),mt=He.message;void 0===Le&&(Le=C.INTERNAL,mt="Unknown error status: "+ze+" with message "+He.message),D=!0,M.ro(new I(Le,mt)),v.close()}else s("Connection","WebChannel received:",he),M.oo(he)}}),k(u,sx.STAT_EVENT,N=>{N.stat===ox.PROXY?s("Connection","Detected buffering proxy"):N.stat===ox.NOPROXY&&s("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.io()},0),M}}function cF(){return"undefined"!=typeof window?window:null}function AI(){return"undefined"!=typeof document?document:null}function c0(n){return new lH(n,!0)}class Wx{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&s("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class uF{constructor(e,t,i,r,o,u,h,m){this.Yn=e,this.Vo=i,this.vo=r,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Wx(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,q.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,q.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,q.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(a(t.toString()),a("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===C.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new I(C.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.No.Ro((0,q.Z)(function*(){e.state=0,e.start()}))}jo(e){return s("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(s("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C3 extends uF{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.M=o}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function dH(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:f(),r=e.targetChange.targetIds||[],o=function(m,v){return m.N?(p(void 0===v||"string"==typeof v),Ni.fromBase64String(v||"")):(p(void 0===v||v instanceof Uint8Array),Ni.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=void 0===m.code?C.UNKNOWN:sN(m.code);return new I(v,m.message||"")}(u);t=new aN(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=xa(n,i.document.name),o=Zi(i.document.updateTime),u=new Cr({mapValue:{fields:i.document.fields}}),h=An.newFoundDocument(r,o,u);t=new mI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=xa(n,i.document),o=i.readTime?Zi(i.readTime):ht.min(),u=An.newNoDocument(r,o);t=new mI([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=xa(n,i.document);t=new mI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return f();{const i=e.filter,o=new Xj(i.count||0);t=new oN(i.targetId,o)}}var m;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return ht.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ht.min():o.readTime?Zi(o.readTime):ht.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=Jb(this.M),t.addTarget=function(r,o){let u;const h=o.target;return u=cI(h)?{documents:_N(r,h)}:{query:yN(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=dN(r,o.resumeToken):o.snapshotVersion.compareTo(ht.min())>0&&(u.readTime=Kb(r,o.snapshotVersion.toTimestamp())),u}(this.M,e);const i=function fH(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return f()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=Jb(this.M),t.removeTarget=e,this.Lo(t)}}class E3 extends uF{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.M=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(p(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function hH(n,e){return n&&n.length>0?(p(void 0!==e),n.map(t=>function(i,r){let o=Zi(i.updateTime?i.updateTime:r);return o.isEqual(ht.min())&&(o=Zi(r)),new Kj(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Zi(e.commitTime);return this.listener.tu(i,t)}return p(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Jb(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Xb(this.M,i))};this.Lo(t)}}class T3 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new I(C.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.co(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new I(C.UNKNOWN,r.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So._o(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new I(C.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class I3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(a(t),this.uu=!1):s("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class D3{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr(h=>{i.enqueueAndForget((0,q.Z)(function*(){var m;Vu(u)&&(s("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,q.Z)(function*(v){const T=b(v);T.wu.add(4),yield Yg(T),T.yu.set("Unknown"),T.wu.delete(4),yield u0(T)}),function(v){return m.apply(this,arguments)})(u))}))}),this.yu=new I3(i,r)}}function u0(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,q.Z)(function*(n){if(Vu(n))for(const e of n.mu)yield e(!0)}),Zx.apply(this,arguments)}function Yg(n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,q.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Yx.apply(this,arguments)}function MI(n,e){const t=b(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Jx(t)?Qx(t):Qg(t).Mo()&&Kx(t,e))}function d0(n,e){const t=b(n),i=Qg(t);t._u.delete(e),i.Mo()&&dF(t,e),0===t._u.size&&(i.Mo()?i.$o():Vu(t)&&t.yu.set("Unknown"))}function Kx(n,e){n.pu.Z(e.targetId),Qg(n).Ho(e)}function dF(n,e){n.pu.Z(e),Qg(n).Jo(e)}function Qx(n){n.pu=new sH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Qg(n).start(),n.yu.au()}function Jx(n){return Vu(n)&&!Qg(n).ko()&&n._u.size>0}function Vu(n){return 0===b(n).wu.size}function hF(n){n.pu=void 0}function S3(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,q.Z)(function*(n){n._u.forEach((e,t)=>{Kx(n,e)})}),Xx.apply(this,arguments)}function A3(n,e){return ek.apply(this,arguments)}function ek(){return ek=(0,q.Z)(function*(n,e){hF(n),Jx(n)?(n.yu.lu(e),Qx(n)):n.yu.set("Unknown")}),ek.apply(this,arguments)}function M3(n,e,t){return tk.apply(this,arguments)}function tk(){return tk=(0,q.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof aN&&2===e.state&&e.cause)try{yield(i=(0,q.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){s("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield xI(n,i)}else if(e instanceof mI?n.pu.ut(e):e instanceof oN?n.pu._t(e):n.pu.ht(e),!t.isEqual(ht.min()))try{const i=yield eF(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.pu.yt(o);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r._u.get(m);v&&r._u.set(m,v.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const m=r._u.get(h);if(!m)return;r._u.set(h,m.withResumeToken(Ni.EMPTY_BYTE_STRING,m.snapshotVersion)),dF(r,h);const v=new Fu(m.target,h,1,m.sequenceNumber);Kx(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){s("RemoteStore","Failed to raise snapshot:",i),yield xI(n,i)}var i}),tk.apply(this,arguments)}function xI(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,q.Z)(function*(n,e,t){if(!pf(e))throw e;n.wu.add(1),yield Yg(n),n.yu.set("Offline"),t||(t=()=>eF(n.localStore)),n.asyncQueue.enqueueRetryable((0,q.Z)(function*(){s("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield u0(n)}))}),nk.apply(this,arguments)}function fF(n,e){return e().catch(t=>xI(n,t,e))}function Kg(n){return ik.apply(this,arguments)}function ik(){return ik=(0,q.Z)(function*(n){const e=b(n),t=Uu(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;x3(e);)try{const r=yield a3(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,k3(e,r)}catch(r){yield xI(e,r)}pF(e)&&mF(e)}),ik.apply(this,arguments)}function x3(n){return Vu(n)&&n.du.length<10}function k3(n,e){n.du.push(e);const t=Uu(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function pF(n){return Vu(n)&&!Uu(n).ko()&&n.du.length>0}function mF(n){Uu(n).start()}function O3(n){return rk.apply(this,arguments)}function rk(){return rk=(0,q.Z)(function*(n){Uu(n).nu()}),rk.apply(this,arguments)}function R3(n){return sk.apply(this,arguments)}function sk(){return sk=(0,q.Z)(function*(n){const e=Uu(n);for(const t of n.du)e.Zo(t.mutations)}),sk.apply(this,arguments)}function P3(n,e,t){return ok.apply(this,arguments)}function ok(){return ok=(0,q.Z)(function*(n,e,t){const i=n.du.shift(),r=Ix.from(i,e,t);yield fF(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Kg(n)}),ok.apply(this,arguments)}function N3(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,q.Z)(function*(n,e){var t;e&&Uu(n).Xo&&(yield(t=(0,q.Z)(function*(i,r){if(rN(o=r.code)&&o!==C.ABORTED){const u=i.du.shift();Uu(i).Fo(),yield fF(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Kg(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),pF(n)&&mF(n)}),ak.apply(this,arguments)}function gF(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,q.Z)(function*(n,e){const t=b(n);t.asyncQueue.verifyOperationInProgress(),s("RemoteStore","RemoteStore received new credentials");const i=Vu(t);t.wu.add(3),yield Yg(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield u0(t)}),lk.apply(this,arguments)}function ck(n,e){return uk.apply(this,arguments)}function uk(){return uk=(0,q.Z)(function*(n,e){const t=b(n);e?(t.wu.delete(2),yield u0(t)):e||(t.wu.add(2),yield Yg(t),t.yu.set("Unknown"))}),uk.apply(this,arguments)}function Qg(n){return n.Iu||(n.Iu=function(e,t,i){const r=b(e);return r.iu(),new C3(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:S3.bind(null,n),eo:A3.bind(null,n),zo:M3.bind(null,n)}),n.mu.push(function(){var e=(0,q.Z)(function*(t){t?(n.Iu.Fo(),Jx(n)?Qx(n):n.yu.set("Unknown")):(yield n.Iu.stop(),hF(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Uu(n){return n.Tu||(n.Tu=function(e,t,i){const r=b(e);return r.iu(),new E3(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:O3.bind(null,n),eo:N3.bind(null,n),eu:R3.bind(null,n),tu:P3.bind(null,n)}),n.mu.push(function(){var e=(0,q.Z)(function*(t){t?(n.Tu.Fo(),yield Kg(n)):(yield n.Tu.stop(),n.du.length>0&&(s("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class dk{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,h=new dk(e,t,u,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,e){if(a("AsyncQueue",`${e}: ${n}`),pf(n))return new I(C.UNAVAILABLE,`${e}: ${n}`);throw n}class Xg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ue.comparator(t.key,i.key):(t,i)=>Ue.comparator(t.key,i.key),this.keyedMap=vx(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new Xg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Xg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class _F{constructor(){this.Eu=new ti(Ue.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):f():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class e_{constructor(e,t,i,r,o,u,h,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m}static fromInitialDocuments(e,t,i,r){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new e_(e,t,Xg.emptySet(t),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$b(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class F3{constructor(){this.Ru=void 0,this.listeners=[]}}class L3{constructor(){this.queries=new Nu(e=>HP(e),$b),this.onlineState="Unknown",this.bu=new Set}}function hk(n,e){return fk.apply(this,arguments)}function fk(){return fk=(0,q.Z)(function*(n,e){const t=b(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new F3),r)try{o.Ru=yield t.onListen(i)}catch(u){const h=Jg(u,`Initialization of query '${mx(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.Pu(t.onlineState),o.Ru&&e.Vu(o.Ru)&&gk(t)}),fk.apply(this,arguments)}function pk(n,e){return mk.apply(this,arguments)}function mk(){return mk=(0,q.Z)(function*(n,e){const t=b(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),mk.apply(this,arguments)}function B3(n,e){const t=b(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.Vu(r)&&(i=!0);u.Ru=r}}i&&gk(t)}function V3(n,e,t){const i=b(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function gk(n){n.bu.forEach(e=>{e.next()})}class _k{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new e_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=e_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class U3{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class yF{constructor(e){this.M=e}wi(e){return xa(this.M,e)}mi(e){return e.metadata.exists?gN(this.M,e.document,!1):An.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Zi(e)}}class j3{constructor(e,t,i){this.Ou=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vF(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Bt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new yF(this.M);for(const r of e)if(r.metadata.queries){const o=i.wi(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||on()).add(o);t.set(u,h)}}return t}complete(){var e=this;return(0,q.Z)(function*(){const t=yield function l3(n,e,t,i){return Vx.apply(this,arguments)}(e.localStore,new yF(e.M),e.documents,e.Ou.id),i=e.$u(e.documents);for(const r of e.queries)yield c3(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function vF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bF{constructor(e){this.key=e}}class wF{constructor(e){this.key=e}}class CF{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=on(),this.mutatedKeys=on(),this.Gu=zP(e),this.Qu=new Xg(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new _F,r=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,D)=>{const M=r.get(T),k=gx(this.query,D)?D:null,N=!!M&&this.mutatedKeys.has(M.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let he=!1;M&&k?M.data.isEqual(k.data)?N!==Q&&(i.track({type:3,doc:k}),he=!0):this.Hu(M,k)||(i.track({type:2,doc:k}),he=!0,(m&&this.Gu(k,m)>0||v&&this.Gu(k,v)<0)&&(h=!0)):!M&&k?(i.track({type:0,doc:k}),he=!0):M&&!k&&(i.track({type:1,doc:M}),he=!0,(m||v)&&(h=!0)),he&&(k?(u=u.add(k),o=Q?o.add(T):o.delete(T)):(u=u.delete(T),o=o.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),o=o.delete(T.key),i.track({type:1,doc:T})}return{Qu:u,zu:i,ii:h,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Au();o.sort((v,T)=>function(D,M){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return f()}};return k(D)-k(M)}(v.type,T.type)||this.Gu(v.doc,T.doc)),this.Ju(i);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,m=h!==this.qu;return this.qu=h,0!==o.length||m?{snapshot:new e_(this.query,e.Qu,r,o,e.mutatedKeys,0===h,m,!1),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _F,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=on(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new wF(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new bF(i))}),t}ta(e){this.Uu=e._i,this.Ku=on();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return e_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class H3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $3{constructor(e){this.key=e,this.na=!1}}class z3{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new Nu(h=>HP(h),$b),this.ra=new Map,this.oa=new Set,this.ua=new ti(Ue.comparator),this.aa=new Map,this.ca=new jx,this.ha={},this.la=new Map,this.fa=wf.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function G3(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,q.Z)(function*(n,e){const t=jk(n);let i,r;const o=t.ia.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.ea();else{const u=yield Wg(t.localStore,Ws(e));t.isPrimaryClient&&MI(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield vk(t,e,i,"current"===h)}return r}),yk.apply(this,arguments)}function vk(n,e,t,i){return bk.apply(this,arguments)}function bk(){return bk=(0,q.Z)(function*(n,e,t,i){n._a=(T,D,M)=>{return(k=(0,q.Z)(function*(N,Q,he,Re){let He=Q.view.Wu(he);He.ii&&(He=yield II(N.localStore,Q.query,!1).then(({documents:mt})=>Q.view.Wu(mt,He)));const ze=Re&&Re.targetChanges.get(Q.targetId),Le=Q.view.applyChanges(He,N.isPrimaryClient,ze);return xk(N,Q.targetId,Le.Xu),Le.snapshot}),function(N,Q,he,Re){return k.apply(this,arguments)})(n,T,D,M);var k};const r=yield II(n.localStore,e,!0),o=new CF(e,r._i),u=o.Wu(r.documents),h=Yb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),m=o.applyChanges(u,n.isPrimaryClient,h);xk(n,t,m.Xu);const v=new H3(e,t,o);return n.ia.set(e,v),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),m.snapshot}),bk.apply(this,arguments)}function q3(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,q.Z)(function*(n,e){const t=b(n),i=t.ia.get(e),r=t.ra.get(i.targetId);if(r.length>1)return t.ra.set(i.targetId,r.filter(o=>!$b(o,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),d0(t.remoteStore,i.targetId),t_(t,i.targetId)}).catch(Cf))):(t_(t,i.targetId),yield Zg(t.localStore,i.targetId,!0))}),wk.apply(this,arguments)}function Ck(){return Ck=(0,q.Z)(function*(n,e,t){const i=Hk(n);try{const r=yield function(o,u){const h=b(o),m=cn.now(),v=u.reduce((D,M)=>D.add(M.key),on());let T;return h.persistence.runTransaction("Locally write mutations","readwrite",D=>h.fi.Ks(D,v).next(M=>{T=M;const k=[];for(const N of u){const Q=Jj(N,T.get(N.key));null!=Q&&k.push(new ff(N.key,Q,xP(Q.value.mapValue),mi.exists(!0)))}return h.Bs.addMutationBatch(D,m,k,u)})).then(D=>(D.applyToLocalDocumentSet(T),{batchId:D.batchId,changes:T}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let m=o.ha[o.currentUser.toKey()];m||(m=new ti(_t)),m=m.insert(u,h),o.ha[o.currentUser.toKey()]=m}(i,r.batchId,t),yield ql(i,r.changes),yield Kg(i.remoteStore)}catch(r){const o=Jg(r,"Failed to persist write");t.reject(o)}}),Ck.apply(this,arguments)}function EF(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,q.Z)(function*(n,e){const t=b(n);try{const i=yield o3(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.aa.get(o);u&&(p(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.na=!0:r.modifiedDocuments.size>0?p(u.na):r.removedDocuments.size>0&&(p(u.na),u.na=!1))}),yield ql(t,i,e)}catch(i){yield Cf(i)}}),Ek.apply(this,arguments)}function TF(n,e,t){const i=b(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ia.forEach((o,u)=>{const h=u.view.Pu(e);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=b(o);h.onlineState=u;let m=!1;h.queries.forEach((v,T)=>{for(const D of T.listeners)D.Pu(u)&&(m=!0)}),m&&gk(h)}(i.eventManager,e),r.length&&i.sa.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Z3(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,q.Z)(function*(n,e,t){const i=b(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.aa.get(e),o=r&&r.key;if(o){let u=new ti(Ue.comparator);u=u.insert(o,An.newNoDocument(o,ht.min()));const h=on().add(o),m=new Zb(ht.min(),new Map,new En(_t),u,h);yield EF(i,m),i.ua=i.ua.remove(o),i.aa.delete(e),kk(i)}else yield Zg(i.localStore,e,!1).then(()=>t_(i,e,t)).catch(Cf)}),Tk.apply(this,arguments)}function Y3(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,q.Z)(function*(n,e){const t=b(n),i=e.batch.batchId;try{const r=yield s3(t.localStore,e);Mk(t,i,null),Ak(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ql(t,r)}catch(r){yield Cf(r)}}),Ik.apply(this,arguments)}function K3(n,e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,q.Z)(function*(n,e,t){const i=b(n);try{const r=yield function(o,u){const h=b(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.Bs.lookupMutationBatch(m,u).next(T=>(p(null!==T),v=T.keys(),h.Bs.removeMutationBatch(m,T))).next(()=>h.Bs.performConsistencyCheck(m)).next(()=>h.fi.Ks(m,v))})}(i.localStore,e);Mk(i,e,t),Ak(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ql(i,r)}catch(r){yield Cf(r)}}),Dk.apply(this,arguments)}function Sk(){return Sk=(0,q.Z)(function*(n,e){const t=b(n);Vu(t.remoteStore)||s("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=b(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.la.get(i)||[];r.push(e),t.la.set(i,r)}catch(i){const r=Jg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Sk.apply(this,arguments)}function Ak(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function Mk(n,e,t){const i=b(n);let r=i.ha[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.ha[i.currentUser.toKey()]=r}}function t_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||IF(n,i)})}function IF(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(d0(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),kk(n))}function xk(n,e,t){for(const i of t)i instanceof bF?(n.ca.addReference(i.key,e),J3(n,i)):i instanceof wF?(s("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||IF(n,i.key)):f()}function J3(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(s("SyncEngine","New document in limbo: "+t),n.oa.add(i),kk(n))}function kk(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Ue(Bt.fromString(e)),i=n.fa.next();n.aa.set(i,new $3(t)),n.ua=n.ua.insert(t,i),MI(n.remoteStore,new Fu(Ws(Bg(t.path)),i,2,gt.A))}}function ql(n,e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,q.Z)(function*(n,e,t){const i=b(n),r=[],o=[],u=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,m)=>{u.push(i._a(m,e,t).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v.fromCache?"not-current":"current"),r.push(v);const T=Fx.Ys(m.targetId,v);o.push(T)}}))}),yield Promise.all(u),i.sa.zo(r),yield(h=(0,q.Z)(function*(m,v){const T=b(m);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ae.forEach(v,M=>ae.forEach(M.Hs,k=>T.persistence.referenceDelegate.addReference(D,M.targetId,k)).next(()=>ae.forEach(M.Js,k=>T.persistence.referenceDelegate.removeReference(D,M.targetId,k)))))}catch(D){if(!pf(D))throw D;s("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const M=D.targetId;if(!D.fromCache){const k=T.ui.get(M),Q=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);T.ui=T.ui.insert(M,Q)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,o))}),Ok.apply(this,arguments)}function X3(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,q.Z)(function*(n,e){const t=b(n);if(!t.currentUser.isEqual(e)){s("SyncEngine","User change. New user:",e.toKey());const i=yield XN(t.localStore,e);t.currentUser=e,(r=t).la.forEach(u=>{u.forEach(h=>{h.reject(new I(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ql(t,i.di)}var r}),Rk.apply(this,arguments)}function e$(n,e){const t=b(n),i=t.aa.get(e);if(i&&i.na)return on().add(i.key);{let r=on();const o=t.ra.get(e);if(!o)return r;for(const u of o){const h=t.ia.get(u);r=r.unionWith(h.view.ju)}return r}}function t$(n,e){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,q.Z)(function*(n,e){const t=b(n),i=yield II(t.localStore,e.query,!0),r=e.view.ta(i);return t.isPrimaryClient&&xk(t,e.targetId,r.Xu),r}),Pk.apply(this,arguments)}function n$(n,e){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,q.Z)(function*(n,e){const t=b(n);return iF(t.localStore,e).then(i=>ql(t,i))}),Nk.apply(this,arguments)}function i$(n,e,t,i){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,q.Z)(function*(n,e,t,i){const r=b(n),o=yield function(u,h){const m=b(u),v=b(m.Bs);return m.persistence.runTransaction("Lookup mutation documents","readonly",T=>v.fn(T,h).next(D=>D?m.fi.Ks(T,D):ae.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield Kg(r.remoteStore):"acknowledged"===t||"rejected"===t?(Mk(r,e,i||null),Ak(r,e),h=e,b(b(r.localStore).Bs)._n(h)):f(),yield ql(r,o)):s("SyncEngine","Cannot apply mutation batch with id: "+e)}),Fk.apply(this,arguments)}function Lk(){return Lk=(0,q.Z)(function*(n,e){const t=b(n);if(jk(t),Hk(t),!0===e&&!0!==t.da){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield DF(t,i.toArray());t.da=!0,yield ck(t.remoteStore,!0);for(const o of r)MI(t.remoteStore,o)}else if(!1===e&&!1!==t.da){const i=[];let r=Promise.resolve();t.ra.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(t_(t,u),Zg(t.localStore,u,!0))),d0(t.remoteStore,u)}),yield r,yield DF(t,i),function(o){const u=b(o);u.aa.forEach((h,m)=>{d0(u.remoteStore,m)}),u.ca.Si(),u.aa=new Map,u.ua=new ti(Ue.comparator)}(t),t.da=!1,yield ck(t.remoteStore,!1)}}),Lk.apply(this,arguments)}function DF(n,e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,q.Z)(function*(n,e,t){const i=b(n),r=[],o=[];for(const u of e){let h;const m=i.ra.get(u);if(m&&0!==m.length){h=yield Wg(i.localStore,Ws(m[0]));for(const v of m){const T=i.ia.get(v),D=yield t$(i,T);D.snapshot&&o.push(D.snapshot)}}else{const v=yield nF(i.localStore,u);h=yield Wg(i.localStore,v),yield vk(i,SF(v),u,!1)}r.push(h)}return i.sa.zo(o),r}),Bk.apply(this,arguments)}function SF(n){return UP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function s$(n){const e=b(n);return b(b(e.localStore).persistence).Fs()}function o$(n,e,t,i){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,q.Z)(function*(n,e,t,i){const r=b(n);if(r.da)return void s("SyncEngine","Ignoring unexpected query state notification.");const o=r.ra.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield iF(r.localStore,$P(o[0])),h=Zb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ql(r,u,h);break}case"rejected":yield Zg(r.localStore,e,!0),t_(r,e,i);break;default:f()}}),Vk.apply(this,arguments)}function a$(n,e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,q.Z)(function*(n,e,t){const i=jk(n);if(i.da){for(const r of e){if(i.ra.has(r)){s("SyncEngine","Adding an already active target "+r);continue}const o=yield nF(i.localStore,r),u=yield Wg(i.localStore,o);yield vk(i,SF(o),u.targetId,!1),MI(i.remoteStore,u)}for(const r of t)i.ra.has(r)&&(yield Zg(i.localStore,r,!1).then(()=>{d0(i.remoteStore,r),t_(i,r)}).catch(Cf))}}),Uk.apply(this,arguments)}function jk(n){const e=b(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z3.bind(null,e),e.sa.zo=B3.bind(null,e.eventManager),e.sa.wa=V3.bind(null,e.eventManager),e}function Hk(n){const e=b(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K3.bind(null,e),e}class AF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,q.Z)(function*(){t.M=c0(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return JN(this.persistence,new QN,e.initialUser,this.M)}ya(e){return new g3(Hx.Yi,this.M)}ga(e){return new aF}terminate(){var e=this;return(0,q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MF extends AF{constructor(e,t,i){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,q.Z)(function*(){yield t().call(i,e),yield i.Ta.initialize(i,e),yield Hk(i.Ta.syncEngine),yield Kg(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(e){return JN(this.persistence,new QN,e.initialUser,this.M)}pa(e){return new KH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=Nx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new Px(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,cF(),AI(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new aF}}class c$ extends MF{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,q.Z)(function*(){yield t().call(i,e);const r=i.Ta.syncEngine;i.sharedClientState instanceof qx&&(i.sharedClientState.syncEngine={$r:i$.bind(null,r),Br:o$.bind(null,r),Lr:a$.bind(null,r),Fs:s$.bind(null,r),Fr:n$.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var o=(0,q.Z)(function*(u){yield function r$(n,e){return Lk.apply(this,arguments)}(i.Ta.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}ga(e){const t=cF();if(!qx.vt(t))throw new I(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Nx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qx(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class $k{initialize(e,t){var i=this;return(0,q.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>TF(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=X3.bind(null,i.syncEngine),yield ck(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L3}createDatastore(e){const t=c0(e.databaseInfo.databaseId),i=new w3(e.databaseInfo);return new T3(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>TF(this.syncEngine,h,0),u=lF.vt()?new lF:new y3,new D3(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,h,m,v){const T=new z3(i,r,o,u,h,m);return v&&(T.da=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,q.Z)(function*(t){const i=b(t);s("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Yg(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xF(n,e=10240){let t=0;return{read:()=>(0,q.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,q.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class u${constructor(e,t){this.Ra=e,this.M=t,this.metadata=new S,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,q.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,q.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,q.Z)(function*(){const t=yield e.Va();if(null===t)return null;const i=e.ba.decode(t),r=Number(i);isNaN(r)&&e.va(`length string (${i}) is not valid number`);const o=yield e.Sa(r);return new U3(JSON.parse(o),t.length+r)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,q.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Sa(e){var t=this;return(0,q.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const i=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,q.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class d${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,q.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new I(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,q.Z)(function*(o,u){const h=b(o),m=Jb(h.M)+"/documents",v={documents:u.map(k=>Qb(h.M,k))},T=yield h._o("BatchGetDocuments",m,v),D=new Map;T.forEach(k=>{const N=function uH(n,e){return"found"in e?function(t,i){p(!!i.found);const r=xa(t,i.found.name),o=Zi(i.found.updateTime),u=new Cr({mapValue:{fields:i.found.fields}});return An.newFoundDocument(r,o,u)}(n,e):"missing"in e?function(t,i){p(!!i.missing),p(!!i.readTime);const r=xa(t,i.missing),o=Zi(i.readTime);return An.newNoDocument(r,o)}(n,e):f()}(h.M,k);D.set(N.key.toString(),N)});const M=[];return u.forEach(k=>{const N=D.get(k.toString());p(!!N),M.push(N)}),M}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new qb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=Ue.fromPath(r);e.mutations.push(new yx(o,e.precondition(o)))}),yield(i=(0,q.Z)(function*(r,o){const u=b(r),h=Jb(u.M)+"/documents",m={writes:o.map(v=>Xb(u.M,v))};yield u.co("Commit",h,m)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw f();t=ht.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new I(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mi.updateTime(t):mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ht.min()))throw new I(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(t)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h${constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.xa=i.maxAttempts,this.No=new Wx(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,q.Z)(function*(){const t=new d$(e.datastore),i=e.ka(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Ma(o)}))}).catch(r=>{e.Ma(r)})}))}ka(e){try{const t=this.updateFunction(e);return!Fb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rN(t)}return!1}}class f${constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ri.UNAUTHENTICATED,this.clientId=wr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,q.Z)(function*(h){s("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(s("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function kF(n,e){return zk.apply(this,arguments)}function zk(){return zk=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),s("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,q.Z)(function*(o){i.isEqual(o)||(yield XN(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zk.apply(this,arguments)}function OF(n,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qk(n);s("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>gF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>gF(e.remoteStore,o)),n.onlineComponents=e}),Gk.apply(this,arguments)}function qk(n){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,q.Z)(function*(n){return n.offlineComponents||(s("FirestoreClient","Using default OfflineComponentProvider"),yield kF(n,new AF)),n.offlineComponents}),Wk.apply(this,arguments)}function OI(n){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,q.Z)(function*(n){return n.onlineComponents||(s("FirestoreClient","Using default OnlineComponentProvider"),yield OF(n,new $k)),n.onlineComponents}),Zk.apply(this,arguments)}function RF(n){return qk(n).then(e=>e.persistence)}function Yk(n){return qk(n).then(e=>e.localStore)}function PF(n){return OI(n).then(e=>e.remoteStore)}function Kk(n){return OI(n).then(e=>e.syncEngine)}function n_(n){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,q.Z)(function*(n){const e=yield OI(n),t=e.eventManager;return t.onListen=G3.bind(null,e.syncEngine),t.onUnlisten=q3.bind(null,e.syncEngine),t}),Qk.apply(this,arguments)}function NF(n,e,t={}){const i=new S;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(r,o,u,h,m){const v=new kI({next:D=>{o.enqueueAndForget(()=>pk(r,T));const M=D.docs.has(u);!M&&D.fromCache?m.reject(new I(C.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&h&&"server"===h.source?m.reject(new I(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(D)},error:D=>m.reject(D)}),T=new _k(Bg(u.path),v,{includeMetadataChanges:!0,ku:!0});return hk(r,T)}(yield n_(n),n.asyncQueue,e,t,i)})),i.promise}function FF(n,e,t={}){const i=new S;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(r,o,u,h,m){const v=new kI({next:D=>{o.enqueueAndForget(()=>pk(r,T)),D.fromCache&&"server"===h.source?m.reject(new I(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),T=new _k(u,v,{includeMetadataChanges:!0,ku:!0});return hk(r,T)}(yield n_(n),n.asyncQueue,e,t,i)})),i.promise}const LF=new Map;function Jk(n,e,t){if(!t)throw new I(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BF(n,e,t,i){if(!0===e&&!0===i)throw new I(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VF(n){if(!Ue.isDocumentKey(n))throw new I(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UF(n){if(Ue.isDocumentKey(n))throw new I(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":f()}function zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new I(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=RI(n);throw new I(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jF(n,e){if(e<=0)throw new I(C.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class HF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new I(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h0{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HF({}),this._settingsFrozen=!1,e instanceof zl?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new I(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(r.options.projectId)}(e))}get app(){if(!this._app)throw new I(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new B;switch(t.type){case"gapi":const i=t.client;return p(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Fe(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new I(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LF.get(e);t&&(s("ComponentProvider","Removing Datastore"),LF.delete(e),t.terminate())}(this),Promise.resolve()}}class Mn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class Er{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Er(this.firestore,e,this._query)}}class Oa extends Er{constructor(e,t,i){super(e,t,Bg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ue(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Xk(n,e,...t){if(n=(0,je.m9)(n),Jk("collection","path",e),n instanceof h0){const i=Bt.fromString(e,...t);return UF(i),new Oa(n,null,i)}{if(!(n instanceof Mn||n instanceof Oa))throw new I(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bt.fromString(e,...t));return UF(i),new Oa(n.firestore,null,i)}}function f0(n,e,...t){if(n=(0,je.m9)(n),1===arguments.length&&(e=wr.R()),Jk("doc","path",e),n instanceof h0){const i=Bt.fromString(e,...t);return VF(i),new Mn(n,null,new Ue(i))}{if(!(n instanceof Mn||n instanceof Oa))throw new I(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bt.fromString(e,...t));return VF(i),new Mn(n.firestore,n instanceof Oa?n.converter:null,new Ue(i))}}function $F(n,e){return n=(0,je.m9)(n),e=(0,je.m9)(e),(n instanceof Mn||n instanceof Oa)&&(e instanceof Mn||e instanceof Oa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zF(n,e){return n=(0,je.m9)(n),e=(0,je.m9)(e),n instanceof Er&&e instanceof Er&&n.firestore===e.firestore&&$b(n._query,e._query)&&n.converter===e.converter}class T${constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Wx(this,"async_queue_retry"),this.Qa=()=>{const t=AI();t&&s("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=AI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=AI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new S;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,q.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!pf(t))throw t;s("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,a("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=dk.createAndSchedule(this,e,t,i,o=>this.Ha(o));return this.La.push(r),r}ja(){this.Ua&&f()}verifyOperationInProgress(){}Ja(){var e=this;return(0,q.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function eO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class I${constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pn extends h0{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new T$,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||GF(this),this._firestoreClient.terminate()}}function S$(n=(0,bt.getApp)()){return(0,bt._getProvider)(n,"firestore").getImmediate()}function _i(n){return n._firestoreClient||GF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GF(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kj(n._databaseId,o,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new f$(n._authCredentials,n._appCheckCredentials,n._queue,i)}function qF(n,e,t){const i=new S;return n.asyncQueue.enqueue((0,q.Z)(function*(){try{yield kF(n,t),yield OF(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===C.FAILED_PRECONDITION||o.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function WF(n){if(n._initialized||n._terminated)throw new I(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new I(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ra(Ni.fromBase64String(e))}catch(t){throw new I(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ra(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tf{constructor(e){this._methodName=e}}class PI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new I(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}const F$=/^__.*__$/;class L${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ff(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gb(e,this.data,t,this.fieldTransforms)}}class ZF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ff(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw f()}}class NI{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.rc(e),r}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return BI(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(YF(this.ec)&&F$.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class B${constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||c0(e)}lc(e,t,i,r=!1){return new NI({ec:e,methodName:t,hc:i,path:Pi.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function If(n){const e=n._freezeSettings(),t=c0(n._databaseId);return new B$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,i,r,o={}){const u=n.lc(o.merge||o.mergeFields?2:0,e,t,r);rO("Data must be an object, but it was:",u,i);const h=JF(i,u);let m,v;if(o.merge)m=new Pg(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const T=[];for(const D of o.mergeFields){const M=sO(e,D,t);if(!u.contains(M))throw new I(C.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);eL(T,M)||T.push(M)}m=new Pg(T),v=u.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,v=u.fieldTransforms;return new L$(new Cr(h),m,v)}class p0 extends Tf{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p0}}function KF(n,e,t){return new NI({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class tO extends Tf{_toFieldTransform(e){return new zb(e.path,new Ug)}isEqual(e){return e instanceof tO}}class V$ extends Tf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=KF(this,e,!0),i=this.fc.map(o=>Df(o,t)),r=new df(i);return new zb(e.path,r)}isEqual(e){return this===e}}class U$ extends Tf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=KF(this,e,!0),i=this.fc.map(o=>Df(o,t)),r=new hf(i);return new zb(e.path,r)}isEqual(e){return this===e}}class j$ extends Tf{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new jg(e.M,WP(e.M,this.dc));return new zb(e.path,t)}isEqual(e){return this===e}}function nO(n,e,t,i){const r=n.lc(1,e,t);rO("Data must be an object, but it was:",r,i);const o=[],u=Cr.empty();Fo(i,(m,v)=>{const T=LI(e,m,t);v=(0,je.m9)(v);const D=r.oc(T);if(v instanceof p0)o.push(T);else{const M=Df(v,D);null!=M&&(o.push(T),u.set(T,M))}});const h=new Pg(o);return new ZF(u,h,r.fieldTransforms)}function iO(n,e,t,i,r,o){const u=n.lc(1,e,t),h=[sO(e,i,t)],m=[r];if(o.length%2!=0)throw new I(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(sO(e,o[M])),m.push(o[M+1]);const v=[],T=Cr.empty();for(let M=h.length-1;M>=0;--M)if(!eL(v,h[M])){const k=h[M];let N=m[M];N=(0,je.m9)(N);const Q=u.oc(k);if(N instanceof p0)v.push(k);else{const he=Df(N,Q);null!=he&&(v.push(k),T.set(k,he))}}const D=new Pg(v);return new ZF(T,D,u.fieldTransforms)}function QF(n,e,t,i=!1){return Df(t,n.lc(i?4:3,e))}function Df(n,e){if(XF(n=(0,je.m9)(n)))return rO("Unsupported field value:",e,n),JF(n,e);if(n instanceof Tf)return function(t,i){if(!YF(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let h=Df(u,i.uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,je.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return WP(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=cn.fromDate(t);return{timestampValue:Kb(i.M,r)}}if(t instanceof cn){const r=new cn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kb(i.M,r)}}if(t instanceof PI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ra)return{bytesValue:dN(i.M,t._byteString)};if(t instanceof Mn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.ac(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:bx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${RI(t)}`)}(n,e)}function JF(n,e){const t={};return Rg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(n,(i,r)=>{const o=Df(r,e.sc(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function XF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof cn||n instanceof PI||n instanceof Ra||n instanceof Mn||n instanceof Tf)}function rO(n,e,t){if(!XF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=RI(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function sO(n,e,t){if((e=(0,je.m9)(e))instanceof Wl)return e._internalPath;if("string"==typeof e)return LI(n,e);throw BI("Field path arguments must be of type string or ",n,!1,void 0,t)}const H$=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(H$)>=0)throw BI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wl(...e.split("."))._internalPath}catch(i){throw BI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function BI(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new I(C.INVALID_ARGUMENT,h+n+m)}function eL(n,e){return n.some(t=>t.isEqual(e))}class m0{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $$ extends m0{data(){return super.data()}}function VI(n,e){return"string"==typeof e?LI(n,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}class Sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends m0{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new g0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(VI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class g0 extends Zl{data(e={}){return super.data(e)}}class ju{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new g0(this._firestore,this._userDataWriter,i.key,i,new Sf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new g0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new g0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:z$(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function z$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return f()}}function tL(n,e){return n instanceof Zl&&e instanceof Zl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ju&&e instanceof ju&&n._firestore===e._firestore&&zF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function nL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new I(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _0{}function Yl(n,...e){for(const t of e)n=t._apply(n);return n}class G$ extends _0{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=If(e.firestore),i=function(r,o,u,h,m,v,T){let D;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new I(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){uL(T,v);const k=[];for(const N of T)k.push(cL(h,r,N));D={arrayValue:{values:k}}}else D=cL(h,r,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||uL(T,v),D=QF(u,"where",T,"in"===v||"not-in"===v);const M=cr.create(m,v,D);return function(k,N){if(N.S()){const he=fx(k);if(null!==he&&!he.isEqual(N.field))throw new I(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${he.toString()}' and '${N.field.toString()}'`);const Re=hx(k);null!==Re&&dL(0,N.field,Re)}const Q=function(he,Re){for(const He of he.filters)if(Re.indexOf(He.op)>=0)return He.op;return null}(k,function(he){switch(he){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(null!==Q)throw new I(C.INVALID_ARGUMENT,Q===N.op?`Invalid query. You cannot use more than one '${N.op.toString()}' filter.`:`Invalid query. You cannot use '${N.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,M),M}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Er(e.firestore,e.converter,function(r,o){const u=r.filters.concat([o]);return new Gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}function iL(n,e,t){const i=e,r=VI("where",n);return new G$(r,i,t)}class q$ extends _0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new I(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new I(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Lg(r,o);return function(h,m){if(null===hx(h)){const v=fx(h);null!==v&&dL(0,v,m.field)}}(i,u),u}(e._query,this._c,this.gc);return new Er(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Gl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function rL(n,e="asc"){const t=e,i=VI("orderBy",n);return new q$(i,t)}class sL extends _0{constructor(e,t,i){super(),this.type=e,this.yc=t,this.Ic=i}_apply(e){return new Er(e.firestore,e.converter,jP(e._query,this.yc,this.Ic))}}class oL extends _0{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=lL(e,this.type,this.Tc,this.Ec);return new Er(e.firestore,e.converter,(r=t,new Gl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class aL extends _0{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=lL(e,this.type,this.Tc,this.Ec);return new Er(e.firestore,e.converter,(r=t,new Gl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lL(n,e,t,i){if(t[0]=(0,je.m9)(t[0]),t[0]instanceof m0)return function(r,o,u,h,m){if(!h)throw new I(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const T of Vg(r))if(T.field.isKeyField())v.push(lf(o,h.key));else{const D=h.data.field(T.field);if(lx(D))throw new I(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=T.field.canonicalString();throw new I(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(D)}return new Pu(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=If(n.firestore);return function(o,u,h,m,v,T){const D=o.explicitOrderBy;if(v.length>D.length)throw new I(C.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let k=0;k<v.length;k++){const N=v[k];if(D[k].field.isKeyField()){if("string"!=typeof N)throw new I(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof N}`);if(!px(o)&&-1!==N.indexOf("/"))throw new I(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${N}' contains a slash.`);const Q=o.path.child(Bt.fromString(N));if(!Ue.isDocumentKey(Q))throw new I(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const he=new Ue(Q);M.push(lf(u,he))}else{const Q=QF(h,m,N);M.push(Q)}}return new Pu(M,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function cL(n,e,t){if("string"==typeof(t=(0,je.m9)(t))){if(""===t)throw new I(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(e)&&-1!==t.indexOf("/"))throw new I(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Bt.fromString(t));if(!Ue.isDocumentKey(i))throw new I(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lf(n,new Ue(i))}if(t instanceof Mn)return lf(n,t._key);throw new I(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RI(t)}.`)}function uL(n,e){if(!Array.isArray(n)||0===n.length)throw new I(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new I(C.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dL(n,e,t){if(!t.isEqual(e))throw new I(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const X$={maxAttempts:5};class oO{convertValue(e,t="none"){switch(af(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw f()}}convertObject(e,t){const i={};return Fo(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new PI(qn(e.latitude),qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=CP(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nb(e));default:return null}}convertTimestamp(e){const t=ku(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Bt.fromString(e);p(wN(i));const r=new zl(i.get(1),i.get(3)),o=new Ue(i.popFirst(5));return r.isEqual(t)||a(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function UI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ez extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}class hL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=If(e)}set(e,t,i){this._verifyNotCommitted();const r=Hu(e,this._firestore),o=UI(r.converter,t,i),u=FI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,mi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Hu(e,this._firestore);let u;return u="string"==typeof(t=(0,je.m9)(t))||t instanceof Wl?iO(this._dataReader,"WriteBatch.update",o._key,t,i,r):nO(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hu(e,this._firestore);return this._mutations=this._mutations.concat(new qb(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new I(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(n,e){if((n=(0,je.m9)(n)).firestore!==e)throw new I(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Af extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function fL(n){n=zt(n,Er);const e=zt(n.firestore,Pn),t=_i(e),i=new Af(e);return nL(n._query),FF(t,n._query).then(r=>new ju(e,i,n,r))}function aO(n,e,t){n=zt(n,Mn);const i=zt(n.firestore,Pn),r=UI(n.converter,e,t);return i_(i,[FI(If(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,mi.none())])}function lO(n,e,t,...i){n=zt(n,Mn);const r=zt(n.firestore,Pn),o=If(r);let u;return u="string"==typeof(e=(0,je.m9)(e))||e instanceof Wl?iO(o,"updateDoc",n._key,e,t,i):nO(o,"updateDoc",n._key,e),i_(r,[u.toMutation(n._key,mi.exists(!0))])}function pL(n){return i_(zt(n.firestore,Pn),[new qb(n._key,mi.none())])}function mL(n,e){const t=zt(n.firestore,Pn),i=f0(n),r=UI(n.converter,e);return i_(t,[FI(If(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}function cO(n,...e){var t,i,r;n=(0,je.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||eO(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(eO(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[u+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let m,v,T;if(n instanceof Mn)v=zt(n.firestore,Pn),T=Bg(n._key.path),m={next:D=>{e[u]&&e[u](uO(v,n,D))},error:e[u+1],complete:e[u+2]};else{const D=zt(n,Er);v=zt(D.firestore,Pn),T=D._query;const M=new Af(v);m={next:k=>{e[u]&&e[u](new ju(v,M,D,k))},error:e[u+1],complete:e[u+2]},nL(n._query)}return function(D,M,k,N){const Q=new kI(N),he=new _k(M,Q,k);return D.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return hk(yield n_(D),he)})),()=>{Q.Aa(),D.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return pk(yield n_(D),he)}))}}(_i(v),T,h,m)}function i_(n,e){return function(t,i){const r=new S;return t.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function W3(n,e,t){return Ck.apply(this,arguments)}(yield Kk(t),i,r)})),r.promise}(_i(n),e)}function uO(n,e,t){const i=t.docs.get(e._key),r=new Af(n);return new Zl(n,r,e._key,i,new Sf(t.hasPendingWrites,t.fromCache),e.converter)}class az extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=If(e)}get(e){const t=Hu(e,this._firestore),i=new ez(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return f();const o=r[0];if(o.isFoundDocument())return new m0(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new m0(this._firestore,i,t._key,null,t.converter);throw f()})}set(e,t,i){const r=Hu(e,this._firestore),o=UI(r.converter,t,i),u=FI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=Hu(e,this._firestore);let u;return u="string"==typeof(t=(0,je.m9)(t))||t instanceof Wl?iO(this._dataReader,"Transaction.update",o._key,t,i,r):nO(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Hu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hu(e,this._firestore),i=new Af(this._firestore);return super.get(e).then(r=>new Zl(this._firestore,i,t._key,r._document,new Sf(!1,!1),t.converter))}}!function(n,e=!0){rf=bt.SDK_VERSION,(0,bt._registerComponent)(new Di.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=new Pn(r,new de(t.getProvider("auth-internal")),new be(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC")),(0,bt.registerVersion)(ax,"3.4.9",n),(0,bt.registerVersion)(ax,"3.4.9","esm2017")}();var pz={includeMetadataChanges:!1};function dO(n,e){return void 0===e&&(e=pz),new Vn.y(function(t){return{unsubscribe:cO(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}function gz(n,e){return void 0===e&&(e={}),function mz(n){return dO(n,{includeMetadataChanges:!0})}(n).pipe((0,Qe.U)(function(t){return _L(t,e)}))}function _L(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function Cz(n,e){return void 0===e&&(e={}),function wz(n){return dO(n,{includeMetadataChanges:!0}).pipe((0,Qe.U)(function(e){return e.docs}))}(n).pipe((0,Qe.U)(function(t){return t.map(function(i){return _L(i,e)})}))}class r_{constructor(e){return e}}const wL="firestore",pO=new l.OlP("angularfire2.firestore-instances");function Iz(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new r_(i)}}const Dz={provide:class Ez{constructor(){return Iy(wL)}},deps:[[new l.FiY,pO]]},Sz={provide:r_,useFactory:function Tz(n,e){const t=$c(wL,n,e);return t&&new r_(t)},deps:[[new l.FiY,pO],Do]};let Az=(()=>{class n{constructor(){(0,bt.registerVersion)("angularfire",Jd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Sz,Dz]}),n})();function Mz(n,...e){return{ngModule:Az,providers:[{provide:pO,useFactory:Iz(n),multi:!0,deps:[l.R0b,l.zs3,eh,th,[new l.FiY,Nr],[new l.FiY,or],...e]}]}}const mO=ln(Cz,!0),xz=ln(gz,!0),jI=ln(mL,!0),Pa=ln(Xk,!0),CL=ln(pL,!0),$u=ln(f0,!0),gO=ln(fL,!0),HI=ln(S$,!0),kz=ln(rL,!0),_O=ln(Yl,!0),Oz=ln(aO,!0),$I=ln(lO,!0),Rz=ln(iL,!0);let y0=(()=>{class n{constructor(t,i){this.firestore=t,this.authService=i}get currentUserProfile$(){return this.authService.currentUser$.pipe(_n(t=>{if(!(null==t?void 0:t.uid))return et(null);const i=$u(this.firestore,"users",null==t?void 0:t.uid);return xz(i)}))}get allUsers$(){const t=Pa(this.firestore,"users"),i=_O(t);return mO(i)}addUser(t){const i=$u(this.firestore,"users",null==t?void 0:t.uid);return(0,sn.D)(Oz(i,t))}updateUser(t){const i=$u(this.firestore,"users",null==t?void 0:t.uid);return(0,sn.D)($I(i,Object.assign({},t)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(r_),l.LFG(Mo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pz=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function Nz(){return(0,l.f3M)(ce)}}),Fz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yO,Kl=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Lz(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Fz.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pz,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{yO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){yO=!1}let s_,ur=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ui(n){return n===sd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TL=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function IL(){if(s_)return s_;if("object"!=typeof document||!document)return s_=new Set(TL),s_;let n=document.createElement("input");return s_=new Set(TL.filter(e=>(n.setAttribute("type",e),n.type===e))),s_}let b0,Mf,vO;function o_(n){return function Bz(){if(null==b0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>b0=!0}))}finally{b0=b0||!1}return b0}()?n:!!n.capture}function Vz(){if(null==Mf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mf=!1,Mf;if("scrollBehavior"in document.documentElement.style)Mf=!0;else{const n=Element.prototype.scrollTo;Mf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Mf}function zu(n){return n.composedPath?n.composedPath()[0]:n.target}function bO(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Ql(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function AL(n,e=pa){return(0,Un.e)((t,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function m(){const v=u+n,T=e.now();if(T<v)return r=this.schedule(void 0,v-T),void i.add(r);h()}t.subscribe((0,Cn.x)(i,v=>{o=v,u=e.now(),r||(r=e.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function TO(n,e=ma.y){return n=null!=n?n:Xz,(0,Un.e)((t,i)=>{let r,o=!0;t.subscribe((0,Cn.x)(i,u=>{const h=e(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function Xz(n,e){return n===e}var ML=R(5032);function Fi(n){return(0,Un.e)((e,t)=>{(0,ga.Xf)(n).subscribe((0,Cn.x)(t,()=>t.complete(),ML.Z)),!t.closed&&e.subscribe(t)})}function ni(n){return null!=n&&"false"!=`${n}`}function WI(n,e=0){return function e6(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function xL(n){return Array.isArray(n)?n:[n]}function yi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Jl(n){return n instanceof l.SBq?n.nativeElement:n}let kL=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n6=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Jl(t);return new Vn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new St.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OL=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ni(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=WI(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(AL(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(n6),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kL]}),n})();class NL{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new St.x,this._typeaheadSubscription=tt.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new St.x,this.change=new St.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Dn(t=>this._pressedLetters.push(t)),AL(e),Hn(()=>this._pressedLetters.length>0),(0,Qe.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ql(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class s6 extends NL{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class DO extends NL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function SO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function AO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const d6=new l.OlP("cdk-input-modality-detector-options"),h6={ignoreKeys:[18,17,224,91,16]},a_=o_({passive:!0,capture:!0});let f6=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Fr(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,m;(null===(m=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===m?void 0:m.some(v=>v===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=zu(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(SO(u)?"keyboard":"mouse"),this._mostRecentTarget=zu(u))},this._onTouchstart=u=>{AO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zu(u))},this._options=Object.assign(Object.assign({},h6),o),this.modalityDetected=this._modality.pipe(function Jz(n){return Hn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(TO()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,a_),r.addEventListener("mousedown",this._onMousedown,a_),r.addEventListener("touchstart",this._onTouchstart,a_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,a_),document.removeEventListener("mousedown",this._onMousedown,a_),document.removeEventListener("touchstart",this._onTouchstart,a_))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ur),l.LFG(l.R0b),l.LFG(ce),l.LFG(d6,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m6=new l.OlP("cdk-focus-monitor-default-options"),ZI=o_({passive:!0,capture:!0});let E0=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.x,this._rootNodeFocusAndBlurListener=h=>{const m=zu(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let T=m;T;T=T.parentElement)v.call(this,h,T)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=Jl(t);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const o=function jz(n){if(function Uz(){if(null==vO){const n="undefined"!=typeof document?document.head:null;vO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vO}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new St.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=Jl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Jl(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=zu(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ZI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ZI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Fi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ZI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ZI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ur),l.LFG(f6),l.LFG(ce,8),l.LFG(m6,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g6=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this.cdkFocusChange=new l.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(E0))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const BL="cdk-high-contrast-black-on-white",VL="cdk-high-contrast-white-on-black",MO="cdk-high-contrast-active";let UL=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(MO),t.remove(BL),t.remove(VL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(MO),t.add(BL)):2===i&&(t.add(MO),t.add(VL))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ur),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_6=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UL))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[IO]]}),n})();class jL{}const Xl="*";function YI(n,e){return{type:7,name:n,definitions:e,options:{}}}function xf(n,e=null){return{type:4,styles:e,timings:n}}function HL(n,e=null){return{type:2,steps:n,options:e}}function Xr(n){return{type:6,styles:n,offset:null}}function l_(n,e,t){return{type:0,name:n,styles:e,options:t}}function kf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $L(n){Promise.resolve(null).then(n)}class T0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$L(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class zL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?$L(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Ht=!1;function GL(n){return new l.vHH(3e3,Ht)}function J6(){return"undefined"!=typeof window&&void 0!==window.document}function kO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gu(n){switch(n.length){case 0:return new T0;case 1:return n[0];default:return new zL(n)}}function qL(n,e,t,i,r={},o={}){const u=[],h=[];let m=-1,v=null;if(i.forEach(T=>{const D=T.offset,M=D==m,k=M&&v||{};Object.keys(T).forEach(N=>{let Q=N,he=T[N];if("offset"!==N)switch(Q=e.normalizePropertyName(Q,u),he){case"!":he=r[N];break;case Xl:he=o[N];break;default:he=e.normalizeStyleValue(N,Q,he,u)}k[Q]=he}),M||h.push(k),v=k,m=D}),u.length)throw function j6(n){return new l.vHH(3502,Ht)}();return h}function OO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&RO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&RO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&RO(t,"destroy",n)))}}function RO(n,e,t){const i=t.totalTime,o=PO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function PO(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Is(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function WL(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let NO=(n,e)=>!1,ZL=(n,e,t)=>[],YL=null;function FO(n){const e=n.parentNode||n.host;return e===YL?null:e}(kO()||"undefined"!=typeof Element)&&(J6()?(YL=(()=>document.documentElement)(),NO=(n,e)=>{for(;e;){if(e===n)return!0;e=FO(e)}return!1}):NO=(n,e)=>n.contains(e),ZL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Of=null,KL=!1;function QL(n){Of||(Of=function eG(){return"undefined"!=typeof document?document.body:null}()||{},KL=!!Of.style&&"WebkitAppearance"in Of.style);let e=!0;return Of.style&&!function X6(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Of.style,!e&&KL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Of.style)),e}const JL=NO,XL=ZL;let eB=(()=>{class n{validateStyleProperty(t){return QL(t)}matchesElement(t,i){return!1}containsElement(t,i){return JL(t,i)}getParentElement(t){return FO(t)}query(t,i,r){return XL(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,h=[],m){return new T0(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),LO=(()=>{class n{}return n.NOOP=new eB,n})();const BO="ng-enter",QI="ng-leave",JI="ng-trigger",XI=".ng-trigger",nB="ng-animating",VO=".ng-animating";function Rf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UO(parseFloat(e[1]),e[2])}function UO(n,e){return"s"===e?1e3*n:n}function eD(n,e,t){return n.hasOwnProperty("duration")?n:function iG(n,e,t){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(GL()),{duration:0,delay:0,easing:""};r=UO(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=UO(parseFloat(m),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!t){let h=!1,m=e.length;r<0&&(e.push(function v6(){return new l.vHH(3100,Ht)}()),h=!0),o<0&&(e.push(function b6(){return new l.vHH(3101,Ht)}()),h=!0),h&&e.splice(m,0,GL())}return{duration:r,delay:o,easing:u}}(n,e,t)}function c_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qu(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else c_(n,t);return t}function rB(n,e,t){return t?e+":"+t+";":""}function sB(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=rB(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=rB(0,oG(t),n.style[t]));n.setAttribute("style",e)}function Na(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=HO(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),kO()&&sB(n))}function Pf(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=HO(t);n.style[i]=""}),kO()&&sB(n))}function I0(n){return Array.isArray(n)?1==n.length?n[0]:HL(n):n}const jO=new RegExp("{{\\s*(.+?)\\s*}}","g");function oB(n){let e=[];if("string"==typeof n){let t;for(;t=jO.exec(n);)e.push(t[1]);jO.lastIndex=0}return e}function tD(n,e,t){const i=n.toString(),r=i.replace(jO,(o,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(function C6(n){return new l.vHH(3003,Ht)}()),h=""),h.toString()});return r==i?n:r}function nD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sG=/-+([a-z0-9])/g;function HO(n){return n.replace(sG,(...e)=>e[1].toUpperCase())}function oG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ds(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function E6(n){return new l.vHH(3004,Ht)}()}}function aB(n,e){return window.getComputedStyle(n)[e]}function hG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fG(n,e,t){if(":"==n[0]){const m=function pG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function L6(n){return new l.vHH(3016,Ht)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function F6(n){return new l.vHH(3015,Ht)}()),e;const r=i[1],o=i[2],u=i[3];e.push(lB(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&e.push(lB(u,r))}(i,t,e)):t.push(n),t}const oD=new Set(["true","1"]),aD=new Set(["false","0"]);function lB(n,e){const t=oD.has(n)||aD.has(n),i=oD.has(e)||aD.has(e);return(r,o)=>{let u="*"==n||n==r,h="*"==e||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?oD.has(n):aD.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?oD.has(e):aD.has(e)),u&&h}}const mG=new RegExp("s*:selfs*,?","g");function $O(n,e,t,i){return new gG(n).build(e,t,i)}class gG{constructor(e){this._driver=e}build(e,t,i){const r=new vG(t);this._resetContextStyleTimingState(r);const o=Ds(this,I0(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function I6(){return new l.vHH(3006,Ht)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(T=>{m.name=T,o.push(this.visitState(m,t))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,t);i+=m.queryCount,r+=m.depCount,u.push(m)}else t.errors.push(function D6(){return new l.vHH(3007,Ht)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{if(lD(h)){const m=h;Object.keys(m).forEach(v=>{oB(m[v]).forEach(T=>{u.hasOwnProperty(T)||o.add(T)})})}}),o.size&&(nD(o.values()),t.errors.push(function S6(n,e){return new l.vHH(3008,Ht)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ds(this,I0(e.animation),t);return{type:1,matchers:hG(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Nf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ds(this,i,t)),options:Nf(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const h=Ds(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:Nf(e.options)}}visitAnimate(e,t){const i=function wG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return zO(eD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=zO(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=eD(t,e);return zO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Xr({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=Xr(v)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,t);m.isEmptyStep=h,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Xl?i.push(u):t.errors.push(function A6(n){return new l.vHH(3002,Ht)}()):i.push(u)}):i.push(e.styles);let r=!1,o=null;return i.forEach(u=>{if(lD(u)){const h=u,m=h.easing;if(m&&(o=m,delete h.easing),!r)for(let v in h)if(h[v].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void t.unsupportedCSSPropertiesFound.add(h);const m=t.collectedStyles[t.currentQuerySelector],v=m[h];let T=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(t.errors.push(function M6(n,e,t,i,r){return new l.vHH(3010,Ht)}()),T=!1),o=v.startTime),T&&(m[h]={startTime:o,endTime:r}),t.options&&function rG(n,e,t){const i=e.params||{},r=oB(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function w6(n){return new l.vHH(3001,Ht)}())})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function x6(){return new l.vHH(3011,Ht)}()),i;let o=0;const u=[];let h=!1,m=!1,v=0;const T=e.steps.map(Re=>{const He=this._makeStyleAst(Re,t);let ze=null!=He.offset?He.offset:function bG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(lD(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(lD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(He.styles),Le=0;return null!=ze&&(o++,Le=He.offset=ze),m=m||Le<0||Le>1,h=h||Le<v,v=Le,u.push(Le),He});m&&t.errors.push(function k6(){return new l.vHH(3012,Ht)}()),h&&t.errors.push(function O6(){return new l.vHH(3200,Ht)}());const D=e.steps.length;let M=0;o>0&&o<D?t.errors.push(function R6(){return new l.vHH(3202,Ht)}()):0==o&&(M=1/(D-1));const k=D-1,N=t.currentTime,Q=t.currentAnimateTimings,he=Q.duration;return T.forEach((Re,He)=>{const ze=M>0?He==k?1:M*He:u[He],Le=ze*he;t.currentTime=N+Q.delay+Le,Q.duration=Le,this._validateStyleAst(Re,t),Re.offset=ze,i.styles.push(Re)}),i}visitReference(e,t){return{type:8,animation:Ds(this,I0(e.animation),t),options:Nf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Nf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Nf(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function _G(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(mG,"")),n=n.replace(/@\*/g,XI).replace(/@\w+/g,t=>XI+"-"+t.substr(1)).replace(/:animating/g,VO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Is(t.collectedStyles,t.currentQuerySelector,{});const h=Ds(this,I0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Nf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function P6(){return new l.vHH(3013,Ht)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:eD(e.timings,t.errors,!0);return{type:12,animation:Ds(this,I0(e.animation),t),timings:i,options:null}}}class vG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lD(n){return!Array.isArray(n)&&"object"==typeof n}function Nf(n){return n?(n=c_(n)).params&&(n.params=function yG(n){return n?c_(n):null}(n.params)):n={},n}function zO(n,e,t){return{duration:n,delay:e,easing:t}}function GO(n,e,t,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class cD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const TG=new RegExp(":enter","g"),DG=new RegExp(":leave","g");function qO(n,e,t,i,r,o={},u={},h,m,v=[]){return(new SG).buildKeyframes(n,e,t,i,r,o,u,h,m,v)}class SG{buildKeyframes(e,t,i,r,o,u,h,m,v,T=[]){v=v||new cD;const D=new WO(e,t,v,r,o,T,[]);D.options=m,D.currentTimeline.setStyles([u],null,D.errors,m),Ds(this,i,D);const M=D.timelines.filter(k=>k.containsAnimation());if(Object.keys(h).length){let k;for(let N=M.length-1;N>=0;N--){const Q=M[N];if(Q.element===t){k=Q;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([h],null,D.errors,m)}return M.length?M.map(k=>k.buildKeyframes()):[GO(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?Rf(i.duration):null,h=null!=i.delay?Rf(i.delay):null;return 0!==u&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,u,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ds(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uD);const u=Rf(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ds(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Rf(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Ds(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return eD(t.params?tD(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Rf(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uD);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((v,T)=>{t.currentQueryIndex=T;const D=t.createSubContext(e.options,v);o&&D.delayNextStep(o),v===t.element&&(m=D.currentTimeline),Ds(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(t.currentQueryTotal-1);let m=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const T=t.currentTimeline;m&&T.delayNextStep(m);const D=T.currentTime;Ds(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const uD={};class WO{constructor(e,t,i,r,o,u,h,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new dD(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Rf(i.duration)),null!=i.delay&&(r.delay=Rf(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=tD(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new WO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=uD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new AG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(TG,"."+this._enterClassName)).replace(DG,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&u.push(function N6(n){return new l.vHH(3014,Ht)}()),h}}class dD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Xl,this._currentKeyframe[t]=Xl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const o=r&&r.params||{},u=function MG(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(o=>{t[o]=Xl})):qu(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const m=tD(u[h],o,i);this._pendingStyles[h]=m,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Xl),this._updateStyle(h,m)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=qu(h,!0);Object.keys(v).forEach(T=>{const D=v[T];"!"==D?e.add(T):D==Xl&&t.add(T)}),i||(v.offset=m/this.duration),r.push(v)});const o=e.size?nD(e.values()):[],u=t.size?nD(t.values()):[];if(i){const h=r[0],m=c_(h);h.offset=0,m.offset=1,r=[h,m]}return GO(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class AG extends dD{constructor(e,t,i,r,o,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,h=t/u,m=qu(e[0],!1);m.offset=0,o.push(m);const v=qu(e[0],!1);v.offset=dB(h),o.push(v);const T=e.length-1;for(let D=1;D<=T;D++){let M=qu(e[D],!1);M.offset=dB((t+M.offset*i)/u),o.push(M)}i=u,t=0,r="",e=o}return GO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function dB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ZO{}class xG extends ZO{normalizePropertyName(e,t){return HO(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(kG[t]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function T6(n,e){return new l.vHH(3005,Ht)}())}return u+o}}const kG=(()=>function OG(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hB(n,e,t,i,r,o,u,h,m,v,T,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:T,totalTime:D,errors:M}}const YO={};class fB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function RG(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],o=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return o?o.buildStyles(t,i):u}build(e,t,i,r,o,u,h,m,v,T){const D=[],M=this.ast.options&&this.ast.options.params||YO,N=this.buildStyles(i,h&&h.params||YO,D),Q=m&&m.params||YO,he=this.buildStyles(r,Q,D),Re=new Set,He=new Map,ze=new Map,Le="void"===r,mt={params:Object.assign(Object.assign({},M),Q)},yt=T?[]:qO(e,t,this.ast.animation,o,u,N,he,mt,v,D);let $t=0;if(yt.forEach(Ss=>{$t=Math.max(Ss.duration+Ss.delay,$t)}),D.length)return hB(t,this._triggerName,i,r,Le,N,he,[],[],He,ze,$t,D);yt.forEach(Ss=>{const rc=Ss.element,fj=Is(He,rc,{});Ss.preStyleProps.forEach(Wf=>fj[Wf]=!0);const Y0=Is(ze,rc,{});Ss.postStyleProps.forEach(Wf=>Y0[Wf]=!0),rc!==t&&Re.add(rc)});const ii=nD(Re.values());return hB(t,this._triggerName,i,r,Le,N,he,yt,ii,He,ze,$t)}}class PG{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=c_(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let m=u[h];m.length>1&&(m=tD(m,r,t));const v=this.normalizer.normalizePropertyName(h,t);m=this.normalizer.normalizeStyleValue(h,v,m,t),i[v]=m})}}),i}}class FG{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new PG(r.style,r.options&&r.options.params||{},i)}),pB(this.states,"true","1"),pB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new fB(e,r,this.states))}),this.fallbackTransition=function LG(n,e,t){return new fB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function pB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const BG=new cD;class VG{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],o=$O(this._driver,t,i,[]);if(i.length)throw function H6(n){return new l.vHH(3503,Ht)}();this._animations[e]=o}_buildPlayer(e,t,i){const r=e.element,o=qL(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations[e];let u;const h=new Map;if(o?(u=qO(this._driver,t,o,BO,QI,{},{},i,BG,r),u.forEach(T=>{const D=Is(h,T.element,{});T.postStyleProps.forEach(M=>D[M]=null)})):(r.push(function $6(){return new l.vHH(3300,Ht)}()),u=[]),r.length)throw function z6(n){return new l.vHH(3504,Ht)}();h.forEach((T,D)=>{Object.keys(T).forEach(M=>{T[M]=this._driver.computeStyle(D,M,Xl)})});const v=Gu(u.map(T=>{const D=h.get(T.element);return this._buildPlayer(T,{},D)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function G6(n){return new l.vHH(3301,Ht)}();return t}listen(e,t,i,r){const o=PO(t,"","","");return OO(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const mB="ng-animate-queued",KO="ng-animate-disabled",zG=[],gB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ys="__ng_removed";class QO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function YG(n){return null!=n?n:null}(i?e.value:e),i){const o=c_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const D0="void",JO=new QO(D0);class qG{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ks(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function q6(n,e){return new l.vHH(3302,Ht)}();if(null==i||0==i.length)throw function W6(n){return new l.vHH(3303,Ht)}();if(!function KG(n){return"start"==n||"done"==n}(i))throw function Z6(n,e){return new l.vHH(3400,Ht)}();const o=Is(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const h=Is(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(Ks(e,JI),Ks(e,JI+"-"+t),h[t]=JO),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(u);m>=0&&o.splice(m,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Y6(n){return new l.vHH(3401,Ht)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new XO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ks(e,JI),Ks(e,JI+"-"+t),this._engine.statesByElement.set(e,h={}));let m=h[t];const v=new QO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h[t]=v,m||(m=JO),v.value!==D0&&m.value===v.value){if(!function XG(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(m.params,v.params)){const Q=[],he=o.matchStyles(m.value,m.params,Q),Re=o.matchStyles(v.value,v.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Pf(e,he),Na(e,Re)})}return}const M=Is(this._engine.playersByElement,e,[]);M.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==t&&Q.queued&&Q.destroy()});let k=o.matchTransition(m.value,v.value,e,v.params),N=!1;if(!k){if(!r)return;k=o.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:m,toState:v,player:u,isFallbackTransition:N}),N||(Ks(e,mB),u.onStart(()=>{u_(e,mB)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const he=this._engine.playersByElement.get(e);if(he){let Re=he.indexOf(u);Re>=0&&he.splice(Re,1)}}),this.players.push(u),M.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,XI,!0);i.forEach(r=>{if(r[Ys])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(m=>{if(u.set(m,o[m].value),this._triggers[m]){const v=this.trigger(e,m,D0,r);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Gu(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const m=this._triggers[u].fallbackTransition,v=i[u]||JO,T=new QO(D0),D=new XO(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:m,fromState:v,toState:T,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Ys];(!o||o===gB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ks(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=PO(o,i.triggerName,i.fromState.value,i.toState.value);m._data=e,OO(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class WG{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new qG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(hD(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!hD(t))return;const o=t[Ys];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ks(e,KO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),u_(e,KO))}removeNode(e,t,i,r){if(hD(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Ys]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return hD(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,XI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Ys];if(i&&i.setForRemoval){if(e[Ys]=gB,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(KO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ks(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Gu(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function K6(n){return new l.vHH(3402,Ht)}()}_flushAnimations(e,t){const i=new cD,r=[],o=new Map,u=[],h=new Map,m=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const ft=this.driver.query(it,".ng-animate-queued",!0);for(let vt=0;vt<ft.length;vt++)T.add(ft[vt])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),k=vB(M,this.collectedEnterElements),N=new Map;let Q=0;k.forEach((it,ft)=>{const vt=BO+Q++;N.set(ft,vt),it.forEach(Yt=>Ks(Yt,vt))});const he=[],Re=new Set,He=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const ft=this.collectedLeaveElements[it],vt=ft[Ys];vt&&vt.setForRemoval&&(he.push(ft),Re.add(ft),vt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Yt=>Re.add(Yt)):He.add(ft))}const ze=new Map,Le=vB(M,Array.from(Re));Le.forEach((it,ft)=>{const vt=QI+Q++;ze.set(ft,vt),it.forEach(Yt=>Ks(Yt,vt))}),e.push(()=>{k.forEach((it,ft)=>{const vt=N.get(ft);it.forEach(Yt=>u_(Yt,vt))}),Le.forEach((it,ft)=>{const vt=ze.get(ft);it.forEach(Yt=>u_(Yt,vt))}),he.forEach(it=>{this.processLeaveNode(it)})});const mt=[],yt=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(vt=>{const Yt=vt.player,Ji=vt.element;if(mt.push(Yt),this.collectedEnterElements.length){const $r=Ji[Ys];if($r&&$r.setForMove){if($r.previousTriggersValues&&$r.previousTriggersValues.has(vt.triggerName)){const Zf=$r.previousTriggersValues.get(vt.triggerName),ed=this.statesByElement.get(vt.element);ed&&ed[vt.triggerName]&&(ed[vt.triggerName].value=Zf)}return void Yt.destroy()}}const Ua=!D||!this.driver.containsElement(D,Ji),As=ze.get(Ji),Xu=N.get(Ji),$n=this._buildInstruction(vt,i,Xu,As,Ua);if($n.errors&&$n.errors.length)return void yt.push($n);if(Ua)return Yt.onStart(()=>Pf(Ji,$n.fromStyles)),Yt.onDestroy(()=>Na(Ji,$n.toStyles)),void r.push(Yt);if(vt.isFallbackTransition)return Yt.onStart(()=>Pf(Ji,$n.fromStyles)),Yt.onDestroy(()=>Na(Ji,$n.toStyles)),void r.push(Yt);const gj=[];$n.timelines.forEach($r=>{$r.stretchStartingKeyframe=!0,this.disabledNodes.has($r.element)||gj.push($r)}),$n.timelines=gj,i.append(Ji,$n.timelines),u.push({instruction:$n,player:Yt,element:Ji}),$n.queriedElements.forEach($r=>Is(h,$r,[]).push(Yt)),$n.preStyleProps.forEach(($r,Zf)=>{const ed=Object.keys($r);if(ed.length){let Yf=m.get(Zf);Yf||m.set(Zf,Yf=new Set),ed.forEach(_1=>Yf.add(_1))}}),$n.postStyleProps.forEach(($r,Zf)=>{const ed=Object.keys($r);let Yf=v.get(Zf);Yf||v.set(Zf,Yf=new Set),ed.forEach(_1=>Yf.add(_1))})});if(yt.length){const it=[];yt.forEach(ft=>{it.push(function Q6(n,e){return new l.vHH(3505,Ht)}())}),mt.forEach(ft=>ft.destroy()),this.reportError(it)}const $t=new Map,ii=new Map;u.forEach(it=>{const ft=it.element;i.has(ft)&&(ii.set(ft,ft),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,$t))}),r.forEach(it=>{const ft=it.element;this._getPreviousPlayers(ft,!1,it.namespaceId,it.triggerName,null).forEach(Yt=>{Is($t,ft,[]).push(Yt),Yt.destroy()})});const Ss=he.filter(it=>wB(it,m,v)),rc=new Map;yB(rc,this.driver,He,v,Xl).forEach(it=>{wB(it,m,v)&&Ss.push(it)});const Y0=new Map;k.forEach((it,ft)=>{yB(Y0,this.driver,new Set(it),m,"!")}),Ss.forEach(it=>{const ft=rc.get(it),vt=Y0.get(it);rc.set(it,Object.assign(Object.assign({},ft),vt))});const Wf=[],pj=[],mj={};u.forEach(it=>{const{element:ft,player:vt,instruction:Yt}=it;if(i.has(ft)){if(T.has(ft))return vt.onDestroy(()=>Na(ft,Yt.toStyles)),vt.disabled=!0,vt.overrideTotalTime(Yt.totalTime),void r.push(vt);let Ji=mj;if(ii.size>1){let As=ft;const Xu=[];for(;As=As.parentNode;){const $n=ii.get(As);if($n){Ji=$n;break}Xu.push(As)}Xu.forEach($n=>ii.set($n,Ji))}const Ua=this._buildAnimation(vt.namespaceId,Yt,$t,o,Y0,rc);if(vt.setRealPlayer(Ua),Ji===mj)Wf.push(vt);else{const As=this.playersByElement.get(Ji);As&&As.length&&(vt.parentPlayer=Gu(As)),r.push(vt)}}else Pf(ft,Yt.fromStyles),vt.onDestroy(()=>Na(ft,Yt.toStyles)),pj.push(vt),T.has(ft)&&r.push(vt)}),pj.forEach(it=>{const ft=o.get(it.element);if(ft&&ft.length){const vt=Gu(ft);it.setRealPlayer(vt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<he.length;it++){const ft=he[it],vt=ft[Ys];if(u_(ft,QI),vt&&vt.hasAnimation)continue;let Yt=[];if(h.size){let Ua=h.get(ft);Ua&&Ua.length&&Yt.push(...Ua);let As=this.driver.query(ft,VO,!0);for(let Xu=0;Xu<As.length;Xu++){let $n=h.get(As[Xu]);$n&&$n.length&&Yt.push(...$n)}}const Ji=Yt.filter(Ua=>!Ua.destroyed);Ji.length?QG(this,ft,Ji):this.processLeaveNode(ft)}return he.length=0,Wf.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const ft=this.players.indexOf(it);this.players.splice(ft,1)}),it.play()}),Wf}elementContainsData(e,t){let i=!1;const r=t[Ys];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const m=!o||o==D0;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,T=v!==o,D=Is(i,v,[]);this._getPreviousPlayers(v,T,u,h,t.toState).forEach(k=>{const N=k.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),k.destroy(),D.push(k)})}Pf(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const h=t.triggerName,m=t.element,v=[],T=new Set,D=new Set,M=t.timelines.map(N=>{const Q=N.element;T.add(Q);const he=Q[Ys];if(he&&he.removedBeforeQueried)return new T0(N.duration,N.delay);const Re=Q!==m,He=function JG(n){const e=[];return bB(n,e),e}((i.get(Q)||zG).map($t=>$t.getRealPlayer())).filter($t=>!!$t.element&&$t.element===Q),ze=o.get(Q),Le=u.get(Q),mt=qL(0,this._normalizer,0,N.keyframes,ze,Le),yt=this._buildPlayer(N,mt,He);if(N.subTimeline&&r&&D.add(Q),Re){const $t=new XO(e,h,Q);$t.setRealPlayer(yt),v.push($t)}return yt});v.forEach(N=>{Is(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function ZG(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,N.element,N))}),T.forEach(N=>Ks(N,nB));const k=Gu(M);return k.onDestroy(()=>{T.forEach(N=>u_(N,nB)),Na(m,t.toStyles)}),D.forEach(N=>{Is(r,N,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new T0(e.duration,e.delay)}}class XO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new T0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>OO(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Is(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hD(n){return n&&1===n.nodeType}function _B(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function yB(n,e,t,i,r){const o=[];t.forEach(m=>o.push(_B(m)));const u=[];i.forEach((m,v)=>{const T={};m.forEach(D=>{const M=T[D]=e.computeStyle(v,D,r);(!M||0==M.length)&&(v[Ys]=GG,u.push(v))}),n.set(v,T)});let h=0;return t.forEach(m=>_B(m,o[h++])),u}function vB(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),o=new Map;function u(h){if(!h)return 1;let m=o.get(h);if(m)return m;const v=h.parentNode;return m=t.has(v)?v:r.has(v)?1:u(v),o.set(h,m),m}return e.forEach(h=>{const m=u(h);1!==m&&t.get(m).push(h)}),t}function Ks(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function u_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function QG(n,e,t){Gu(t).onDone(()=>n.processLeaveNode(e))}function bB(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof zL?bB(i.players,e):e.push(i)}}function wB(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class fD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new WG(e,t,i),this._timelineEngine=new VG(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const m=[],T=$O(this._driver,o,m,[]);if(m.length)throw function U6(n,e){return new l.vHH(3404,Ht)}();h=function NG(n,e,t){return new FG(n,e,t)}(r,T,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=WL(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,h]=WL(i);return this._timelineEngine.listen(u,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tq=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Na(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Na(this._element,this._initialStyles),this._endStyles&&(Na(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pf(this._element,this._endStyles),this._endStyles=null),Na(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function eR(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];nq(r)&&(e=e||{},e[r]=n[r])}return e}function nq(n){return"display"===n||"position"===n}class CB{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:aB(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class iq{validateStyleProperty(e){return QL(e)}matchesElement(e,t){return!1}containsElement(e,t){return JL(e,t)}getParentElement(e){return FO(e)}query(e,t,i){return XL(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const v={},T=u.filter(M=>M instanceof CB);(function aG(n,e){return 0===n||0===e})(i,r)&&T.forEach(M=>{let k=M.currentSnapshot;Object.keys(k).forEach(N=>v[N]=k[N])}),t=function lG(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let o=e[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=t[h]}),u.length)for(var r=1;r<e.length;r++){let h=e[r];u.forEach(function(m){h[m]=aB(n,m)})}}return e}(e,t=t.map(M=>qu(M,!1)),v);const D=function eq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=eR(e[0]),e.length>1&&(i=eR(e[e.length-1]))):e&&(t=eR(e)),t||i?new tq(n,t,i):null}(e,t);return new CB(e,t,m,D)}}let rq=(()=>{class n extends jL{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?HL(t):t;return EB(this._renderer,null,i,"register",[r]),new sq(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class sq extends class y6{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oq(this._id,e,t||{},this._renderer)}}class oq{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function EB(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const TB="@.disabled";let aq=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(o);return T||(T=new IB("",o,this.engine),this._rendererCache.set(o,T)),T}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=T=>{Array.isArray(T)?T.forEach(m):this.engine.registerTrigger(u,h,t,T.name,T)};return i.data.animation.forEach(m),new lq(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(fD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class IB{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==TB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lq extends IB{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==TB?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function cq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function uq(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let dq=(()=>{class n extends fD{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(LO),l.LFG(ZO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs=new l.OlP("AnimationModuleType"),DB=[{provide:jL,useClass:rq},{provide:ZO,useFactory:function hq(){return new xG}},{provide:fD,useClass:dq},{provide:l.FYo,useFactory:function fq(n,e,t){return new aq(n,e,t)},deps:[wn,fD,l.R0b]}],SB=[{provide:LO,useFactory:()=>new iq},{provide:Qs,useValue:"BrowserAnimations"},...DB],pq=[{provide:LO,useClass:eB},{provide:Qs,useValue:"NoopAnimations"},...DB];let mq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pq:SB}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:SB,imports:[pc]}),n})();function gq(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function _q(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const yq=["*"],bq=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function vq(){return!0}});let xn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!bO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UL),l.LFG(bq,8),l.LFG(ce))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[v0],v0]}),n})();function mD(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ni(e)}}}function S0(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function d_(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ni(e)}}}function wq(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new St.x,this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let MB=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function A0(n,e,t){n.nativeElement.classList.toggle(e,t)}let kB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();class Tq{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const OB={enterDuration:225,exitDuration:150},tR=o_({passive:!0}),RB=["mousedown","touchstart"],PB=["mouseup","mouseleave","touchend","touchcancel"];class Dq{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Jl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},OB),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function Aq(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,m=t-r.top,v=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=h-u+"px",T.style.top=m-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(T),function Sq(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const D=new Tq(this,T,i);return D.state=0,this._activeRipples.add(D),i.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const M=D===this._mostRecentTransientRipple;D.state=1,!i.persistent&&(!M||!this._isPointerDown)&&D.fadeOut()},v),D}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},OB),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Jl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(RB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PB),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=SO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!AO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,tR)})})}_removeTriggerEvents(){this._triggerElement&&(RB.forEach(e=>{this._triggerElement.removeEventListener(e,this,tR)}),this._pointerUpEventsRegistered&&PB.forEach(e=>{this._triggerElement.removeEventListener(e,this,tR)}))}}const Mq=new l.OlP("mat-ripple-global-options");let Ff=(()=>{class n{constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Dq(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ur),l.Y36(Mq,8),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})(),NB=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Qs,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),nR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn]]}),n})();const FB=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),LB=new l.OlP("MatOptgroup");let xq=0;class BB{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let kq=(()=>{class n{constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+xq++,this.onSelectionChange=new l.vpe,this._stateChanges=new St.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=ni(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Ql(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new BB(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),VB=(()=>{class n extends kq{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(FB,8),l.Y36(LB,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:yq,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,gq,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,_q,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[NB,hn,Ff],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[M0,Ci,xn,nR]]}),n})();const Pq=["*",[["mat-toolbar-row"]]],Nq=["*","mat-toolbar-row"],Fq=S0(class{constructor(n){this._elementRef=n}});let Lq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Bq=(()=>{class n extends Fq{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ur),l.Y36(ce))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Lq,5),2&t){let o;l.iGM(o=l.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:Nq,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(Pq),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Vq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();const Uq=["mat-button",""],jq=["*"],$q=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],zq=S0(mD(d_(class{constructor(n){this._elementRef=n}})));let iR,x0=(()=>{class n extends zq{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of $q)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(E0),l.Y36(Qs,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(Ff,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Uq,ngContentSelectors:jq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ff],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Gq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[M0,xn],xn]}),n})(),qq=1;const gD={};function jB(n){return n in gD&&(delete gD[n],!0)}const Wq={setImmediate(n){const e=qq++;return gD[e]=!0,iR||(iR=Promise.resolve()),iR.then(()=>jB(e)&&n()),e},clearImmediate(n){jB(n)}},{setImmediate:Zq,clearImmediate:Yq}=Wq,_D={setImmediate(...n){const{delegate:e}=_D;return((null==e?void 0:e.setImmediate)||Zq)(...n)},clearImmediate(n){const{delegate:e}=_D;return((null==e?void 0:e.clearImmediate)||Yq)(n)},delegate:void 0},yD=new class Qq extends jc{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Kq extends Tl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=_D.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(_D.clearImmediate(t),e._scheduled=void 0)}});function HB(n,e){return e?t=>Em(e.pipe((0,Sn.q)(1),function Jq(){return(0,Un.e)((n,e)=>{n.subscribe((0,Cn.x)(e,ML.Z))})}()),t.pipe(HB(n))):(0,jn.z)((t,i)=>n(t,i).pipe((0,Sn.q)(1),function Xq(n){return(0,Qe.U)(()=>n)}(t)))}var eW=R(3532);function rR(n=0,e,t=D1){let i=-1;return null!=e&&((0,eW.K)(e)?t=e:i=e),new Vn.y(r=>{let o=function tW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function sR(n,e=pa){const t=rR(n,e);return HB(()=>t)}class oR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nW extends oR{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class vD extends oR{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class iW extends oR{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class $B{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nW?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof vD?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof iW?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rW extends $B{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let aR=(()=>{class n extends $B{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(o,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ce))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var sW=R(1144);const oW=["addListener","removeListener"],aW=["addEventListener","removeEventListener"],lW=["on","off"];function Fa(n,e,t,i){if((0,Us.m)(t)&&(i=t,t=void 0),i)return Fa(n,e,t).pipe(Xc(i));const[r,o]=function dW(n){return(0,Us.m)(n.addEventListener)&&(0,Us.m)(n.removeEventListener)}(n)?aW.map(u=>h=>n[u](e,h,t)):function cW(n){return(0,Us.m)(n.addListener)&&(0,Us.m)(n.removeListener)}(n)?oW.map(GB(n,e)):function uW(n){return(0,Us.m)(n.on)&&(0,Us.m)(n.off)}(n)?lW.map(GB(n,e)):[];if(!r&&(0,sW.z)(n))return(0,jn.z)(u=>Fa(u,e,t))((0,ga.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Vn.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return r(h),()=>o(h)})}function GB(n,e){return t=>i=>n[t](e,i)}const k0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=k0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new tt.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=k0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=k0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class fW extends jc{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class hW extends Tl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=k0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(k0.cancelAnimationFrame(t),e._scheduled=void 0)}});function qB(n,e=pa){return function mW(n){return(0,Un.e)((e,t)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const v=r;r=null,t.next(v)}u&&t.complete()},m=()=>{o=null,u&&t.complete()};e.subscribe((0,Cn.x)(t,v=>{i=!0,r=v,o||(0,ga.Xf)(n(v)).subscribe(o=(0,Cn.x)(t,h,m))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>rR(n,e))}let _W=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new St.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Vn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(qB(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Hn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Jl(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Fa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ur),l.LFG(ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h_=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new St.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(qB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ur),l.LFG(l.R0b),l.LFG(ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),WB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[v0,bD],v0,bD]}),n})();const ZB=Vz();class vW{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=yi(-this._previousScrollPosition.left),e.style.top=yi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ZB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZB&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class bW{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YB{enable(){}disable(){}attach(){}}function lR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function KB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class wW{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();lR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let CW=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YB,this.close=u=>new bW(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new vW(this._viewportRuler,this._document),this.reposition=u=>new wW(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_W),l.LFG(h_),l.LFG(l.R0b),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cR{constructor(e){if(this.scrollStrategy=new YB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class EW{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class TW{constructor(e,t,i,r,o,u,h,m,v){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new St.x,this._attachments=new St.x,this._detachments=new St.x,this._locationChanges=tt.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new St.x,this._outsidePointerEvents=new St.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Sn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=yi(this._config.width),e.height=yi(this._config.height),e.minWidth=yi(this._config.minWidth),e.minHeight=yi(this._config.minHeight),e.maxWidth=yi(this._config.maxWidth),e.maxHeight=yi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=xL(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Fi((0,Zr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let QB=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||bO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),bO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(ur))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JB="cdk-overlay-connected-position-bounding-box",IW=/([A-Za-z%]+)$/;class DW{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.x,this._resizeSubscription=tt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(JB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let m=this._getOriginPoint(e,r,h),v=this._getOverlayPoint(m,t,h),T=this._getOverlayFit(v,t,i,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(T,v,i)?o.push({position:h,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:v,originPoint:m,position:h,overlayRect:t})}if(o.length){let h=null,m=-1;for(const v of o){const T=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);T>m&&(m=T,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Lf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?u:h}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=eV(t);let{x:u,y:h}=e,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(u+=m),v&&(h+=v);let M=0-h,k=h+o.height-i.height,N=this._subtractOverflows(o.width,0-u,u+o.width-i.width),Q=this._subtractOverflows(o.height,M,k),he=N*Q;return{visibleArea:he,isCompletelyWithinViewport:o.width*o.height===he,fitsInViewportVertically:Q===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,u=XB(this._overlayRef.getConfig().minHeight),h=XB(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=h&&h<=o;return(e.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=eV(t),o=this._viewportRect,u=Math.max(e.x+r.width-o.width,0),h=Math.max(e.y+r.height-o.height,0),m=Math.max(o.top-i.top-e.y,0),v=Math.max(o.left-i.left-e.x,0);let T=0,D=0;return T=r.width<=o.width?v||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,D=r.height<=o.height?m||-h:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:T,y:D},{x:e.x+T,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new EW(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,u,h,T,D,M;if("top"===t.overlayY)u=e.y,o=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const k=Math.min(i.bottom-e.y+i.top,e.y),N=this._lastBoundingBoxSize.height;o=2*k,u=e.y-k,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-N/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)M=i.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,T=i.right-e.x;else{const k=Math.min(i.right-e.x+i.left,e.x),N=this._lastBoundingBoxSize.width;T=2*k,D=e.x-k,T>N&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-N/2)}return{top:u,left:D,bottom:h,right:M,width:T,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=yi(i.height),r.top=yi(i.top),r.bottom=yi(i.bottom),r.width=yi(i.width),r.left=yi(i.left),r.right=yi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=yi(o)),u&&(r.maxWidth=yi(u))}this._lastBoundingBoxSize=i,Lf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Lf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Lf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Lf(i,this._getExactOverlayY(t,e,T)),Lf(i,this._getExactOverlayX(t,e,T))}else i.position="static";let h="",m=this._getOffset(t,"x"),v=this._getOffset(t,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=yi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=yi(u.maxWidth):o&&(i.maxWidth="")),Lf(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=yi(o.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=yi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:KB(e,i),isOriginOutsideView:lR(e,i),isOverlayClipped:KB(t,i),isOverlayOutsideView:lR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&xL(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Lf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(IW);return t&&"px"!==t?null:parseFloat(e)}return n||null}function eV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const tV="cdk-global-overlay-wrapper";class SW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(tV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=m?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,m?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(tV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let AW=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new SW}flexibleConnectedTo(t){return new DW(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(h_),l.LFG(ce),l.LFG(ur),l.LFG(QB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MW=(()=>{class n extends nV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xW=(()=>{class n extends nV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=zu(o)},this._clickListener=o=>{const u=zu(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const T=m[v];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(h))break;const D=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(o)):D.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(ur),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kW=0,f_=(()=>{class n{constructor(t,i,r,o,u,h,m,v,T,D,M){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=v,this._directionality=T,this._location=D,this._outsideClickDispatcher=M}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new cR(t);return u.direction=u.direction||this._directionality.value,new TW(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kW++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new rW(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(CW),l.LFG(QB),l.LFG(l._Vd),l.LFG(AW),l.LFG(MW),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ce),l.LFG(Kl),l.LFG(Te),l.LFG(xW))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const PW={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[f_],useFactory:function RW(n){return()=>n.scrollStrategies.reposition()}};let iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[f_,PW],imports:[[v0,zB,WB],WB]}),n})();const NW=["mat-menu-item",""];function FW(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const rV=["*"];function LW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){return l.CHM(t),l.oxw()._handleKeydown(r)})("click",function(){return l.CHM(t),l.oxw().closed.emit("click")})("@transformMenu.start",function(r){return l.CHM(t),l.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return l.CHM(t),l.oxw()._onAnimationDone(r)}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const wD={transformMenu:YI("transformMenu",[l_("void",Xr({opacity:0,transform:"scale(0.8)"})),kf("void => enter",xf("120ms cubic-bezier(0, 0, 0.2, 1)",Xr({opacity:1,transform:"scale(1)"}))),kf("* => void",xf("100ms 25ms linear",Xr({opacity:0})))]),fadeInItems:YI("fadeInItems",[l_("showing",Xr({opacity:1})),kf("void => *",[Xr({opacity:0}),xf("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},BW=new l.OlP("MatMenuContent"),uR=new l.OlP("MAT_MENU_PANEL"),VW=d_(mD(class{}));let CD=(()=>{class n extends VW{constructor(t,i,r,o,u){var h;super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new St.x,this._focused=new St.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(h=null==o?void 0:o.addItem)||void 0===h||h.call(o,this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<r.length;o++)r[o].remove();return(null===(t=i.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var i;this._highlighted=t,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ce),l.Y36(E0),l.Y36(uR,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:NW,ngContentSelectors:rV,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,FW,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},directives:[Ff,hn],encapsulation:2,changeDetection:0}),n})();const sV=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function UW(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let jW=0,O0=(()=>{class n{constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=tt.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new St.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+jW++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=ni(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ni(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new DO(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe($i(this._directDescendantItems),_n(t=>(0,Zr.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var i;const r=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=r.activeItem)||void 0===i?void 0:i._hasFocus())){const o=t.toArray(),u=Math.max(0,Math.min(o.length-1,r.activeItemIndex||0));o[u]&&!o[u].disabled?r.setActiveItem(u):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe($i(this._directDescendantItems),_n(i=>(0,Zr.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Ql(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe((0,Sn.q)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const i=this._keyManager;if(i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let r=this._directDescendantItems.first._getHostElement().parentElement;for(;r;){if("menu"===r.getAttribute("role")){r.focus();break}r=r.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){var r;const o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===i,o["mat-menu-below"]="below"===i,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe($i(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(sV),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,BW,5),l.Suo(r,CD,5),l.Suo(r,CD,4)),2&t){let o;l.iGM(o=l.CRH())&&(i.lazyContent=o.first),l.iGM(o=l.CRH())&&(i._allItems=o),l.iGM(o=l.CRH())&&(i.items=o)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),HW=(()=>{class n extends O0{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(sV),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:uR,useExisting:n}]),l.qOj],ngContentSelectors:rV,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,LW,3,6,"ng-template"))},directives:[Ar],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[wD.transformMenu,wD.fadeInItems]},changeDetection:0}),n})();const oV=new l.OlP("mat-menu-scroll-strategy"),zW={provide:oV,deps:[f_],useFactory:function $W(n){return()=>n.scrollStrategies.reposition()}},lV=o_({passive:!0});let GW=(()=>{class n{constructor(t,i,r,o,u,h,m,v,T){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=m,this._focusMonitor=v,this._ngZone=T,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=tt.w0.EMPTY,this._hoverSubscription=tt.w0.EMPTY,this._menuCloseSubscription=tt.w0.EMPTY,this._handleTouchStart=D=>{AO(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof O0?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,lV),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,lV),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),i=t.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof O0&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(Fi(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof O0?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Hn(r=>"void"===r.toState),(0,Sn.q)(1),Fi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,i=this.menu.parentMenu;for(;i;)t++,i=i.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new cR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",o="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,o)):this.menu.setPositionClasses(r,o)})}_setPosition(t){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[o,u]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[h,m]=[o,u],[v,T]=[i,r],D=0;this.triggersSubmenu()?(T=i="before"===this.menu.xPosition?"start":"end",r=v="end"===i?"start":"end",D="bottom"===o?8:-8):this.menu.overlapTrigger||(h="top"===o?"bottom":"top",m="top"===u?"bottom":"top"),t.withPositions([{originX:i,originY:h,overlayX:v,overlayY:o,offsetY:D},{originX:r,originY:h,overlayX:T,overlayY:o,offsetY:D},{originX:i,originY:m,overlayX:v,overlayY:u,offsetY:-D},{originX:r,originY:m,overlayX:T,overlayY:u,offsetY:-D}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:et(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Hn(u=>u!==this._menuItemInstance),Hn(()=>this._menuOpen)):et();return(0,Zr.T)(t,r,o,i)}_handleMousedown(t){SO(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Hn(t=>t===this._menuItemInstance&&!t.disabled),sR(0,yD)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof O0&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Sn.q)(1),sR(0,yD),Fi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new vD(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(f_),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(oV),l.Y36(uR,8),l.Y36(CD,10),l.Y36(Kl,8),l.Y36(E0),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&l.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),qW=(()=>{class n extends GW{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),WW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zW],imports:[[Ci,xn,M0,iV],bD,xn]}),n})();function cV(...n){const e=(0,Jc.jO)(n),{args:t,keys:i}=Ch(n),r=new Vn.y(o=>{const{length:u}=t;if(!u)return void o.complete();const h=new Array(u);let m=u,v=u;for(let T=0;T<u;T++){let D=!1;(0,ga.Xf)(t[T]).subscribe((0,Cn.x)(o,M=>{D||(D=!0,v--),h[T]=M},()=>m--,void 0,()=>{(!m||!D)&&(v||o.next(i?Eh(i,h):h),o.complete())}))}});return e?r.pipe(Xc(e)):r}class uV{}class dV{}class ec{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ec?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ec;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ec?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ZW{encodeKey(e){return hV(e)}encodeValue(e){return hV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const KW=/%(\d[a-f0-9])/gi,QW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function hV(n){return encodeURIComponent(n).replace(KW,(e,t)=>{var i;return null!==(i=QW[t])&&void 0!==i?i:e})}function fV(n){return`${n}`}class Wu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ZW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],m=t.get(u)||[];m.push(h),t.set(u,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fV(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(fV(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function mV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function gV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class R0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function XW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ec),this.context||(this.context=new JW),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Wu,this.urlWithParams=t}serializeBody(){return null===this.body?null:pV(this.body)||mV(this.body)||gV(this.body)||function e4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gV(this.body)?null:mV(this.body)?this.body.type||null:pV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,T=e.params||this.params;const D=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((M,k)=>M.set(k,e.setHeaders[k]),v)),e.setParams&&(T=Object.keys(e.setParams).reduce((M,k)=>M.set(k,e.setParams[k]),T)),new R0(i,r,u,{params:T,headers:v,context:D,reportProgress:m,responseType:o,withCredentials:h})}}var vi=(()=>((vi=vi||{})[vi.Sent=0]="Sent",vi[vi.UploadProgress=1]="UploadProgress",vi[vi.ResponseHeader=2]="ResponseHeader",vi[vi.DownloadProgress=3]="DownloadProgress",vi[vi.Response=4]="Response",vi[vi.User=5]="User",vi))();class dR{constructor(e,t=200,i="OK"){this.headers=e.headers||new ec,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hR extends dR{constructor(e={}){super(e),this.type=vi.ResponseHeader}clone(e={}){return new hR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ED extends dR{constructor(e={}){super(e),this.type=vi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ED({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _V extends dR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let P0=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof R0)o=t;else{let m,v;m=r.headers instanceof ec?r.headers:new ec(r.headers),r.params&&(v=r.params instanceof Wu?r.params:new Wu({fromObject:r.params})),o=new R0(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=et(o).pipe(Hi(m=>this.handler.handle(m)));if(t instanceof R0||"events"===r.observe)return u;const h=u.pipe(Hn(m=>m instanceof ED));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Qe.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,Qe.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,Qe.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,Qe.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Wu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,fR(r,i))}post(t,i,r={}){return this.request("POST",t,fR(r,i))}put(t,i,r={}){return this.request("PUT",t,fR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class yV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vV=new l.OlP("HTTP_INTERCEPTORS");let t4=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const n4=/^\)\]\}',?\n/;let bV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vn.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((k,N)=>r.setRequestHeader(k,N.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const o=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const k=r.statusText||"OK",N=new ec(r.getAllResponseHeaders()),Q=function r4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new hR({headers:N,status:r.status,statusText:k,url:Q}),u},m=()=>{let{headers:k,status:N,statusText:Q,url:he}=h(),Re=null;204!==N&&(Re=void 0===r.response?r.responseText:r.response),0===N&&(N=Re?200:0);let He=N>=200&&N<300;if("json"===t.responseType&&"string"==typeof Re){const ze=Re;Re=Re.replace(n4,"");try{Re=""!==Re?JSON.parse(Re):null}catch(Le){Re=ze,He&&(He=!1,Re={error:Le,text:Re})}}He?(i.next(new ED({body:Re,headers:k,status:N,statusText:Q,url:he||void 0})),i.complete()):i.error(new _V({error:Re,headers:k,status:N,statusText:Q,url:he||void 0}))},v=k=>{const{url:N}=h(),Q=new _V({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(Q)};let T=!1;const D=k=>{T||(i.next(h()),T=!0);let N={type:vi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),"text"===t.responseType&&!!r.responseText&&(N.partialText=r.responseText),i.next(N)},M=k=>{let N={type:vi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),i.next(N)};return r.addEventListener("load",m),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",D),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:vi.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",m),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",D),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(an))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pR=new l.OlP("XSRF_COOKIE_NAME"),mR=new l.OlP("XSRF_HEADER_NAME");class wV{}let s4=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=no(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(l.Lbi),l.LFG(pR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gR=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wV),l.LFG(mR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),o4=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(vV,[]);this.chain=i.reduceRight((r,o)=>new yV(r,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dV),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),a4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:gR,useClass:t4}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:pR,useValue:t.cookieName}:[],t.headerName?{provide:mR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gR,{provide:vV,useExisting:gR,multi:!0},{provide:wV,useClass:s4},{provide:pR,useValue:"XSRF-TOKEN"},{provide:mR,useValue:"X-XSRF-TOKEN"}]}),n})(),l4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[P0,{provide:uV,useClass:o4},bV,{provide:dV,useExisting:bV}],imports:[[a4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const c4=["*"];let TD;function N0(n){var e;return(null===(e=function u4(){if(void 0===TD&&(TD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(TD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return TD}())||void 0===e?void 0:e.createHTML(n))||n}function CV(n){return Error(`Unable to find icon with the name "${n}"`)}function EV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bf{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let ID=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Bf(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw TV(r);const h=N0(u);return this._addSvgIconConfig(t,i,new Bf("",h,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Bf(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw TV(i);const u=N0(o);return this._addSvgIconSetConfig(t,new Bf("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw EV(t);const r=this._cachedIconsByUrl.get(i);return r?et(DD(r)):this._loadSvgIconFromConfig(new Bf(t,null)).pipe(Dn(o=>this._cachedIconsByUrl.set(i,o)),(0,Qe.U)(o=>DD(o)))}getNamedSvgIcon(t,i=""){const r=IV(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):eu(CV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?et(DD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Qe.U)(i=>DD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?et(r):cV(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Yr(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),et(null)})))).pipe((0,Qe.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw CV(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Dn(i=>t.svgText=i),(0,Qe.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?et(null):this._fetchIcon(t).pipe(Dn(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(N0("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(N0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:o}=t,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function d4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!h)throw EV(r);const m=this._inProgressUrlFetches.get(h);if(m)return m;const v=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,Qe.U)(T=>N0(T)),sv(()=>this._inProgressUrlFetches.delete(h)),(0,WC.B)());return this._inProgressUrlFetches.set(h,v),v}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(IV(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return f4(o)?new Bf(o.url,null,o.options):new Bf(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(P0,8),l.LFG(qr),l.LFG(ce,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DD(n){return n.cloneNode(!0)}function IV(n,e){return n+":"+e}function f4(n){return!(!n.url||!n.options)}const p4=S0(class{constructor(n){this._elementRef=n}}),m4=new l.OlP("mat-icon-location",{providedIn:"root",factory:function g4(){const n=(0,l.f3M)(ce),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),DV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_4=DV.map(n=>`[${n}]`).join(", "),y4=/^url\(['"]?#(.*?)['"]?\)$/;let _R=(()=>{class n extends p4{constructor(t,i,r,o,u){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=tt.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ni(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(_4),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)DV.forEach(u=>{const h=i[o],m=h.getAttribute(u),v=m?m.match(y4):null;if(v){let T=r.get(h);T||(T=[],r.set(h,T)),T.push({name:u,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Sn.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ID),l.$8M("aria-hidden"),l.Y36(m4),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:c4,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),v4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();function b4(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"button",7),l._UZ(2,"img",8),l._uU(3),l.TgZ(4,"mat-icon"),l._uU(5,"expand_more"),l.qZA()(),l.BQk()),2&n){const t=e.ngIf;l.oxw();const i=l.MAs(9);let r;l.xp6(1),l.Q6J("matMenuTriggerFor",i),l.xp6(1),l.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/images/image-placeholder.png",l.LSH),l.xp6(1),l.hij(" ",t.displayName," ")}}function w4(n,e){1&n&&(l.TgZ(0,"button",9)(1,"mat-icon"),l._uU(2,"login"),l.qZA(),l._uU(3," Login "),l.qZA())}let C4=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.usersService=r,this.user$=this.usersService.currentUserProfile$}logout(){this.authService.logout().subscribe(()=>{this.router.navigate([""])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mo),l.Y36(hi),l.Y36(y0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:18,vars:4,consts:[["color","primary"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(t,i){if(1&t&&(l.TgZ(0,"mat-toolbar",0),l._uU(1," Chat Operativos "),l.YNc(2,b4,6,3,"ng-container",1),l.ALo(3,"async"),l.YNc(4,w4,4,0,"ng-template",null,2,l.W1O),l.qZA(),l.TgZ(6,"div",3),l._UZ(7,"router-outlet"),l.qZA(),l.TgZ(8,"mat-menu",null,4)(10,"button",5)(11,"mat-icon"),l._uU(12,"account_circle"),l.qZA(),l._uU(13," Profile "),l.qZA(),l.TgZ(14,"button",6),l.NdJ("click",function(){return i.logout()}),l.TgZ(15,"mat-icon"),l._uU(16,"logout"),l.qZA(),l._uU(17," Logout "),l.qZA()()),2&t){const r=l.MAs(5);l.xp6(2),l.Q6J("ngIf",l.lcZ(3,2,i.user$))("ngIfElse",r)}},directives:[Bq,hn,x0,qW,_R,Rv,vv,HW,CD],pipes:[Ga],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}"]}),n})();const E4=["connectionContainer"],T4=["inputContainer"],I4=["label"];function D4(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function S4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function A4(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function M4(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function x4(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function k4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,A4,4,1,"ng-container",12),l.YNc(3,M4,1,0,"ng-content",12),l.YNc(4,x4,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function O4(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function R4(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function P4(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function N4(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function F4(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,N4,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const L4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],B4=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let V4=0;const SV=new l.OlP("MatError");let AV=(()=>{class n{constructor(t,i){this.id="mat-error-"+V4++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:SV,useExisting:n}])]}),n})();const U4={transitionMessages:YI("transitionMessages",[l_("enter",Xr({opacity:1,transform:"translateY(0%)"})),kf("void => enter",[Xr({opacity:0,transform:"translateY(-5px)"}),xf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const j4=new l.OlP("MatHint");let MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),H4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const $4=new l.OlP("MatPrefix"),xV=new l.OlP("MatSuffix");let z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:xV,useExisting:n}])]}),n})(),kV=0;const q4=S0(class{constructor(n){this._elementRef=n}},"primary"),W4=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vR=new l.OlP("MatFormField");let SD=(()=>{class n extends q4{constructor(t,i,r,o,u,h,m){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+kV++,this._labelId="mat-form-field-label-"+kV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ni(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe($i(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Fi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Fi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Zr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($i(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($i(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Fi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Fa(this._label.nativeElement,"transitionend").pipe((0,Sn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=i.querySelectorAll(`${r}, ${o}`);for(let D=0;D<T.length;D++)T[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const m=i.querySelectorAll(r),v=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(T),M=t.children,k=this._getStartEnd(M[0].getBoundingClientRect());let N=0;for(let Q=0;Q<M.length;Q++)N+=M[Q].offsetWidth;u=Math.abs(k-D)-5,h=N>0?.75*N+10:0}for(let T=0;T<m.length;T++)m[T].style.width=`${u}px`;for(let T=0;T<v.length;T++)v[T].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Kl,8),l.Y36(W4,8),l.Y36(ur),l.Y36(l.R0b),l.Y36(Qs,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,yR,5),l.Suo(r,yR,7),l.Suo(r,MV,5),l.Suo(r,MV,7),l.Suo(r,H4,5),l.Suo(r,SV,5),l.Suo(r,j4,5),l.Suo(r,$4,5),l.Suo(r,xV,5)),2&t){let o;l.iGM(o=l.CRH())&&(i._controlNonStatic=o.first),l.iGM(o=l.CRH())&&(i._controlStatic=o.first),l.iGM(o=l.CRH())&&(i._labelChildNonStatic=o.first),l.iGM(o=l.CRH())&&(i._labelChildStatic=o.first),l.iGM(o=l.CRH())&&(i._placeholderChild=o.first),l.iGM(o=l.CRH())&&(i._errorChildren=o),l.iGM(o=l.CRH())&&(i._hintChildren=o),l.iGM(o=l.CRH())&&(i._prefixChildren=o),l.iGM(o=l.CRH())&&(i._suffixChildren=o)}},viewQuery:function(t,i){if(1&t&&(l.Gf(E4,7),l.Gf(T4,5),l.Gf(I4,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:vR,useExisting:n}]),l.qOj],ngContentSelectors:B4,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(L4),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),l.YNc(3,D4,9,0,"ng-container",3),l.YNc(4,S4,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,k4,5,16,"label",8),l.qZA()(),l.YNc(10,O4,2,0,"div",9),l.qZA(),l.YNc(11,R4,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,P4,2,1,"div",12),l.YNc(14,F4,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[hn,OL,Vi,wi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[U4.transitionMessages]},changeDetection:0}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ci,xn,IO],xn]}),n})(),RV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Vf=(()=>{class n extends RV{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Js=new l.OlP("NgValueAccessor"),Y4={provide:Js,useExisting:(0,l.Gpc)(()=>Zu),multi:!0},Q4=new l.OlP("CompositionEventMode");let Zu=(()=>{class n extends RV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function K4(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Q4,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[l._Bn([Y4]),l.qOj]}),n})();function Yu(n){return null==n||0===n.length}function NV(n){return null!=n&&"number"==typeof n.length}const Tr=new l.OlP("NgValidators"),Ku=new l.OlP("NgAsyncValidators"),J4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class La{static min(e){return function FV(n){return e=>{if(Yu(e.value)||Yu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function LV(n){return e=>{if(Yu(e.value)||Yu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function BV(n){return Yu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function VV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function UV(n){return Yu(n.value)||J4.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jV(n){return e=>Yu(e.value)||!NV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function HV(n){return e=>NV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $V(n){if(!n)return MD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Yu(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return YV(e)}static composeAsync(e){return KV(e)}}function MD(n){return null}function zV(n){return null!=n}function GV(n){const e=(0,l.QGY)(n)?(0,sn.D)(n):n;return(0,l.CqO)(e),e}function qV(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function WV(n,e){return e.map(t=>t(n))}function ZV(n){return n.map(e=>function X4(n){return!n.validate}(e)?e:t=>e.validate(t))}function YV(n){if(!n)return null;const e=n.filter(zV);return 0==e.length?null:function(t){return qV(WV(t,e))}}function bR(n){return null!=n?YV(ZV(n)):null}function KV(n){if(!n)return null;const e=n.filter(zV);return 0==e.length?null:function(t){return cV(WV(t,e).map(GV)).pipe((0,Qe.U)(qV))}}function wR(n){return null!=n?KV(ZV(n)):null}function QV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JV(n){return n._rawValidators}function XV(n){return n._rawAsyncValidators}function CR(n){return n?Array.isArray(n)?n:[n]:[]}function xD(n,e){return Array.isArray(n)?n.includes(e):n===e}function e2(n,e){const t=CR(e);return CR(n).forEach(r=>{xD(t,r)||t.push(r)}),t}function t2(n,e){return CR(e).filter(t=>!xD(n,t))}class n2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class tc extends n2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br extends n2{get formDirective(){return null}get path(){return null}}class r2{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let p_=(()=>{class n extends r2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),m_=(()=>{class n extends r2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Br,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function F0(n,e){IR(n,e),e.valueAccessor.writeValue(n.value),function aZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&o2(n,e)})}(n,e),function cZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&o2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function oZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function RD(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ND(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function PD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IR(n,e){const t=JV(n);null!==e.validator?n.setValidators(QV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=XV(n);null!==e.asyncValidator?n.setAsyncValidators(QV(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();PD(e._rawValidators,r),PD(e._rawAsyncValidators,r)}function ND(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=JV(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=XV(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return PD(e._rawValidators,i),PD(e._rawAsyncValidators,i),t}function o2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function a2(n,e){IR(n,e)}function DR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function c2(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function SR(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Zu?t=o:function hZ(n){return Object.getPrototypeOf(n.constructor)===Vf}(o)?i=o:r=o}),r||i||t||null}function AR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const L0="VALID",FD="INVALID",g_="PENDING",B0="DISABLED";function xR(n){return(LD(n)?n.validators:n)||null}function u2(n){return Array.isArray(n)?bR(n):n||null}function kR(n,e){return(LD(e)?e.asyncValidators:n)||null}function d2(n){return Array.isArray(n)?wR(n):n||null}function LD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const h2=n=>n instanceof Qi,OR=n=>n instanceof Uf;function f2(n){return h2(n)?n.value:n.getRawValue()}function p2(n,e){const t=OR(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function m2(n,e){OR(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class RR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=u2(this._rawValidators),this._composedAsyncValidatorFn=d2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===L0}get invalid(){return this.status===FD}get pending(){return this.status==g_}get disabled(){return this.status===B0}get enabled(){return this.status!==B0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=u2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=d2(e)}addValidators(e){this.setValidators(e2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(e2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(t2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(t2(e,this._rawAsyncValidators))}hasValidator(e){return xD(this._rawValidators,e)}hasAsyncValidator(e){return xD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=g_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=L0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===L0||this.status===g_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B0:L0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=g_,this._hasOwnPendingAsyncValidator=!0;const t=GV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function fZ(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=OR(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof mZ)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?B0:this.errors?FD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(g_)?g_:this._anyControlsHaveStatus(FD)?FD:L0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){LD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Qi extends RR{constructor(e=null,t,i){super(xR(t),kR(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),LD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Uf extends RR{constructor(e,t,i){super(xR(t),kR(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){m2(this,e),Object.keys(e).forEach(i=>{p2(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=f2(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mZ extends RR{constructor(e,t,i){super(xR(t),kR(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){m2(this,e),e.forEach((i,r)=>{p2(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>f2(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gZ={provide:Br,useExisting:(0,l.Gpc)(()=>__)},V0=(()=>Promise.resolve(null))();let __=(()=>{class n extends Br{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Uf({},bR(t),wR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){V0.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),F0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){V0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){V0.then(()=>{const i=this._findContainer(t.path),r=new Uf({});a2(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){V0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){V0.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,c2(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Tr,10),l.Y36(Ku,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([gZ]),l.qOj]}),n})(),y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const vZ={provide:Js,useExisting:(0,l.Gpc)(()=>PR),multi:!0};let PR=(()=>{class n extends Vf{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([vZ]),l.qOj]}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const NR=new l.OlP("NgModelWithFormControlWarning"),EZ={provide:tc,useExisting:(0,l.Gpc)(()=>FR)};let FR=(()=>{class n extends tc{constructor(t,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=SR(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&RD(i,this,!1),F0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}DR(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&RD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Tr,10),l.Y36(Ku,10),l.Y36(Js,10),l.Y36(NR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([EZ]),l.qOj,l.TTD]}),n})();const TZ={provide:Br,useExisting:(0,l.Gpc)(()=>Qu)};let Qu=(()=>{class n extends Br{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ND(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return F0(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){RD(t.control||null,t,!1),AR(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,c2(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(RD(i||null,t),h2(r)&&(F0(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);a2(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function uZ(n,e){return ND(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){IR(this.form,this),this._oldForm&&ND(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Tr,10),l.Y36(Ku,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([TZ]),l.qOj,l.TTD]}),n})();const SZ={provide:tc,useExisting:(0,l.Gpc)(()=>v_)};let v_=(()=>{class n extends tc{constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SR(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),DR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function OD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Br,13),l.Y36(Tr,10),l.Y36(Ku,10),l.Y36(Js,10),l.Y36(NR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([SZ]),l.qOj,l.TTD]}),n})(),N2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[b2]]}),n})(),$Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[N2]}),n})(),zZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:NR,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[N2]}),n})();const F2=o_({passive:!0});let GZ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Hs.E;const i=Jl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new St.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,F2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,F2)}}),o}stopMonitoring(t){const i=Jl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ur),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const qZ=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),WZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ZZ=0;const YZ=wq(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let BD=(()=>{class n extends YZ{constructor(t,i,r,o,u,h,m,v,T,D){super(h,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+ZZ++,this.focused=!1,this.stateChanges=new St.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>IL().has(N)),this._iOSKeyupListener=N=>{const Q=N.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,k=M.nodeName.toLowerCase();this._inputValueAccessor=m||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===k,this._isTextarea="textarea"===k,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ni(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,o;return null!==(o=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(La.required))&&void 0!==o&&o}set required(t){this._required=ni(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&IL().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ni(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){WZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ur),l.Y36(tc,10),l.Y36(__,8),l.Y36(Qu,8),l.Y36(MB),l.Y36(qZ,10),l.Y36(GZ),l.Y36(l.R0b),l.Y36(vR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:yR,useExisting:n}]),l.qOj,l.TTD]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[MB],imports:[[L2,AD,xn],L2,AD]}),n})();var V2=R(655);function HR(n){return n instanceof l.Rgc}function $R(n){return"function"==typeof n}function U2(n){return"string"==typeof n}let KZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&l._UZ(0,"div",0),2&t&&l.Q6J("innerHTML",i.content,l.oJD)},encapsulation:2}),n})();class QZ{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){var e;1!==this.viewRef.rootNodes[0]&&(null===(e=this.element)||void 0===e||e.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class JZ{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class XZ{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let j2=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new XZ({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new QZ({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(HR(t))return this.createTemplate(t,i);if($R(t))return this.createComponent(t,i);if(U2(t))return new JZ(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e5=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){var t,i;null===(t=this.viewRef)||void 0===t||t.destroy(),U2(this.view)?(this.viewRef=this.viewService.createComponent(KZ,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:null!==(i=this.injector)&&void 0!==i?i:this.vcr.injector,context:this.context})}ngOnDestroy(){var t;null===(t=this.viewRef)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(j2))},n.\u0275dir=l.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[l.TTD]}),n})(),t5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const{isArray:n5}=Array;const a5=["*"],l5=function(n,e){return{"border-color":n,"border-right-color":e}};function c5(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-error",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function u5(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-checkmark",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function d5(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-warning",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function h5(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-info",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function f5(n,e){if(1&n&&(l.TgZ(0,"div",4),l._uU(1,"\n    "),l.TgZ(2,"div",5),l._uU(3,"\n      "),l.YNc(4,c5,4,1,"div",6),l._uU(5,"\n      "),l.YNc(6,u5,4,1,"div",6),l._uU(7,"\n      "),l.YNc(8,d5,4,1,"div",6),l._uU(9,"\n      "),l.YNc(10,h5,4,1,"div",6),l._uU(11,"\n    "),l.qZA(),l._uU(12,"\n  "),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("ngSwitch",t.type),l.xp6(2),l.Q6J("ngSwitchCase","error"),l.xp6(2),l.Q6J("ngSwitchCase","success"),l.xp6(2),l.Q6J("ngSwitchCase","warning"),l.xp6(2),l.Q6J("ngSwitchCase","info")}}function p5(n,e){if(1&n&&(l.TgZ(0,"div",1),l._uU(1,"\n  "),l._UZ(2,"hot-toast-loader",2),l._uU(3,"\n  "),l.YNc(4,f5,13,5,"div",3),l._uU(5,"\n"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("theme",t.theme),l.xp6(2),l.Q6J("ngIf","loading"!==t.type)}}const m5=["hotToastBarBase"];function g5(n,e){if(1&n&&(l.ynx(0),l._uU(1,"\n          "),l.TgZ(2,"hot-toast-animated-icon",10),l._uU(3),l.qZA(),l._uU(4,"\n        "),l.BQk()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("iconTheme",t.toast.iconTheme),l.xp6(1),l.Oqu(t.toast.icon)}}function _5(n,e){if(1&n&&(l._uU(0,"\n          "),l.TgZ(1,"div"),l._uU(2,"\n            "),l.GkF(3,11),l._uU(4,"\n          "),l.qZA(),l._uU(5,"\n        ")),2&n){const t=l.oxw(2);l.xp6(3),l.Q6J("dynamicView",t.toast.icon)}}function y5(n,e){if(1&n&&(l.ynx(0),l._uU(1,"\n        "),l.YNc(2,g5,5,2,"ng-container",4),l._uU(3,"\n        "),l.YNc(4,_5,6,1,"ng-template",null,9,l.W1O),l._uU(6,"\n      "),l.BQk()),2&n){const t=l.MAs(5),i=l.oxw();l.xp6(2),l.Q6J("ngIf",i.isIconString)("ngIfElse",t)}}function v5(n,e){if(1&n&&(l._uU(0,"\n        "),l._UZ(1,"hot-toast-indicator",12),l._uU(2,"\n      ")),2&n){const t=l.oxw();l.xp6(1),l.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function b5(n,e){1&n&&l.GkF(0)}function w5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){return l.CHM(t),l.oxw().close()}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngStyle",t.toast.closeStyle)}}function C5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"hot-toast",3),l.NdJ("height",function(r){const u=l.CHM(t).$implicit;return l.oxw().updateHeight(r,u)})("beforeClosed",function(){const o=l.CHM(t).$implicit;return l.oxw().beforeClosed(o)})("afterClosed",function(r){return l.CHM(t),l.oxw().afterClosed(r)}),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const H2={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class z2{constructor(e){this.toast=e,this._onClosed=new St.x}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function s5(...n){return 1===(n=function r5(n){return 1===n.length&&n5(n[0])?n[0]:n}(n)).length?(0,ga.Xf)(n[0]):new Vn.y(function o5(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,ga.Xf)(n[i]).subscribe((0,Cn.x)(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let D5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:a5,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0),l._uU(1,"\n  "),l.Hsn(2),l._uU(3,"\n"),l.qZA(),l._uU(4,"\n")),2&t&&l.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),S5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Q6J("ngStyle",l.WLB(1,l5,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},directives:[id],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),A5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),M5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),x5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),k5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),O5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(l.YNc(0,p5,6,2,"div",0),l._uU(1,"\n")),2&t&&l.Q6J("ngIf","blank"!==i.type)},directives:[S5,A5,M5,x5,k5,hn,Vi,wi],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),G2=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new l.vpe,this.beforeClosed=new l.vpe,this.afterClosed=new l.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){HR(this.toast.message)&&(this.context={$implicit:this.toastRef}),$R(this.toast.message)&&(this.toastComponentInjector=l.zs3.create({providers:[{provide:z2,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return Object.assign(Object.assign({transform:`translateY(${this.offset*(t?1:-1)}px)`},i),r)}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`,o=this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i;return Object.assign(Object.assign({},this.toast.style),{animation:o})}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.zs3),l.Y36(l.Qsj),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&l.Gf(m5,5),2&t){let r;l.iGM(r=l.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1,2),l._uU(4,"\n    "),l.TgZ(5,"div",3),l._uU(6,"\n      "),l.YNc(7,y5,7,2,"ng-container",4),l._uU(8,"\n\n      "),l.YNc(9,v5,3,2,"ng-template",null,5,l.W1O),l._uU(11,"\n    "),l.qZA(),l._uU(12,"\n\n    "),l.TgZ(13,"div",6),l._uU(14,"\n      "),l.TgZ(15,"div"),l._uU(16,"\n        "),l.YNc(17,b5,1,0,"ng-container",7),l._uU(18,"\n      "),l.qZA(),l._uU(19,"\n    "),l.qZA(),l._uU(20,"\n\n    "),l.YNc(21,w5,1,1,"button",8),l._uU(22,"\n  "),l.qZA(),l._uU(23,"\n"),l.qZA(),l._uU(24,"\n")),2&t){const r=l.MAs(10);l.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),l.xp6(2),l.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),l.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),l.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),l.xp6(5),l.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),l.xp6(10),l.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),l.xp6(4),l.Q6J("ngIf",i.toast.dismissible)}},directives:[D5,O5,id,Ar,hn,e5],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),R5=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new St.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(h=>h.visible&&h.position===i),o=r.findIndex(h=>h.id===t);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((h,m)=>h+(m.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(Hn(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>Object.assign(Object.assign({},r),r.id===t.id&&Object.assign(Object.assign({},t),i)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(G2,5),2&t){let r;l.iGM(r=l.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.YNc(4,C5,1,3,"hot-toast",2),l._uU(5,"\n  "),l.qZA(),l._uU(6,"\n"),l.qZA(),l._uU(7,"\n")),2&t&&(l.xp6(4),l.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},directives:[G2,On],encapsulation:2,changeDetection:0}),n})();class zR{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class F5{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let VD=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new zR,this._defaultPersistConfig=new F5,r&&(this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),r))}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),t),this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",Object.assign(Object.assign({},this._defaultConfig),i))}error(t,i){var r;return this.createToast(t||this._defaultConfig.error.content,"error",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.error),i))}success(t,i){var r;return this.createToast(t||this._defaultConfig.success.content,"success",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.success),i))}loading(t,i){var r;return this.createToast(t||this._defaultConfig.loading.content,"loading",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.loading),i))}warning(t,i){var r;return this.createToast(t||this._defaultConfig.warning.content,"warning",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.warning),i))}info(t,i){var r;return this.createToast(t||this._defaultConfig.warning.content,"info",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.warning),i))}observe(t){return i=>{var r,o,u,h,m,v;let T,D=0;const M=null!==(r=t.loading)&&void 0!==r?r:null===(o=this._defaultConfig.loading)||void 0===o?void 0:o.content,k=null!==(u=t.success)&&void 0!==u?u:null===(h=this._defaultConfig.success)||void 0===h?void 0:h.content,N=null!==(m=t.error)&&void 0!==m?m:null===(v=this._defaultConfig.error)||void 0===v?void 0:v.content;return Ih(()=>(M&&(T=this.createLoadingToast(M),D=Date.now()),i.pipe(Dn(Object.assign(Object.assign({},k&&{next:Q=>{T=this.createOrUpdateToast(t,Q,T,"success",0===D?D:Date.now()-D)}}),N&&{error:Q=>{T=this.createOrUpdateToast(t,Q,T,"error",0===D?D:Date.now()-D)}})))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){oi(this.platformId)||(this._componentRef=this._viewService.createComponent(R5).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,o,u){let h=null,m={};if(({content:h,options:m}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),h=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(h,i),r){r.updateMessage(h);const v=Object.assign(Object.assign({type:o,duration:u+H2[o]},m),m.duration&&{duration:u+m.duration});r.updateToast(v)}else this.createToast(h,o,m);return r}createToast(t,i,r,o){var u,h,m,v,T,D;this._isInitialized||(this._isInitialized=!0,this.init());const M=Date.now(),k=null!==(u=null==r?void 0:r.id)&&void 0!==u?u:M.toString();if(!this.isDuplicate(k)&&(!(null===(h=r.persist)||void 0===h?void 0:h.enabled)||(null===(m=r.persist)||void 0===m?void 0:m.enabled)&&this.handleStorageValue(k,r))){const N=Object.assign({ariaLive:null!==(v=null==r?void 0:r.ariaLive)&&void 0!==v?v:"polite",createdAt:M,duration:null!==(T=null==r?void 0:r.duration)&&void 0!==T?T:H2[i],id:k,message:t,role:null!==(D=null==r?void 0:r.role)&&void 0!==D?D:"status",type:i,visible:!0,observableMessages:null!=o?o:void 0},r);return new z2(N).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const o=Object.assign(Object.assign({},this._defaultPersistConfig),i.persist),u="local"===o.storage?localStorage:sessionStorage,h=o.key.replace(/\${id}/g,t);let m=u.getItem(h);return m?(m=parseInt(m,10),r=m>0?m-1:m):r=o.count,u.setItem(h,r.toString()),r}getContentAndOptions(t,i){let r,o=Object.assign(Object.assign({},this._defaultConfig),this._defaultConfig[t]);if("string"==typeof i||HR(i)||$R(i))r=i;else{let u;({content:r}=i),u=(0,V2._T)(i,["content"]),o=Object.assign(Object.assign({},o),u)}return{content:r,options:o}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j2),l.LFG(l.Lbi),l.LFG(zR,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L5=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:zR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ci,t5]]}),n})();function B5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Email is required "),l.qZA())}function V5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Please enter a correct email format "),l.qZA())}function U5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Password is required "),l.qZA())}let q2=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.toast=r,this.loginForm=new Uf({email:new Qi("",[La.required,La.email]),password:new Qi("",La.required)})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){if(!this.loginForm.valid)return;const{email:t,password:i}=this.loginForm.value;this.authService.login(t,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:"There was an error"})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mo),l.Y36(hi),l.Y36(VD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:4,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email address","formControlName","email"],[4,"ngIf"],["matInput","","placeholder","Password","formControlName","password","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Login"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return i.submit()}),l.TgZ(4,"mat-form-field"),l._UZ(5,"input",2),l.YNc(6,B5,2,0,"mat-error",3),l.YNc(7,V5,2,0,"mat-error",3),l.qZA(),l.TgZ(8,"mat-form-field"),l._UZ(9,"input",4),l.YNc(10,U5,2,0,"mat-error",3),l.qZA(),l.TgZ(11,"div",5)(12,"button",6),l._uU(13," Login "),l.qZA()(),l.TgZ(14,"span",5),l._uU(15,"New to our platform? "),l.TgZ(16,"a",7),l._uU(17,"Sign Up!"),l.qZA()()()()),2&t&&(l.xp6(3),l.Q6J("formGroup",i.loginForm),l.xp6(3),l.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),l.xp6(3),l.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required))},directives:[y_,m_,Qu,SD,BD,Zu,p_,v_,hn,AV,x0,Wm],styles:[".sign-up-link[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:8px}"]}),n})();function j5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Name is required "),l.qZA())}function H5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Email is required "),l.qZA())}function $5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Please enter a correct email format "),l.qZA())}function z5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Password is required "),l.qZA())}function G5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Confirm Password is required "),l.qZA())}function q5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Passwords should match "),l.qZA())}let Z5=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.toast=i,this.router=r,this.usersService=o,this.signUpForm=new Uf({name:new Qi("",La.required),email:new Qi("",[La.email,La.required]),password:new Qi("",La.required),confirmPassword:new Qi("",La.required)},{validators:n=>{var e,t;const i=null===(e=n.get("password"))||void 0===e?void 0:e.value,r=null===(t=n.get("confirmPassword"))||void 0===t?void 0:t.value;return i&&r&&i!==r?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}submit(){if(!this.signUpForm.valid)return;const{name:t,email:i,password:r}=this.signUpForm.value;this.authService.signUp(i,r).pipe(_n(({user:{uid:o}})=>this.usersService.addUser({uid:o,email:i,displayName:t})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing in",error:({message:o})=>`${o}`})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mo),l.Y36(VD),l.Y36(hi),l.Y36(y0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-up"]],decls:21,vars:7,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Email address","formControlName","email"],["matInput","","placeholder","Password","formControlName","password","type","password"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Sign Up a New User!"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return i.submit()}),l.TgZ(4,"mat-form-field"),l._UZ(5,"input",2),l.YNc(6,j5,2,0,"mat-error",3),l.qZA(),l.TgZ(7,"mat-form-field"),l._UZ(8,"input",4),l.YNc(9,H5,2,0,"mat-error",3),l.YNc(10,$5,2,0,"mat-error",3),l.qZA(),l.TgZ(11,"mat-form-field"),l._UZ(12,"input",5),l.YNc(13,z5,2,0,"mat-error",3),l.qZA(),l.TgZ(14,"mat-form-field"),l._UZ(15,"input",6),l.YNc(16,G5,2,0,"mat-error",3),l.qZA(),l.YNc(17,q5,2,0,"mat-error",3),l.TgZ(18,"div",7)(19,"button",8),l._uU(20," Sign Up! "),l.qZA()()()()),2&t&&(l.xp6(3),l.Q6J("formGroup",i.signUpForm),l.xp6(3),l.Q6J("ngIf",null==i.name||null==i.name.errors?null:i.name.errors.required),l.xp6(3),l.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),l.xp6(3),l.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),l.xp6(3),l.Q6J("ngIf",null==i.confirmPassword||null==i.confirmPassword.errors?null:i.confirmPassword.errors.required),l.xp6(1),l.Q6J("ngIf",null==i.signUpForm.errors?null:i.signUpForm.errors.passwordsDontMatch))},directives:[y_,m_,Qu,SD,BD,Zu,p_,v_,hn,AV,x0],styles:[""]}),n})();const W2="firebasestorage.googleapis.com",Z2="storageBucket";class Wn extends je.ZR{constructor(e,t){super(GR(e),`Firebase Storage: ${t} (${GR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}_codeEquals(e){return GR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function GR(n){return"storage/"+n}function qR(){return new Wn("unknown","An unknown error occurred, please check the error payload for server response.")}function WR(n){return new Wn("invalid-argument",n)}function Q2(){return new Wn("app-deleted","The Firebase app was deleted.")}function U0(n,e){return new Wn("invalid-format","String does not match format '"+n+"': "+e)}function j0(n){throw new Wn("internal-error","Internal error: "+n)}class Vr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Vr.makeFromUrl(e,t)}catch(r){return new Vr(e,"")}if(""===i.path)return i;throw function r8(n){return new Wn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Le){Le.path_=decodeURIComponent(Le.path)}const D=t.replace(/[.]/g,"\\."),ze=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Le){"/"===Le.path.charAt(Le.path.length-1)&&(Le.path_=Le.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===W2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Le=0;Le<ze.length;Le++){const mt=ze[Le],yt=mt.regex.exec(e);if(yt){let ii=yt[mt.indices.path];ii||(ii=""),i=new Vr(yt[mt.indices.bucket],ii),mt.postModify(i);break}}if(null==i)throw function i8(n){return new Wn("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class c8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function UD(n){return"string"==typeof n||n instanceof String}function J2(n){return ZR()&&n instanceof Blob}function ZR(){return"undefined"!=typeof Blob}function YR(n,e,t,i){if(i<e)throw WR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw WR(`Invalid value for '${n}'. Expected ${t} or less.`)}function nc(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function X2(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Ju=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ju||(Ju={})),Ju))();class m8{constructor(e,t,i,r,o,u,h,m,v,T,D){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function h8(n){return void 0!==n}(m)?o():o(m)}catch(m){u(m)}else if(null!==h){const m=qR();m.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,m):m)}else u(r.canceled?this.appDelete_?Q2():function Y2(){return new Wn("canceled","User canceled the upload/download.")}():function n8(){return new Wn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new jD(!1,null,!0)):this.backoffId_=function u8(n,e,t){let i=1,r=null,o=null,u=!1,h=0;function m(){return 2===h}let v=!1;function T(...he){v||(v=!0,e.apply(null,he))}function D(he){r=setTimeout(()=>{r=null,n(k,m())},he)}function M(){o&&clearTimeout(o)}function k(he,...Re){if(v)return void M();if(he)return M(),void T.call(null,he,...Re);if(m()||u)return M(),void T.call(null,he,...Re);let ze;i<64&&(i*=2),1===h?(h=2,ze=0):ze=1e3*(i+Math.random()),D(ze)}let N=!1;function Q(he){N||(N=!0,M(),!v&&(null!==r?(he||(h=2),clearTimeout(r),D(0)):he||(h=1)))}return D(0),o=setTimeout(()=>{u=!0,Q(!0)},t),Q}((i,r)=>{if(r)return void i(!1,new jD(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Ju.NO_ERROR,m=o.getStatus();if(!h||this.isRetryStatusCode_(m)){const T=o.getErrorCode()===Ju.ABORT;return void i(!1,new jD(!1,null,T))}const v=-1!==this.successCodes_.indexOf(m);i(!0,new jD(v,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function d8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||o}}class jD{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function C8(...n){const e=function w8(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(ZR())return new Blob(n);throw new Wn("unsupported-environment","This browser doesn't seem to support creating Blobs")}class KR{constructor(e,t){this.data=e,this.contentType=t||null}}function tU(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function nU(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw U0(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw U0(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function T8(n){return atob(n)}(e)}catch(r){throw U0(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class iU{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw U0("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function A8(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class ic{constructor(e,t){let i=0,r="";J2(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(J2(this.data_)){const r=function E8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new ic(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ic(i,!0)}}static getBlob(...e){if(ZR()){const t=e.map(i=>i instanceof ic?i.data_:i);return new ic(C8.apply(null,t))}{const t=e.map(u=>UD(u)?function eU(n,e){switch(n){case"raw":return new KR(tU(e));case"base64":case"base64url":return new KR(nU(n,e));case"data_url":return new KR(function D8(n){const e=new iU(n);return e.base64?nU("base64",e.rest):function I8(n){let e;try{e=decodeURIComponent(n)}catch(t){throw U0("data_url","Malformed data URL.")}return tU(e)}(e.rest)}(e),function S8(n){return new iU(n).contentType}(e))}throw qR()}("raw",u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new ic(r,!0)}}uploadData(){return this.data_}}function QR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function p8(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function rU(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function k8(n,e){return e}class Ur{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||k8}}let HD=null;function H0(){if(HD)return HD;const n=[];n.push(new Ur("bucket")),n.push(new Ur("generation")),n.push(new Ur("metageneration")),n.push(new Ur("name","fullPath",!0));const t=new Ur("name");t.xform=function e(o,u){return function O8(n){return!UD(n)||n.length<2?n:rU(n)}(u)},n.push(t);const r=new Ur("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Ur("timeCreated")),n.push(new Ur("updated")),n.push(new Ur("md5Hash",null,!0)),n.push(new Ur("cacheControl",null,!0)),n.push(new Ur("contentDisposition",null,!0)),n.push(new Ur("contentEncoding",null,!0)),n.push(new Ur("contentLanguage",null,!0)),n.push(new Ur("contentType",null,!0)),n.push(new Ur("metadata","customMetadata",!0)),HD=n,HD}function sU(n,e,t){const i=QR(e);return null===i?null:function P8(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const u=t[o];i[u.local]=u.xform(i,e[u.server])}return function R8(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Vr(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}const oU="prefixes";class Ba{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Va(n){if(!n)throw qR()}function b_(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function e8(){return new Wn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function X5(){return new Wn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function J5(n){return new Wn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function t8(n){return new Wn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function U8(n,e,t,i,r){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=nc(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,T=new Ba(h,"GET",function B8(n,e){return function t(i,r){const o=function L8(n,e,t){const i=QR(t);return null===i?null:function F8(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[oU])for(const r of t[oU]){const o=r.replace(/\/$/,""),u=n._makeStorageReference(new Vr(e,o));i.prefixes.push(u)}if(t.items)for(const r of t.items){const o=n._makeStorageReference(new Vr(e,r.name));i.items.push(o)}return i}(n,e,i)}(n,e,r);return Va(null!==o),o}}(n,e.bucket),v);return T.urlParams=o,T.errorHandler=b_(e),T}function dU(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let ze="";for(let Le=0;Le<2;Le++)ze+=Math.random().toString().slice(2);return ze}();u["Content-Type"]="multipart/related; boundary="+m;const v=function uU(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function z8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),T=function JR(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(v,t),k=ic.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===k)throw function K2(){return new Wn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const N={name:v.fullPath},Q=nc(o,n.host,n._protocol),Re=n.maxUploadRetryTime,He=new Ba(Q,"POST",function $D(n,e){return function t(i,r){const o=sU(n,r,e);return Va(null!==o),o}}(n,t),Re);return He.urlParams=N,He.headers=u,He.body=k.uploadData(),He.errorHandler=b_(e),He}class K8 extends class Y8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ju.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ju.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ju.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw j0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw j0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw j0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw j0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw j0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Uo(){return new K8}class Hf{constructor(e,t){this._service=e,this._location=t instanceof Vr?t:Vr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hf(e,t)}get root(){const e=new Vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rU(this._location.path)}get storage(){return this._service}get parent(){const e=function M8(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Vr(this._location.bucket,e);return new Hf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function l8(n){return new Wn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mU(n,e,t){return t1.apply(this,arguments)}function t1(){return t1=(0,q.Z)(function*(n,e,t){const r=yield gU(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield mU(n,e,r.nextPageToken))}),t1.apply(this,arguments)}function gU(n,e){null!=e&&"number"==typeof e.maxResults&&YR("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=U8(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Uo)}function cY(n){n._throwIfRoot("getDownloadURL");const e=function j8(n,e,t){const r=nc(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Ba(r,"GET",function V8(n,e){return function t(i,r){const o=sU(n,r,e);return Va(null!==o),function N8(n,e,t,i){const r=QR(e);if(null===r||!UD(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(v=>{const D=n.fullPath;return nc("/b/"+u(n.bucket)+"/o/"+u(D),t,i)+X2({alt:"media",token:v})})[0]}(o,r,n.host,n._protocol)}}(n,t),u);return h.errorHandler=function $0(n){const e=b_(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function Q5(n){return new Wn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),h}(n.storage,n._location,H0());return n.storage.makeRequestWithTokens(e,Uo).then(t=>{if(null===t)throw function a8(){return new Wn("no-download-url","The given file does not have any download URLs.")}();return t})}function yU(n,e){if(n instanceof n1){const t=n;if(null==t._bucket)throw function s8(){return new Wn("no-default-bucket","No default bucket found. Did you set the '"+Z2+"' property when initializing the app?")}();const i=new Hf(t,t._bucket);return null!=e?yU(i,e):i}return void 0!==e?function _U(n,e){const t=function x8(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Vr(n._location.bucket,t);return new Hf(n.storage,i)}(n,e):n}function vU(n,e){const t=null==e?void 0:e[Z2];return null==t?null:Vr.makeFromBucketSpec(t,n)}class n1{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=W2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vr.makeFromBucketSpec(r,this._host):vU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Vr.makeFromBucketSpec(this._url,e):vU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,q.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,q.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hf(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new c8(Q2());{const o=function b8(n,e,t,i,r,o){const u=X2(n.urlParams),h=n.url+u,m=Object.assign({},n.headers);return function y8(n,e){e&&(n["X-Firebase-GMPID"]=e)}(m,e),function g8(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(m,t),function _8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(m,o),function v8(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(m,i),new m8(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var i=this;return(0,q.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const bU="@firebase/storage",CU="storage";function mY(n,e,t){return function pU(n,e,t){n._throwIfRoot("uploadBytes");const i=dU(n.storage,n._location,H0(),new ic(e,!0),t);return n.storage.makeRequestWithTokens(i,Uo).then(r=>({metadata:r,ref:n}))}(n=(0,je.m9)(n),e,t)}function gY(n){return function oY(n){const e={prefixes:[],items:[]};return mU(n,e).then(()=>e)}(n=(0,je.m9)(n))}function _Y(n){return cY(n=(0,je.m9)(n))}function yY(n,e){return function fY(n,e){if(e&&function dY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof n1)return function hY(n,e){return new Hf(n,e)}(n,e);throw WR("To use ref(service, url), the first argument must be a Storage instance.")}return yU(n,e)}(n=(0,je.m9)(n),e)}function vY(n=(0,bt.getApp)(),e){return n=(0,je.m9)(n),(0,bt._getProvider)(n,CU).getImmediate({identifier:e})}function bY(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new n1(t,i,r,e,bt.SDK_VERSION)}!function wY(){(0,bt._registerComponent)(new Di.wA(CU,bY,"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(bU,"0.9.6",""),(0,bt.registerVersion)(bU,"0.9.6","esm2017")}();class z0{constructor(e){return e}}const EU="storage",r1=new l.OlP("angularfire2.storage-instances");function TY(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new z0(i)}}const IY={provide:class CY{constructor(){return Iy(EU)}},deps:[[new l.FiY,r1]]},DY={provide:z0,useFactory:function EY(n,e){const t=$c(EU,n,e);return t&&new z0(t)},deps:[[new l.FiY,r1],Do]};let SY=(()=>{class n{constructor(){(0,bt.registerVersion)("angularfire",Jd.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[DY,IY]}),n})();function AY(n,...e){return{ngModule:SY,providers:[{provide:r1,useFactory:TY(n),multi:!0,deps:[l.R0b,l.zs3,eh,th,[new l.FiY,Nr],[new l.FiY,or],...e]}]}}const s1=ln(_Y,!0),MY=ln(vY,!0),TU=ln(gY,!0),G0=ln(yY,!0),o1=ln(mY,!0);let xY=(()=>{class n{constructor(t,i){this.firestore=t,this.usersService=i,this.contTotal=0,this.contText=0,this.contVid=0,this.contImg=0,this.contAud=0,this.userName=""}get myChats$(){const t=Pa(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(Hi(i=>{const r=_O(t,Rz("userIds","array-contains",null==i?void 0:i.uid));return mO(r,{idField:"id"}).pipe((0,Qe.U)(o=>this.addChatNameAndPic(null==i?void 0:i.uid,o)))}))}createChat(t){const i=Pa(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe((0,Sn.q)(1),Hi(r=>{var o,u,h,m;return jI(i,{userIds:[null==r?void 0:r.uid,null==t?void 0:t.uid],users:[{displayName:null!==(o=null==r?void 0:r.displayName)&&void 0!==o?o:"",photoURL:null!==(u=null==r?void 0:r.photoURL)&&void 0!==u?u:""},{displayName:null!==(h=t.displayName)&&void 0!==h?h:"",photoURL:null!==(m=t.photoURL)&&void 0!==m?m:""}]})}),(0,Qe.U)(r=>r.id))}isExistingChat(t){return this.myChats$.pipe((0,Sn.q)(1),(0,Qe.U)(i=>{for(let r=0;r<i.length;r++)if(i[r].userIds.includes(t))return i[r].id;return null}))}addChatMessage(t,i){const r=Pa(this.firestore,"chats",t,"messages"),o=$u(this.firestore,"chats",t),u=cn.fromDate(new Date);return this.usersService.currentUserProfile$.pipe((0,Sn.q)(1),Hi(h=>jI(r,{text:i,senderId:null==h?void 0:h.uid,sentDate:u,tipo:"text"})),Hi(()=>$I(o,{lastMessage:i,lastMessageDate:u})))}addChatMessageFile(t,i,r){const o=Pa(this.firestore,"chats",t,"messages"),u=$u(this.firestore,"chats",t),h=cn.fromDate(new Date);return this.usersService.currentUserProfile$.pipe((0,Sn.q)(1),Hi(m=>jI(o,{text:i,senderId:null==m?void 0:m.uid,sentDate:h,tipo:r})),Hi(()=>$I(u,{lastMessage:i,lastMessageDate:h})))}addChatMessageDes(t,i,r){const o=Pa(this.firestore,"chats",t,"messages"),u=$u(this.firestore,"chats",t),h=cn.fromDate(new Date);var v=(new Date).getMinutes();return this.usersService.currentUserProfile$.pipe((0,Sn.q)(1),Hi(T=>jI(o,{text:i,senderId:null==T?void 0:T.uid,sentDate:h,tipo:"text",autodes:r,minutes:v})),Hi(()=>$I(u,{lastMessage:i,lastMessageDate:h})))}getChatMessages$(t){const i=Pa(this.firestore,"chats",t,"messages"),r=_O(i,kz("sentDate","asc"));return mO(r)}addChatNameAndPic(t,i){return i.forEach(r=>{const o=0===r.userIds.indexOf(null!=t?t:"")?1:0,{displayName:u,photoURL:h}=r.users[o];r.chatName=u,r.chatPic=h}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(r_),l.LFG(y0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IU=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){const r=G0(this.storage,i);return(0,sn.D)(o1(r,t)).pipe(_n(u=>s1(u.ref)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kY=(()=>{class n{constructor(t){this.http=t,this.apiKey="fa65a0c96035e9f8996444bd3e5789d0",this.uri=""}getFromUserSelection(t){return this.uri=`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${this.apiKey}`,this.http.get(this.uri)}getFromActualPosition(t,i){return this.uri=`https://api.openweathermap.org/data/2.5/weather?lat=${i}&lon=${t}&appid=${this.apiKey}`,this.http.get(this.uri)}getLocation(){return new Promise((t,i)=>{navigator.geolocation.getCurrentPosition(r=>{t({lng:r.coords.longitude,lat:r.coords.latitude})})})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(P0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a1(){return(0,Un.e)((n,e)=>{let t,i=!1;n.subscribe((0,Cn.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}R(5881);var OY=R(3942);function l1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new I("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function DU(){if("undefined"==typeof Uint8Array)throw new I("unimplemented","Uint8Arrays are not available in this environment.")}function SU(){if(!function Mj(){return"undefined"!=typeof atob}())throw new I("unimplemented","Blobs are unavailable in Firestore in this environment.")}class q0{constructor(e){this._delegate=e}static fromBase64String(e){return SU(),new q0(Ra.fromBase64String(e))}static fromUint8Array(e){return DU(),new q0(Ra.fromUint8Array(e))}toBase64(){return SU(),this._delegate.toBase64()}toUint8Array(){return DU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function c1(n){return function NY(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class FY{enableIndexedDbPersistence(e,t){return function A$(n,e){WF(n=zt(n,Pn));const t=_i(n),i=n._freezeSettings(),r=new $k;return qF(t,r,new MF(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function M$(n){WF(n=zt(n,Pn));const e=_i(n),t=n._freezeSettings(),i=new $k;return qF(e,i,new c$(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function x$(n){if(n._initialized&&!n._terminated)throw new I(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new S;return n._queue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{yield(t=(0,q.Z)(function*(i){if(!Bo.vt())return Promise.resolve();const r=i+"main";yield Bo.delete(r)}),function(i){return t.apply(this,arguments)})(Nx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class AU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof zl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&c("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function C$(n,e,t,i={}){var r;const o=(n=zt(n,h0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&c("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Ri.MOCK_USER;else{u=(0,je.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new I(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ri(m)}n._authCredentials=new Z(new O(u,h))}}(this._delegate,e,t,i)}enableNetwork(){return function O$(n){return function p$(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield RF(n),t=yield PF(n);return e.setNetworkEnabled(!0),function(i){const r=b(i);return r.wu.delete(0),u0(r)}(t)}))}(_i(n=zt(n,Pn)))}(this._delegate)}disableNetwork(){return function R$(n){return function m$(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield RF(n),t=yield PF(n);return e.setNetworkEnabled(!1),(i=(0,q.Z)(function*(r){const o=b(r);o.wu.add(0),yield Yg(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(_i(n=zt(n,Pn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,BF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function k$(n){return function(e){const t=new S;return e.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function Q3(n,e){return Sk.apply(this,arguments)}(yield Kk(e),t)})),t.promise}(_i(n=zt(n,Pn)))}(this._delegate)}onSnapshotsInSync(e){return function oz(n,e){return function y$(n,e){const t=new kI(e);return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return i=yield n_(n),r=t,b(i).bu.add(r),void r.next();var i,r})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return i=yield n_(n),r=t,void b(i).bu.delete(r);var i,r}))}}(_i(n=zt(n,Pn)),eO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new I("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new C_(this,Xk(this._delegate,e))}catch(t){throw jr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xs(this,f0(this._delegate,e))}catch(t){throw jr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hr(this,function E$(n,e){if(n=zt(n,h0),Jk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new I(C.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Er(n,null,(t=e,new Gl(Bt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw jr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lz(n,e,t){n=zt(n,Pn);const i=Object.assign(Object.assign({},X$),t);return function(r){if(r.maxAttempts<1)throw new I(C.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function v$(n,e,t){const i=new S;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){const r=yield(o=n,OI(o).then(u=>u.datastore));var o;new h$(n.asyncQueue,r,t,e,i).run()})),i.promise}(_i(n),r=>e(new az(n,r)),i)}(this._delegate,t=>e(new MU(this,t)))}batch(){return _i(this._delegate),new xU(new hL(this._delegate,e=>i_(this._delegate,e)))}loadBundle(e){return function P$(n,e){const t=_i(n=zt(n,Pn)),i=new I$;return function b$(n,e,t,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return xF(m,v);if(m instanceof ArrayBuffer)return xF(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new u$(m,u);var m}(t,c0(e));n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){!function l$(n,e,t){const i=b(n);var r;(r=(0,q.Z)(function*(o,u,h){try{const m=yield u.getMetadata();if(yield function(M,k){const N=b(M),Q=Zi(k.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",he=>N._s.getBundleMetadata(he,k.id)).then(he=>!!he&&he.createTime.compareTo(Q)>=0)}(o.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=m).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(vF(m));const v=new j3(m,o.localStore,u.M);let T=yield u.ma();for(;T;){const M=yield v.Fu(T);M&&h._updateProgress(M),T=yield u.ma()}const D=yield v.complete();return yield ql(o,D.Lu,void 0),yield function(M,k){const N=b(M);return N.persistence.runTransaction("Save bundle","readwrite",Q=>N._s.saveBundleMetadata(Q,k))}(o.localStore,m),h._completeWith(D.progress),Promise.resolve(D.Bu)}catch(m){return c("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var M}),function(o,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Kk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function N$(n,e){return function w$(n,e){return n.asyncQueue.enqueue((0,q.Z)(function*(){return function(t,i){const r=b(t);return r.persistence.runTransaction("Get named query","readonly",o=>r._s.getNamedQuery(o,i))}(yield Yk(n),e)}))}(_i(n=zt(n,Pn)),e).then(t=>t?new Er(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Hr(this,t):null)}}class GD extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new q0(new Ra(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xs.forKey(t,this.firestore,null)}}class MU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new GD(e)}get(e){const t=zf(e);return this._delegate.get(t).then(i=>new W0(this._firestore,new Zl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=zf(e);return i?(l1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=zf(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=zf(e);return this._delegate.delete(t),this}}class xU{constructor(e){this._delegate=e}set(e,t,i){const r=zf(e);return i?(l1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=zf(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $f{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new g0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Z0(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=$f.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new $f(e,new GD(e),t),r.set(t,o)),o}}$f.INSTANCES=new WeakMap;class Xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new GD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new I("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xs(t,new Mn(t._delegate,i,new Ue(e)))}static forKey(e,t,i){return new Xs(t,new Mn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new C_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new C_(this.firestore,Xk(this._delegate,e))}catch(t){throw jr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,je.m9)(e))instanceof Mn&&$F(this._delegate,e)}set(e,t){t=l1("DocumentReference.set",t);try{return t?aO(this._delegate,e,t):aO(this._delegate,e)}catch(i){throw jr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?lO(this._delegate,e):lO(this._delegate,e,t,...i)}catch(r){throw jr(r,"updateDoc()","DocumentReference.update()")}}delete(){return pL(this._delegate)}onSnapshot(...e){const t=kU(e),i=OU(e,r=>new W0(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cO(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function nz(n){n=zt(n,Mn);const e=zt(n.firestore,Pn),t=_i(e),i=new Af(e);return function g$(n,e){const t=new S;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(i=(0,q.Z)(function*(r,o,u){try{const h=yield function(m,v){const T=b(m);return T.persistence.runTransaction("read document","readonly",D=>T.fi.Ls(D,v))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new I(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=Jg(h,`Failed to get document '${o} from cache`);u.reject(m)}}),function(r,o,u){return i.apply(this,arguments)})(yield Yk(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Zl(e,i,n._key,r,new Sf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function iz(n){n=zt(n,Mn);const e=zt(n.firestore,Pn);return NF(_i(e),n._key,{source:"server"}).then(t=>uO(e,n,t))}(this._delegate):function tz(n){n=zt(n,Mn);const e=zt(n.firestore,Pn);return NF(_i(e),n._key).then(t=>uO(e,n,t))}(this._delegate),t.then(i=>new W0(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Xs(this.firestore,this._delegate.withConverter(e?$f.getInstance(this.firestore,e):null))}}function jr(n,e,t){return n.message=n.message.replace(e,t),n}function kU(n){for(const e of n)if("object"==typeof e&&!c1(e))return e;return{}}function OU(n,e){var t,i;let r;return r=c1(n[0])?n[0]:c1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class W0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tL(this._delegate,e._delegate)}}class Z0 extends W0{data(e){const t=this._delegate.data(e);return function y(n,e){n||f()}(void 0!==t),t}}class Hr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new GD(e)}where(e,t,i){try{return new Hr(this.firestore,Yl(this._delegate,iL(e,t,i)))}catch(r){throw jr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hr(this.firestore,Yl(this._delegate,rL(e,t)))}catch(i){throw jr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hr(this.firestore,Yl(this._delegate,function W$(n){return jF("limit",n),new sL("limit",n,"F")}(e)))}catch(t){throw jr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hr(this.firestore,Yl(this._delegate,function Z$(n){return jF("limitToLast",n),new sL("limitToLast",n,"L")}(e)))}catch(t){throw jr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hr(this.firestore,Yl(this._delegate,function Y$(...n){return new oL("startAt",n,!0)}(...e)))}catch(t){throw jr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hr(this.firestore,Yl(this._delegate,function K$(...n){return new oL("startAfter",n,!1)}(...e)))}catch(t){throw jr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hr(this.firestore,Yl(this._delegate,function Q$(...n){return new aL("endBefore",n,!1)}(...e)))}catch(t){throw jr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hr(this.firestore,Yl(this._delegate,function J$(...n){return new aL("endAt",n,!0)}(...e)))}catch(t){throw jr(t,"endAt()","Query.endAt()")}}isEqual(e){return zF(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rz(n){n=zt(n,Er);const e=zt(n.firestore,Pn),t=_i(e),i=new Af(e);return function _$(n,e){const t=new S;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(i=(0,q.Z)(function*(r,o,u){try{const h=yield II(r,o,!0),m=new CF(o,h._i),v=m.Wu(h.documents),T=m.applyChanges(v,!1);u.resolve(T.snapshot)}catch(h){const m=Jg(h,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(r,o,u){return i.apply(this,arguments)})(yield Yk(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ju(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function sz(n){n=zt(n,Er);const e=zt(n.firestore,Pn),t=_i(e),i=new Af(e);return FF(t,n._query,{source:"server"}).then(r=>new ju(e,i,n,r))}(this._delegate):fL(this._delegate),t.then(i=>new u1(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=kU(e),i=OU(e,r=>new u1(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cO(this._delegate,t,i)}withConverter(e){return new Hr(this.firestore,this._delegate.withConverter(e?$f.getInstance(this.firestore,e):null))}}class BY{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Z0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class u1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Z0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BY(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Z0(this._firestore,i))})}isEqual(e){return tL(this._delegate,e._delegate)}}class C_ extends Hr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xs(this.firestore,e):null}doc(e){try{return new Xs(this.firestore,void 0===e?f0(this._delegate):f0(this._delegate,e))}catch(t){throw jr(t,"doc()","CollectionReference.doc()")}}add(e){return mL(this._delegate,e).then(t=>new Xs(this.firestore,t))}isEqual(e){return $F(this._delegate,e._delegate)}withConverter(e){return new C_(this.firestore,this._delegate.withConverter(e?$f.getInstance(this.firestore,e):null))}}function zf(n){return zt(n,Mn)}class d1{constructor(...e){this._delegate=new Wl(...e)}static documentId(){return new d1(Pi.keyField().canonicalString())}isEqual(e){return(e=(0,je.m9)(e))instanceof Wl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uz(){return new tO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gf(e)}static delete(){const e=function cz(){return new p0("deleteField")}();return e._methodName="FieldValue.delete",new Gf(e)}static arrayUnion(...e){const t=function dz(...n){return new V$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gf(t)}static arrayRemove(...e){const t=function hz(...n){return new U$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gf(t)}static increment(e){const t=function fz(n){return new j$("increment",n)}(e);return t._methodName="FieldValue.increment",new Gf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VY={Firestore:AU,GeoPoint:PI,Timestamp:cn,Blob:q0,Transaction:MU,WriteBatch:xU,DocumentReference:Xs,DocumentSnapshot:W0,Query:Hr,QueryDocumentSnapshot:Z0,QuerySnapshot:u1,CollectionReference:C_,FieldPath:d1,FieldValue:Gf,setLogLevel:function LY(n){!function wP(n){Hl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function RU(n,e){return function HY(n,e=pa){return new Vn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function h1(n,e){return RU(n,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function qD(n,e){return h1(n,e).pipe($i(void 0),a1(),(0,Qe.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=r.find(T=>T.doc.ref.isEqual(u.ref)),v=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function PU(n,e,t){return qD(n,t).pipe(nu((i,r)=>function zY(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function GY(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return f1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return f1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return f1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),TO(),(0,Qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function f1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function NU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function jY(n){(function UY(n,e){n.INTERNAL.registerComponent(new Di.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},VY)))})(n,(e,t)=>new AU(e,t,new FY)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(OY.Z);class FU{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=qD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe($i(void 0),a1(),Hn(([i,r])=>r.length>0||!i),(0,Qe.U)(([i,r])=>r),zn)}auditTrail(e){return this.stateChanges(e).pipe(nu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=NU(e);return PU(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn)}valueChanges(e={}){return h1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),zn)}get(e){return(0,sn.D)(this.query.get(e)).pipe(zn)}add(e){return this.ref.add(e)}doc(e){return new LU(this.ref.doc(e),this.afs)}}class LU{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=BU(i,t);return new FU(r,o,this.afs)}snapshotChanges(){return function $Y(n,e){return RU(n,e).pipe($i(void 0),a1(),(0,Qe.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(zn)}}class qY{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Hn(t=>t.length>0),zn):qD(this.query,this.afs.schedulers.outsideAngular).pipe(zn)}auditTrail(e){return this.stateChanges(e).pipe(nu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=NU(e);return PU(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn)}valueChanges(e={}){return h1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),zn)}get(e){return(0,sn.D)(this.query.get(e)).pipe(zn)}}const WY=new l.OlP("angularfire2.enableFirestorePersistence"),ZY=new l.OlP("angularfire2.firestore.persistenceSettings"),YY=new l.OlP("angularfire2.firestore.settings"),KY=new l.OlP("angularfire2.firestore.use-emulator");function BU(n,e=(t=>t)){return{query:e(n),ref:n}}let QY=(()=>{class n{constructor(t,i,r,o,u,h,m,v,T,D,M,k,N,Q,he,Re,He){this.schedulers=m;const ze=(0,vs.on)(t,h,i),Le=T;D&&wm(ze,h,M,N,Q,he,k,Re),[this.firestore,this.persistenceEnabled$]=(0,vs.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const mt=h.runOutsideAngular(()=>ze.firestore());if(o&&mt.settings(o),Le&&mt.useEmulator(...Le),r&&!oi(u)){const yt=()=>{try{return(0,sn.D)(mt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch($t){return"undefined"!=typeof console&&console.warn($t),et(!1)}};return[mt,h.runOutsideAngular(yt)]}return[mt,et(!1)]},[o,Le,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=BU(r,i),h=this.schedulers.ngZone.run(()=>o);return new FU(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),o=this.firestore.collectionGroup(t);return new qY(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new LU(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(WY,8),l.LFG(YY,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(eh),l.LFG(ZY,8),l.LFG(KY,8),l.LFG(Jy,8),l.LFG(Yy,8),l.LFG(QC,8),l.LFG(Ky,8),l.LFG(Qy,8),l.LFG(bm,8),l.LFG(bA,8),l.LFG(or,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JY=(()=>{class n{constructor(t){this.http=t}search(t){return this.http.get("https://en.wikipedia.org/w/api.php",{params:{action:"query",list:"search",srsearch:t,utf8:"1",format:"json",origin:"*"}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(P0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XY(n,e){1&n&&l.Hsn(0)}const VU=["*"];function eK(n,e){}const tK=function(n){return{animationDuration:n}},nK=function(n,e){return{value:n,params:e}},iK=["tabListContainer"],rK=["tabList"],sK=["tabListInner"],oK=["nextPaginator"],aK=["previousPaginator"],lK=["tabBodyWrapper"],cK=["tabHeader"];function uK(n,e){}function dK(n,e){if(1&n&&l.YNc(0,uK,0,0,"ng-template",10),2&n){const t=l.oxw().$implicit;l.Q6J("cdkPortalOutlet",t.templateLabel)}}function hK(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t.textLabel)}}function fK(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6),l.NdJ("click",function(){const r=l.CHM(t),o=r.$implicit,u=r.index,h=l.oxw(),m=l.MAs(1);return h._handleClick(o,m,u)})("cdkFocusChange",function(r){const u=l.CHM(t).index;return l.oxw()._tabFocusChanged(r,u)}),l.TgZ(1,"div",7),l.YNc(2,dK,1,1,"ng-template",8),l.YNc(3,hK,1,1,"ng-template",null,9,l.W1O),l.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=l.MAs(4),o=l.oxw();l.ekj("mat-tab-label-active",o.selectedIndex===i),l.Q6J("id",o._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("matRippleDisabled",t.disabled||o.disableRipple),l.uIk("tabIndex",o._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),l.xp6(2),l.Q6J("ngIf",t.templateLabel)("ngIfElse",r)}}function pK(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-tab-body",11),l.NdJ("_onCentered",function(){return l.CHM(t),l.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return l.CHM(t),l.oxw()._setTabBodyWrapperHeight(r)}),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.ekj("mat-tab-body-active",r.selectedIndex===i),l.Q6J("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),l.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const mK=new l.OlP("MatInkBarPositioner",{providedIn:"root",factory:function gK(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let UU=(()=>{class n{constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=o}alignToElement(t){this.show(),this._ngZone.onStable.pipe((0,Sn.q)(1)).subscribe(()=>{const i=this._inkBarPositioner(t),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(mK),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const _K=new l.OlP("MatTabContent"),yK=new l.OlP("MatTabLabel"),vK=new l.OlP("MAT_TAB"),bK=mD(class{}),jU=new l.OlP("MAT_TAB_GROUP");let HU=(()=>{class n extends bK{constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new St.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new vD(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(jU,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,yK,5),l.Suo(r,_K,7,l.Rgc)),2&t){let o;l.iGM(o=l.CRH())&&(i.templateLabel=o.first),l.iGM(o=l.CRH())&&(i._explicitContent=o.first)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,7),2&t){let r;l.iGM(r=l.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[l._Bn([{provide:vK,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:VU,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.YNc(0,XY,1,0,"ng-template"))},encapsulation:2}),n})();const wK={translateTab:YI("translateTab",[l_("center, void, left-origin-center, right-origin-center",Xr({transform:"none"})),l_("left",Xr({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),l_("right",Xr({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),kf("* => left, * => right, left => center, right => center",xf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),kf("void => left-origin-center",[Xr({transform:"translate3d(-100%, 0, 0)"}),xf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),kf("void => right-origin-center",[Xr({transform:"translate3d(100%, 0, 0)"}),xf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let CK=(()=>{class n extends aR{constructor(t,i,r,o){super(t,i,o),this._host=r,this._centeringSub=tt.w0.EMPTY,this._leavingSub=tt.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe($i(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36((0,l.Gpc)(()=>$U)),l.Y36(ce))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[l.qOj]}),n})(),EK=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=tt.w0.EMPTY,this._translateTabComplete=new St.x,this._onCentering=new l.vpe,this._beforeCentering=new l.vpe,this._afterLeavingCenter=new l.vpe,this._onCentered=new l.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(TO((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Kl,8),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),$U=(()=>{class n extends EK{constructor(t,i,r){super(t,i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Kl,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(1&t&&l.Gf(aR,5),2&t){let r;l.iGM(r=l.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[l.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1),l.NdJ("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),l.YNc(2,eK,0,0,"ng-template",2),l.qZA()),2&t&&l.Q6J("@translateTab",l.WLB(3,nK,i._position,l.VKq(1,tK,i.animationDuration)))},directives:[CK],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[wK.translateTab]}}),n})();const zU=new l.OlP("MAT_TABS_CONFIG"),TK=mD(class{});let GU=(()=>{class n extends TK{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){2&t&&(l.uIk("aria-disabled",!!i.disabled),l.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[l.qOj]}),n})();const qU=o_({passive:!0});let SK=(()=>{class n{constructor(t,i,r,o,u,h,m){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=u,this._platform=h,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new St.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new St.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new l.vpe,this.indexFocused=new l.vpe,u.runOutsideAngular(()=>{Fa(t.nativeElement,"mouseleave").pipe(Fi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=WI(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Fa(this._previousPaginator.nativeElement,"touchstart",qU).pipe(Fi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Fa(this._nextPaginator.nativeElement,"touchstart",qU).pipe(Fi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:et("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new DO(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Sn.q)(1)).subscribe(r),(0,Zr.T)(t,i,this._items.changes).pipe(Fi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Fi(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ql(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const i=this._items?this._items.toArray()[t]:null;return!!i&&!i.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=i.elementRef.nativeElement;let h,m;"ltr"==this._getLayoutDirection()?(h=o,m=h+u):(m=this._tabListInner.nativeElement.offsetWidth-o,h=m-u);const v=this.scrollDistance,T=this.scrollDistance+r;h<v?this.scrollDistance-=v-h+60:m>T&&(this.scrollDistance+=m-T+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),rR(650,100).pipe(Fi((0,Zr.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(t);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(h_),l.Y36(Kl,8),l.Y36(l.R0b),l.Y36(ur),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),AK=(()=>{class n extends SK{constructor(t,i,r,o,u,h,m){super(t,i,r,o,u,h,m),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ni(t)}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(h_),l.Y36(Kl,8),l.Y36(l.R0b),l.Y36(ur),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[l.qOj]}),n})(),MK=(()=>{class n extends AK{constructor(t,i,r,o,u,h,m){super(t,i,r,o,u,h,m)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(h_),l.Y36(Kl,8),l.Y36(l.R0b),l.Y36(ur),l.Y36(Qs,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,GU,4),2&t){let o;l.iGM(o=l.CRH())&&(i._items=o)}},viewQuery:function(t,i){if(1&t&&(l.Gf(UU,7),l.Gf(iK,7),l.Gf(rK,7),l.Gf(sK,7),l.Gf(oK,5),l.Gf(aK,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._inkBar=r.first),l.iGM(r=l.CRH())&&(i._tabListContainer=r.first),l.iGM(r=l.CRH())&&(i._tabList=r.first),l.iGM(r=l.CRH())&&(i._tabListInner=r.first),l.iGM(r=l.CRH())&&(i._nextPaginator=r.first),l.iGM(r=l.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[l.qOj],ngContentSelectors:VU,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),l._UZ(2,"div",2),l.qZA(),l.TgZ(3,"div",3,4),l.NdJ("keydown",function(o){return i._handleKeydown(o)}),l.TgZ(5,"div",5,6),l.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),l.TgZ(7,"div",7,8),l.Hsn(9),l.qZA(),l._UZ(10,"mat-ink-bar"),l.qZA()(),l.TgZ(11,"button",9,10),l.NdJ("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),l._UZ(13,"div",2),l.qZA()),2&t&&(l.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),l.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),l.xp6(5),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),l.xp6(6),l.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),l.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[Ff,OL,UU],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),xK=0;class kK{}const OK=S0(d_(class{constructor(n){this._elementRef=n}}),"primary");let RK=(()=>{class n extends OK{constructor(t,i,r,o){var u;super(t),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new l.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=tt.w0.EMPTY,this._tabLabelSubscription=tt.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new l.vpe,this.focusChange=new l.vpe,this.animationDone=new l.vpe,this.selectedTabChange=new l.vpe(!0),this._groupId=xK++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(u=null==r?void 0:r.contentTabIndex)&&void 0!==u?u:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=ni(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=WI(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=WI(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),t&&i.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe($i(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new kK;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Zr.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){t.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(t,i){var r;return t.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(zU,8),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[l.qOj]}),n})(),PK=(()=>{class n extends RK{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(zU,8),l.Y36(Qs,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,HU,5),2&t){let o;l.iGM(o=l.CRH())&&(i._allTabs=o)}},viewQuery:function(t,i){if(1&t&&(l.Gf(lK,5),l.Gf(cK,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._tabBodyWrapper=r.first),l.iGM(r=l.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[l._Bn([{provide:jU,useExisting:n}]),l.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-tab-header",0,1),l.NdJ("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),l.YNc(2,fK,5,15,"div",2),l.qZA(),l.TgZ(3,"div",3,4),l.YNc(5,pK,1,10,"mat-tab-body",5),l.qZA()),2&t&&(l.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),l.xp6(2),l.Q6J("ngForOf",i._tabs),l.xp6(1),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),l.xp6(2),l.Q6J("ngForOf",i._tabs))},directives:[MK,$U,On,GU,Ff,g6,Ar,hn,aR],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),NK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ci,xn,zB,M0,IO,_6],xn]}),n})(),FK=(()=>{class n{constructor(){this.searchValue=new l.vpe,this.searchForm=new Uf({search:new Qi("",[La.pattern("[a-zA-Z]*")])})}get f(){return this.searchForm.controls}getSearch(){this.searchValue.emit(this.searchForm.value.search)}onEnter(t){t.preventDefault(),this.searchValue.emit(t.target.value)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-searchbox"]],outputs:{searchValue:"searchValue"},decls:4,vars:1,consts:[[1,"searchbox",3,"formGroup"],[1,"bx","bx-search",3,"click"],["name","search","formControlName","search","type","text","placeholder","City",3,"keydown.enter"]],template:function(t,i){1&t&&(l.TgZ(0,"form")(1,"div",0)(2,"i",1),l.NdJ("click",function(){return i.getSearch()}),l.qZA(),l.TgZ(3,"input",2),l.NdJ("keydown.enter",function(o){return i.onEnter(o)}),l.qZA()()()),2&t&&(l.xp6(1),l.Q6J("formGroup",i.searchForm))},directives:[y_,m_,__,Qu,Zu,p_,v_],styles:["form[_ngcontent-%COMP%]{align-self:center;width:100%}form[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .bx-search[_ngcontent-%COMP%]{position:relative;left:26px;top:4px;z-index:999;color:#f2f2f2;font-size:20px;cursor:pointer}form[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;width:max-content;left:50px;bottom:-20px;padding:0 5px;border-radius:10px;color:#f2f2f2;font-size:.8em;background-color:#e0585880}form[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:35px;padding-left:30px;border-radius:12px;background-color:#f0f0f042;color:#f2f2f2;font-size:1.1em}form[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#f2f2f2;font-size:16px}"]}),n})(),LK=(()=>{class n{constructor(){this.temp=""}ngOnInit(){}ngOnChanges(){this.weatherInfo.main.temp=String(parseInt(this.weatherInfo.main.temp)-273)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-main-info"]],inputs:{weatherInfo:"weatherInfo"},features:[l.TTD],decls:8,vars:2,consts:[[1,"main-info"],[1,"city"],[1,"celsius-container"],[1,"number"],[1,"celsius"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"p",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2)(4,"p",3),l._uU(5),l.qZA(),l.TgZ(6,"p",4),l._uU(7,"\xb0C"),l.qZA()()()),2&t&&(l.xp6(2),l.Oqu(i.weatherInfo.name),l.xp6(3),l.Oqu(i.weatherInfo.main.temp))},styles:[".main-info[_ngcontent-%COMP%]{margin-bottom:10px;color:#f2f2f2;width:-moz-fit-content;width:fit-content}.main-info[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{font-size:24px;margin-left:60%;margin-bottom:-20px}.main-info[_ngcontent-%COMP%]   .celsius-container[_ngcontent-%COMP%]{position:relative;margin-bottom:50px}.main-info[_ngcontent-%COMP%]   .celsius-container[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-weight:400;font-size:45px;margin-left:160%}.main-info[_ngcontent-%COMP%]   .celsius-container[_ngcontent-%COMP%]   .celsius[_ngcontent-%COMP%]{position:absolute;top:-15px;right:-125px;font-size:25px;font-weight:500}"]}),n})(),BK=(()=>{class n{constructor(){}ngOnInit(){}ngOnChanges(){this.weatherInfo.main.temp_max=String(parseInt(this.weatherInfo.main.temp_max)-273),this.weatherInfo.main.temp_min=String(parseInt(this.weatherInfo.main.temp_min)-273)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-details"]],inputs:{weatherInfo:"weatherInfo"},features:[l.TTD],decls:31,vars:6,consts:[[1,"details"],[1,"minmax"],[1,"wind","detail"],[1,"icon"],[1,"info"],[1,"bx","bx-wind"],[1,"wind-detail"],[1,"clouds","detail"],[1,"bx","bxs-cloud"],[1,"clouds-detail"],[1,"humidity","detail"],[1,"bx","bx-water"],[1,"humidity-detail"],[1,"pressure","detail"],[1,"bx","bx-tachometer"],[1,"pressure-detail"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"p",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2)(4,"div",3)(5,"p",4),l._uU(6,"Velocidad del viento"),l.qZA(),l._UZ(7,"i",5),l.qZA(),l.TgZ(8,"p",6),l._uU(9),l.qZA()(),l.TgZ(10,"div",7)(11,"div",3)(12,"p",4),l._uU(13,"Porcentaje de nubes"),l.qZA(),l._UZ(14,"i",8),l.qZA(),l.TgZ(15,"p",9),l._uU(16),l.qZA()(),l.TgZ(17,"div",10)(18,"div",3)(19,"p",4),l._uU(20,"Porcentaje de humedad"),l.qZA(),l._UZ(21,"i",11),l.qZA(),l.TgZ(22,"p",12),l._uU(23),l.qZA()(),l.TgZ(24,"div",13)(25,"div",3)(26,"p",4),l._uU(27,"Presion en hectopascales"),l.qZA(),l._UZ(28,"i",14),l.qZA(),l.TgZ(29,"p",15),l._uU(30),l.qZA()()()),2&t&&(l.xp6(2),l.AsE("",i.weatherInfo.main.temp_min,"\xb0C min / ",i.weatherInfo.main.temp_max,"\xb0C max"),l.xp6(7),l.hij("",i.weatherInfo.wind.speed,"m/s"),l.xp6(7),l.hij("",i.weatherInfo.clouds.all,"%"),l.xp6(7),l.hij("",i.weatherInfo.main.humidity,"%"),l.xp6(7),l.hij("",i.weatherInfo.main.pressure,"hPa"))},styles:[".details[_ngcontent-%COMP%]{padding:20px;height:40%;width:80%;background-color:#f1f1f199;border-radius:24px;margin-bottom:-5px;margin-left:10px;display:flex;flex-direction:column;justify-content:space-evenly}.details[_ngcontent-%COMP%]   .minmax[_ngcontent-%COMP%]{color:#1d1d1d;font-size:14px}.details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;align-items:center}.details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1d;font-size:14px}.details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:100%;background-color:#45a6ff40;padding:8px;margin-right:5px;position:relative}.details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-120px;width:max-content;color:#f0f0f0;background-color:#22222280;padding:1px 5px;border-radius:5px;display:none}.details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#525252}.details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover   .info[_ngcontent-%COMP%]{display:block}"]}),n})(),VK=(()=>{class n{constructor(){this.submitted=new l.vpe}ngOnInit(){}onFormSubmit(t){this.term=t.target,t.preventDefault(),this.submitted.emit(this.term[0].value),console.log(this.term[0].value)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-search-bar"]],outputs:{submitted:"submitted"},decls:3,vars:0,consts:[[1,"box"],[3,"submit"],["placeholder","Enter Text Here",1,"input",3,"input"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("submit",function(o){return i.onFormSubmit(o)}),l.TgZ(2,"input",2),l.NdJ("input",function(o){return i.term=o.target}),l.qZA()()())},directives:[y_,m_,__],styles:[""]}),n})();function UK(n,e){if(1&n&&(l.TgZ(0,"tr"),l.ynx(1,2),l.TgZ(2,"td",7)(3,"a",8),l._uU(4),l.qZA()(),l.BQk(),l.ynx(5,9),l.TgZ(6,"td",7),l._uU(7),l.qZA(),l.BQk(),l.ynx(8,10),l._UZ(9,"td",11),l.BQk(),l.qZA()),2&n){const t=e.$implicit;l.xp6(3),l.Q6J("href","http://en.wikipedia.org/?curid="+t.pageid,l.LSH),l.xp6(1),l.hij(" ",t.title," "),l.xp6(3),l.hij(" ",t.wordcount," "),l.xp6(2),l.Q6J("innerHtml",t.snippet,l.oJD)}}function jK(n,e){1&n&&l._UZ(0,"tr",12)}function HK(n,e){1&n&&l._UZ(0,"tr",13)}let $K=(()=>{class n{constructor(){this.pages=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-page-list"]],inputs:{pages:"pages"},decls:12,vars:3,consts:[["tabindex","0",1,"example-container","mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8"],["matColumnDef","Title"],["mat-header-cell",""],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["target","_blank",3,"href"],["matColumnDef","Count"],["matColumnDef","Snippet"],["mat-cell","",3,"innerHtml"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"table",1),l.ynx(2,2),l.TgZ(3,"th",3),l._uU(4," Titulo "),l.qZA(),l.TgZ(5,"th",3),l._uU(6," Contador de Palabras "),l.qZA(),l.TgZ(7,"th",3),l._uU(8," Snippet "),l.qZA(),l.BQk(),l.YNc(9,UK,10,4,"tr",4),l.YNc(10,jK,1,0,"tr",5),l.YNc(11,HK,1,0,"tr",6),l.qZA()()),2&t&&(l.xp6(9),l.Q6J("ngForOf",i.pages),l.xp6(1),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns))},directives:[On],styles:[".table[_ngcontent-%COMP%]{margin:20px 0 0 10px;width:50%;height:30%}.example-container[_ngcontent-%COMP%]{height:400px;overflow:auto}"]}),n})();const zK=["panel"];function GK(n,e){if(1&n&&(l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA()),2&n){const t=e.id,i=l.oxw();l.Q6J("id",i.id)("ngClass",i._classList),l.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const qK=["*"];let WK=0;class ZK{constructor(e,t){this.source=e,this.option=t}}const YK=d_(class{}),ZU=new l.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function KK(){return{autoActiveFirstOption:!1}}});let QK=(()=>{class n extends YK{constructor(t,i,r,o){super(),this._changeDetectorRef=t,this._elementRef=i,this._activeOptionChanges=tt.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new l.vpe,this.opened=new l.vpe,this.closed=new l.vpe,this.optionActivated=new l.vpe,this._classList={},this.id="mat-autocomplete-"+WK++,this.inertGroups=(null==o?void 0:o.SAFARI)||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=ni(t)}set classList(t){this._classList=t&&t.length?function t6(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new s6(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new ZK(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(ZU),l.Y36(ur))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(l.Rgc,7),l.Gf(zK,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.template=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[l.qOj]}),n})(),JK=(()=>{class n extends QK{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,LB,5),l.Suo(r,VB,5)),2&t){let o;l.iGM(o=l.CRH())&&(i.optionGroups=o),l.iGM(o=l.CRH())&&(i.options=o)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[l._Bn([{provide:FB,useExisting:n}]),l.qOj],ngContentSelectors:qK,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,GK,3,4,"ng-template"))},directives:[Ar],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),n})();const YU=new l.OlP("mat-autocomplete-scroll-strategy"),e7={provide:YU,deps:[f_],useFactory:function XK(n){return()=>n.scrollStrategies.reposition()}},t7={provide:Js,useExisting:(0,l.Gpc)(()=>KU),multi:!0};let n7=(()=>{class n{constructor(t,i,r,o,u,h,m,v,T,D,M){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=u,this._dir=m,this._formField=v,this._document=T,this._viewportRuler=D,this._defaults=M,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=tt.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new St.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Ih(()=>{const k=this.autocomplete?this.autocomplete.options:null;return k?k.changes.pipe($i(k),_n(()=>(0,Zr.T)(...k.map(N=>N.onSelectionChange)))):this._zone.onStable.pipe((0,Sn.q)(1),_n(()=>this.optionSelections))}),this._scrollStrategy=h}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=ni(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Zr.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Hn(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Hn(()=>this._overlayAttached)):et()).pipe((0,Qe.U)(t=>t instanceof BB?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Zr.T)(Fa(this._document,"click"),Fa(this._document,"auxclick"),Fa(this._document,"touchend")).pipe(Hn(t=>{const i=zu(t),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve().then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=Ql(t);if(27===i&&!r&&t.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,u=38===i||40===i;9===i||u&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):u&&this._canOpen()&&this.openPanel(),(u||this.autocomplete._keyManager.activeItem!==o)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let i=t.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._onChange(r),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe((0,Sn.q)(1)),i=this.autocomplete.options.changes.pipe(Dn(()=>this._positionStrategy.reapplyLastPosition()),sR(0));return(0,Zr.T)(t,i).pipe(_n(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),r!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),(0,Sn.q)(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,r=null!=i?i:"";this._formField?this._formField._control.value=r:this._element.nativeElement.value=r,this._previousValue=r}_setValueAndClose(t){const i=t&&t.source;i&&(this._clearPreviousSelectedOption(i),this._setTriggerValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(i=>{i!==t&&i.selected&&i.deselect()})}_attachOverlay(){var t;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new vD(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,i.keydownEvents().subscribe(o=>{(27===o.keyCode&&!Ql(o)||38===o.keyCode&&Ql(o,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),o.stopPropagation(),o.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&r!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new cR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let u;u="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(u)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const i=this.autocomplete,r=function Oq(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const u=o._getHostElement(),h=function Rq(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(u.offsetTop,u.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(h)}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(f_),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(YU),l.Y36(Kl,8),l.Y36(vR,9),l.Y36(ce,8),l.Y36(h_),l.Y36(ZU,8))},n.\u0275dir=l.lG2({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[l.TTD]}),n})(),KU=(()=>{class n extends n7{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){1&t&&l.NdJ("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),2&t&&l.uIk("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[l._Bn([t7]),l.qOj]}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[e7],imports:[[iV,UB,xn,Ci],bD,UB,xn]}),n})();class QU{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new St.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let s7=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ni(t)}get inset(){return this._inset}set inset(t){this._inset=ni(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),JU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xn],xn]}),n})();const o7=["*"],l7=["text"];function c7(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const u7=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],d7=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),h7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const f7=d_(class{}),p7=d_(class{}),m7={provide:Js,useExisting:(0,l.Gpc)(()=>p1),multi:!0};class g7{constructor(e,t,i){this.source=e,this.option=t,this.options=i}}let ej=(()=>{class n extends p7{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new l.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=ni(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=ni(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function Eq(n,e,t="mat"){n.changes.pipe($i(n)).subscribe(({length:i})=>{A0(e,`${t}-2-line`,!1),A0(e,`${t}-3-line`,!1),A0(e,`${t}-multi-line`,!1),2===i||3===i?A0(e,`${t}-${i}-line`,!0):i>3&&A0(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>p1)))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,XU,5),l.Suo(r,h7,5),l.Suo(r,xB,5)),2&t){let o;l.iGM(o=l.CRH())&&(i._avatar=o.first),l.iGM(o=l.CRH())&&(i._icon=o.first),l.iGM(o=l.CRH())&&(i._lines=o)}},viewQuery:function(t,i){if(1&t&&l.Gf(l7,5),2&t){let r;l.iGM(r=l.CRH())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(l.uIk("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[l.qOj],ngContentSelectors:d7,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(l.F$t(u7),l.TgZ(0,"div",0),l._UZ(1,"div",1),l.YNc(2,c7,1,2,"mat-pseudo-checkbox",2),l.TgZ(3,"div",3,4),l.Hsn(5),l.qZA(),l.Hsn(6,1),l.qZA()),2&t&&(l.ekj("mat-list-item-content-reverse","after"==i.checkboxPosition),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),l.xp6(1),l.Q6J("ngIf",i.selectionList.multiple))},directives:[NB,Ff,hn],encapsulation:2,changeDetection:0}),n})(),p1=(()=>{class n extends f7{constructor(t,i,r,o){super(),this._element=t,this._changeDetector=r,this._focusMonitor=o,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new l.vpe,this.tabIndex=0,this.color="accent",this.compareWith=(u,h)=>u===h,this._disabled=!1,this.selectedOptions=new QU(this._multiple),this._tabIndex=-1,this._onChange=u=>{},this._destroyed=new St.x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=ni(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=ni(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new QU(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new DO(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Fi(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe($i(null),Fi(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Fi(this._destroyed)).subscribe(i=>{if(i.added)for(let r of i.added)r.selected=!0;if(i.removed)for(let r of i.removed)r.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe(Fi(this._destroyed)).subscribe(i=>{var r;if("keyboard"===i||"program"===i){let o=0;for(let u=0;u<this.options.length;u++)if(null===(r=this.options.get(u))||void 0===r?void 0:r.selected){o=u;break}this._keyManager.setActiveItem(o)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,o=r.activeItemIndex,u=Ql(t);switch(i){case 32:case 13:!u&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&Ql(t,"ctrlKey")&&!r.isTyping()){const h=this.options.some(m=>!m.disabled&&!m.selected);this._setAllOptionsSelected(h,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new g7(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const o=[];return this.options.forEach(u=>{(!i||!u.disabled)&&u._setSelected(t)&&o.push(u)}),o.length&&(this._reportValueChange(),r&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.$8M("tabindex"),l.Y36(l.sBO),l.Y36(E0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,ej,5),2&t){let o;l.iGM(o=l.CRH())&&(i.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(o){return i._keydown(o)}),2&t&&l.uIk("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[l._Bn([m7]),l.qOj,l.TTD],ngContentSelectors:o7,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),_7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[kB,M0,xn,nR,Ci],kB,xn,nR,JU]}),n})(),y7=(()=>{class n{constructor(t){this.datePipe=t}transform(t){var i;return null!==(i=this.datePipe.transform(null==t?void 0:t.toMillis(),"short"))&&void 0!==i?i:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tp,16))},n.\u0275pipe=l.Yjl({name:"dateDisplay",type:n,pure:!0}),n})();const v7=["endOfChat"];function b7(n,e){if(1&n&&l._UZ(0,"app-page-list",26),2&n){const t=l.oxw();l.Q6J("pages",t.pages)}}function w7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-option",27),l.NdJ("click",function(){const o=l.CHM(t).$implicit;return l.oxw().createChat(o)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.Q6J("value",""),l.xp6(1),l.hij(" ",t.displayName," ")}}function C7(n,e){if(1&n&&(l.TgZ(0,"p",32)(1,"span",33),l._uU(2),l.qZA(),l.TgZ(3,"span",34),l._uU(4),l.ALo(5,"dateDisplay"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.Oqu(t.chatName),l.xp6(2),l.Oqu(l.lcZ(5,2,t.lastMessageDate))}}function E7(n,e){if(1&n&&(l.TgZ(0,"p",32)(1,"span",33),l._uU(2,"Usuario Bloqueado"),l.qZA(),l.TgZ(3,"span",34),l._uU(4),l.ALo(5,"dateDisplay"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(4),l.Oqu(l.lcZ(5,1,t.lastMessageDate))}}function T7(n,e){if(1&n&&(l.TgZ(0,"mat-list-option",28),l._UZ(1,"img",29),l.YNc(2,C7,6,4,"p",30),l.YNc(3,E7,6,3,"p",30),l.TgZ(4,"p",31),l._uU(5),l.qZA(),l._UZ(6,"mat-divider"),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("value",t.id),l.xp6(1),l.Q6J("src",t.chatPic?t.chatPic:"assets/images/image-placeholder.png",l.LSH),l.xp6(1),l.Q6J("ngIf",!i.bloquear),l.xp6(1),l.Q6J("ngIf",i.bloquear),l.xp6(2),l.Oqu(t.lastMessage)}}function I7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",38),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).bloquearUser()}),l.TgZ(1,"mat-icon"),l._uU(2,"speaker_notes_off"),l.qZA()()}}function D7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",38),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).bloquearUser()}),l.TgZ(1,"mat-icon"),l._uU(2,"speaker_notes"),l.qZA()()}}function S7(n,e){if(1&n&&(l.TgZ(0,"div",35),l._UZ(1,"img",36),l.TgZ(2,"h2"),l._uU(3),l.qZA(),l.YNc(4,I7,3,0,"button",37),l.YNc(5,D7,3,0,"button",37),l.qZA()),2&n){const t=e.ngIf,i=l.oxw();l.xp6(1),l.Q6J("src",t.chatPic?t.chatPic:"assets/images/image-placeholder.png",l.LSH),l.xp6(2),l.Oqu(t.chatName),l.xp6(1),l.Q6J("ngIf",!i.bloquear),l.xp6(1),l.Q6J("ngIf",i.bloquear)}}function A7(n,e){1&n&&(l.TgZ(0,"h2"),l._uU(1,"Messages"),l.qZA())}function M7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",42),l._uU(1),l.TgZ(2,"span",43),l._uU(3),l.ALo(4,"dateDisplay"),l.qZA(),l.TgZ(5,"button",44),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw(3).messagesDelete(r)}),l.TgZ(6,"mat-icon"),l._uU(7,"delete_forever"),l.qZA()(),l.TgZ(8,"button",45),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw(3).messagesEdit(r)}),l.TgZ(9,"mat-icon"),l._uU(10,"question_answer"),l.qZA()()()}if(2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.text," "),l.xp6(2),l.Oqu(l.lcZ(4,2,t.sentDate))}}function x7(n,e){if(1&n&&(l.TgZ(0,"div",42),l._UZ(1,"img",46),l.TgZ(2,"span",43),l._uU(3),l.ALo(4,"dateDisplay"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.s9C("src",t.text,l.LSH),l.xp6(2),l.Oqu(l.lcZ(4,2,t.sentDate))}}function k7(n,e){if(1&n&&(l.TgZ(0,"div",42),l._uU(1),l._UZ(2,"video",47),l.TgZ(3,"span",43),l._uU(4),l.ALo(5,"dateDisplay"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.tipo," "),l.xp6(1),l.s9C("src",t.text,l.LSH),l.xp6(2),l.Oqu(l.lcZ(5,3,t.sentDate))}}function O7(n,e){if(1&n&&(l.TgZ(0,"div",42),l._uU(1),l._UZ(2,"video",48),l.TgZ(3,"span",43),l._uU(4),l.ALo(5,"dateDisplay"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.tipo," "),l.xp6(1),l.s9C("src",t.text,l.LSH),l.xp6(2),l.Oqu(l.lcZ(5,3,t.sentDate))}}const R7=function(n){return{sender:n}};function P7(n,e){if(1&n&&(l.TgZ(0,"div",40),l.YNc(1,M7,11,4,"div",41),l.YNc(2,x7,5,4,"div",41),l.YNc(3,k7,6,5,"div",41),l.YNc(4,O7,6,5,"div",41),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(2).ngIf,r=l.oxw();l.Q6J("ngClass",l.VKq(5,R7,t.senderId===i.uid)),l.xp6(1),l.Q6J("ngIf","text"==t.tipo&&!r.bloquear),l.xp6(1),l.Q6J("ngIf","img"==t.tipo&&!r.bloquear),l.xp6(1),l.Q6J("ngIf","video"==t.tipo&&!r.bloquear),l.xp6(1),l.Q6J("ngIf","audio"==t.tipo&&!r.bloquear)}}function N7(n,e){if(1&n&&(l.ynx(0),l.YNc(1,P7,5,7,"div",39),l.BQk()),2&n){const t=e.ngIf;l.xp6(1),l.Q6J("ngForOf",t)}}function F7(n,e){if(1&n&&(l.ynx(0),l.YNc(1,N7,2,1,"ng-container",23),l.ALo(2,"async"),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.messages$))}}function L7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",49)(1,"mat-form-field",50)(2,"input",51),l.NdJ("keydown.enter",function(){return l.CHM(t),l.oxw().sendMessage()}),l.qZA(),l.TgZ(3,"div",52)(4,"input",53),l.NdJ("change",function(r){return l.CHM(t),l.oxw().uploadImagen(r)}),l.qZA(),l._UZ(5,"input"),l.qZA(),l.TgZ(6,"div",54)(7,"input",55),l.NdJ("change",function(r){l.CHM(t);const o=l.oxw();return o.uploadArchivo(r,o.video)}),l.qZA(),l._UZ(8,"input"),l.qZA(),l.TgZ(9,"div",56)(10,"input",57),l.NdJ("change",function(r){l.CHM(t);const o=l.oxw();return o.uploadArchivo(r,o.audio)}),l.qZA(),l._UZ(11,"input"),l.qZA(),l.TgZ(12,"button",38),l.NdJ("click",function(){return l.CHM(t),l.oxw().sendMessageDes()}),l.TgZ(13,"mat-icon"),l._uU(14,"history"),l.qZA()(),l.TgZ(15,"button",38),l.NdJ("click",function(){return l.CHM(t),l.oxw().sendMessage()}),l.TgZ(16,"mat-icon"),l._uU(17,"send"),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("formControl",t.messageControl),l.xp6(2),l.Q6J("formControl",t.messageControl),l.xp6(3),l.Q6J("formControl",t.messageControl),l.xp6(3),l.Q6J("formControl",t.messageControl)}}let B7=(()=>{class n{constructor(t,i,r,o,u,h,m,v,T){this.usersService=t,this.chatsService=i,this.storage=r,this.imageUploadService=o,this.weather=u,this.toast=h,this.afs=m,this.fs=v,this.wiki=T,this.user$=this.usersService.currentUserProfile$,this.myChats$=this.chatsService.myChats$,this.searchControl=new Qi(""),this.messageControl=new Qi(""),this.chatListControl=new Qi(""),this.fileName="",this.imageUrl="",this.weatherInfo=[],this.video="video",this.audio="audio",this.contTotal=0,this.contText=0,this.contVid=0,this.contImg=0,this.contAud=0,this.userName="",this.horas=0,this.minutos=0,this.sufijo="am",this.bloquear=!1,this.pages=[],this.chats=[],this.otherUsers$=Th([this.usersService.allUsers$,this.user$]).pipe((0,Qe.U)(([D,M])=>D.filter(k=>k.uid!==(null==M?void 0:M.uid)))),this.users$=Th([this.otherUsers$,this.searchControl.valueChanges.pipe($i(""))]).pipe((0,Qe.U)(([D,M])=>D.filter(k=>{var N;return null===(N=k.displayName)||void 0===N?void 0:N.toLowerCase().includes(M.toLowerCase())}))),this.selectedChat$=Th([this.chatListControl.valueChanges,this.myChats$]).pipe((0,Qe.U)(([D,M])=>M.find(k=>k.id===D[0]))),this.getCurrentPosition(),setTimeout(()=>{0===this.weatherInfo.length&&this.getWeatherInfo("san jose")},1e3)}ngOnInit(){this.messages$=this.chatListControl.valueChanges.pipe((0,Qe.U)(t=>t[0]),_n(t=>this.chatsService.getChatMessages$(t)),Dn(()=>{this.scrollToBottom()})),this.messagesCount().subscribe(()=>{console.log(this.chats)}),this.muestraReloj(),setInterval(()=>{var i=(new Date).getMinutes();this.autoDestruction(i),this.muestraReloj()},6e4)}createChat(t){this.chatsService.isExistingChat(t.uid).pipe(_n(i=>i?et(i):this.chatsService.createChat(t))).subscribe(i=>{this.chatListControl.setValue([i])})}sendMessage(){const t=this.messageControl.value,i=this.chatListControl.value[0];t&&i&&(this.chatsService.addChatMessage(i,t).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}sendMessageDes(){const t=this.messageControl.value,i=this.chatListControl.value[0];t&&i&&(this.chatsService.addChatMessageDes(i,t,"active").subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}scrollToBottom(){setTimeout(()=>{this.endOfChat&&this.endOfChat.nativeElement.scrollIntoView({behavior:"smooth"})},100)}sendMessageImg(t){const r=this.chatListControl.value[0];t&&r&&(this.chatsService.addChatMessageFile(r,t,"img").subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}uploadImagen(t){const i=t.target.files[0];this.fileName=i.name;const r=G0(this.storage,`images/messages/${i.name}`);o1(r,i).then(o=>this.getUrlImagen())}getUrlImagen(){var t=this;const i=G0(this.storage,"images/messages");TU(i).then(function(){var r=(0,q.Z)(function*(o){for(let u of o.items)if(console.log(u+"item solo"),t.fileName==u.name){const h=yield s1(u);console.log(h+"url solo"),t.sendMessageImg(h)}});return function(o){return r.apply(this,arguments)}}())}uploadArchivo(t,i){const r=t.target.files[0];this.fileName=r.name;const o=G0(this.storage,`${i}/messages/${r.name}`);o1(o,r).then(u=>this.getUrlArchivo(i))}getUrlArchivo(t){var i=this;const r=G0(this.storage,`${t}/messages`);TU(r).then(function(){var o=(0,q.Z)(function*(u){for(let h of u.items)if(console.log(h),i.fileName==h.name){console.log(h);const m=yield s1(h);i.sendMessageArc(m,t)}});return function(u){return o.apply(this,arguments)}}())}sendMessageArc(t,i){const o=this.chatListControl.value[0];t&&o&&(this.chatsService.addChatMessageFile(o,t,i).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}getCurrentPosition(){this.weather.getLocation().then(t=>{this.weather.getFromActualPosition(t.lng,t.lat).subscribe(i=>{this.weatherInfo=i})})}getWeatherInfo(t){this.weather.getFromUserSelection(t).subscribe(i=>{this.weatherInfo=i})}clasificarMensaje(t){"text"==t&&this.contText++,"audio"==t&&this.contAud++,"img"==t&&this.contImg++,"video"==t&&this.contVid++}messagesDelete(t){var i=this;return(0,q.Z)(function*(){const r=i.chatListControl.value[0],o=HI(),u=Pa(o,`chats/${r}/messages`);(yield gO(u)).forEach(m=>{if(console.log(t.id),m.data().text==t.text){i.contTotal+=1;const v=$u(i.fs,`chats/${r}/messages/${m.id}`);CL(v),console.log(m.id)}})})()}autoDestruction(t){var i=this;return(0,q.Z)(function*(){const r=i.chatListControl.value[0],o=HI(),u=Pa(o,`chats/${r}/messages`);(yield gO(u)).forEach(m=>{if(m.data().minutes+1==t&&"active"==m.data().autodes){const v=$u(i.fs,`chats/${r}/messages/${m.id}`);CL(v),console.log("destruccion completa")}})})()}messagesEdit(t){var i=this;return(0,q.Z)(function*(){const r=i.messageControl.value,o=i.chatListControl.value[0],u=HI(),h=Pa(u,`chats/${o}/messages`);(yield gO(h)).forEach(v=>{console.log(t.id),v.data().text==t.text&&(i.afs.collection(`chats/${o}/messages`).doc(`${v.id}`).update({text:r}),console.log(v.id))})})()}messagesCount(){return this.itemsCollection=this.afs.collection("chats/rusBVvl0vSMc6sIdHBaQ/messages"),this.itemsCollection.valueChanges().pipe((0,Qe.U)(i=>{this.chats=[],this.contTotal=0,this.contText=0,this.contAud=0,this.contVid=0,this.contImg=0;for(let r of i)this.chats.unshift(r),this.contTotal++,this.clasificarMensaje(r.tipo)}))}muestraReloj(){var t=new Date,i=t.getHours(),r=t.getMinutes(),o=t.getSeconds();i>12&&(i-=12,this.sufijo="pm"),this.horas=i,this.minutos=r,console.log(i+":"+r+":"+o)}bloquearUser(){this.bloquear=!this.bloquear}onTerm(t){this.wiki.search(t).subscribe(i=>{this.pages=i.query.search,console.log(this.pages)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(y0),l.Y36(xY),l.Y36(z0),l.Y36(IU),l.Y36(kY),l.Y36(VD),l.Y36(QY),l.Y36(r_),l.Y36(JY))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&l.Gf(v7,5),2&t){let r;l.iGM(r=l.CRH())&&(i.endOfChat=r.first)}},decls:51,vars:29,consts:[[1,"container"],[1,"chat-list","mat-elevation-z5"],["label","Clima/Estadisticas"],[1,"weather-app"],[1,"search-input"],[3,"searchValue"],[3,"weatherInfo"],[1,"Hora"],[1,"Estadisticas"],[1,"Total"],["label","Wiki"],[1,"Wiki-Container"],[3,"submitted"],[3,"pages",4,"ngIf"],["matInput","","placeholder","Search for users and start a chat",3,"matAutocomplete","formControl"],["users","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"multiple","formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"messages","mat-elevation-z5"],["class","messages-header",4,"ngIf","ngIfElse"],["noChatSelected",""],[1,"chat-area"],[4,"ngIf"],["endOfChat",""],["class","input-area",4,"ngIf"],[3,"pages"],[3,"value","click"],[3,"value"],["matListAvatar","",3,"src"],["mat-line","","class","chat-title",4,"ngIf"],["mat-line",""],["mat-line","",1,"chat-title"],[1,"chat-name"],[1,"chat-date"],[1,"messages-header"],[3,"src"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["class","chat-bubble-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-bubble-container",3,"ngClass"],["class","chat-bubble",4,"ngIf"],[1,"chat-bubble"],[1,"chat-time"],["mat-icon-button","","matSuffix","",1,"deleteBoton",3,"click"],["mat-icon-button","","matSuffix","",1,"editBoton",3,"click"],["alt","Imagen","width","125",3,"src"],["controls","","width","250",3,"src"],["controls","","width","100",3,"src"],[1,"input-area"],["appearance","outline"],["matInput","","placeholder","Enter your message...",3,"formControl","keydown.enter"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Imagen","placeholder","","accept","image/*","accept","video/*",3,"formControl","change"],["id","src-file2",1,"file-select1"],["type","file","name","src-file1","aria-label","Video","placeholder","",3,"formControl","change"],["id","src-file3",1,"file-select2"],["type","file","name","src-file1","aria-label","Audio","placeholder","",3,"formControl","change"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"mat-tab-group")(3,"mat-tab",2)(4,"section",3)(5,"div",4)(6,"app-searchbox",5),l.NdJ("searchValue",function(o){return i.getWeatherInfo(o)}),l.qZA()(),l.TgZ(7,"div"),l._UZ(8,"app-main-info",6)(9,"app-details",6),l.TgZ(10,"p",7),l._uU(11),l.qZA()(),l.TgZ(12,"div",8)(13,"p",9),l._uU(14),l.qZA(),l.TgZ(15,"p",9),l._uU(16),l.qZA(),l.TgZ(17,"p",9),l._uU(18),l.qZA(),l.TgZ(19,"p",9),l._uU(20),l.qZA(),l.TgZ(21,"p",9),l._uU(22),l.qZA()()()(),l.TgZ(23,"mat-tab",10)(24,"div",11)(25,"app-search-bar",12),l.NdJ("submitted",function(o){return i.onTerm(o)}),l.qZA(),l.YNc(26,b7,1,1,"app-page-list",13),l.qZA()()()(),l.TgZ(27,"div",1)(28,"div",4)(29,"mat-form-field"),l._UZ(30,"input",14),l.qZA(),l.TgZ(31,"mat-autocomplete",null,15),l.YNc(33,w7,2,2,"mat-option",16),l.ALo(34,"async"),l.qZA()(),l.TgZ(35,"mat-selection-list",17),l._UZ(36,"mat-divider"),l.YNc(37,T7,7,5,"mat-list-option",18),l.ALo(38,"async"),l.qZA()(),l.TgZ(39,"div",19),l.YNc(40,S7,6,4,"div",20),l.ALo(41,"async"),l.YNc(42,A7,2,0,"ng-template",null,21,l.W1O),l._UZ(44,"mat-divider"),l.TgZ(45,"div",22),l.YNc(46,F7,3,3,"ng-container",23),l.ALo(47,"async"),l._UZ(48,"div",null,24),l.qZA(),l.YNc(50,L7,18,4,"div",25),l.qZA()()),2&t){const r=l.MAs(32),o=l.MAs(43);l.xp6(8),l.Q6J("weatherInfo",i.weatherInfo),l.xp6(1),l.Q6J("weatherInfo",i.weatherInfo),l.xp6(2),l.lnq(" ",i.horas," : ",i.minutos," ",i.sufijo," "),l.xp6(3),l.hij(" Mensajes Totales: ",i.contTotal," "),l.xp6(2),l.hij(" Mensajes de texto: ",i.contText," "),l.xp6(2),l.hij(" Mensajes de video: ",i.contVid," "),l.xp6(2),l.hij(" Mensajes de imagenes: ",i.contImg," "),l.xp6(2),l.hij(" Mensajes de audio: ",i.contAud," "),l.xp6(4),l.Q6J("ngIf",i.pages.length),l.xp6(4),l.Q6J("matAutocomplete",r)("formControl",i.searchControl),l.xp6(3),l.Q6J("ngForOf",l.lcZ(34,21,i.users$)),l.xp6(2),l.Q6J("multiple",!1)("formControl",i.chatListControl),l.xp6(2),l.Q6J("ngForOf",l.lcZ(38,23,i.myChats$)),l.xp6(3),l.Q6J("ngIf",l.lcZ(41,25,i.selectedChat$))("ngIfElse",o),l.xp6(6),l.Q6J("ngIf",l.lcZ(47,27,i.user$)),l.xp6(4),l.Q6J("ngIf",!i.bloquear)}},directives:[PK,HU,FK,LK,BK,VK,hn,$K,SD,BD,KU,Zu,p_,FR,JK,On,VB,p1,s7,ej,XU,xB,x0,z4,_R,Ar],pipes:[Ga,y7],styles:['.container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 70px)}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]{width:22%;margin:16px;background:#c5cae9;border-radius:16px}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]   .chat-name[_ngcontent-%COMP%]{font-weight:500}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]   .chat-date[_ngcontent-%COMP%]{font-size:.7rem;color:#000000b3}.container[_ngcontent-%COMP%] > .chat-list[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin:24px}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]{width:70%;padding:24px;margin:16px 16px 16px 8px;border-radius:16px;background:rgba(0,0,0,.05)}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover;margin-right:16px;height:35px}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]{height:calc(100vh - 270px);display:flex;flex-direction:column;align-items:flex-start;overflow:auto}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:auto}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-start}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container[_ngcontent-%COMP%] > .chat-bubble[_ngcontent-%COMP%]{background:white;padding:8px 100px 18px 8px;margin-bottom:16px;border-radius:8px;width:-moz-fit-content;width:fit-content;position:relative}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container[_ngcontent-%COMP%] > .chat-bubble[_ngcontent-%COMP%] > .chat-time[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:8px;font-size:.7rem;color:#0009}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container.sender[_ngcontent-%COMP%]{justify-content:flex-end}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .chat-area[_ngcontent-%COMP%]   .chat-bubble-container.sender[_ngcontent-%COMP%] > .chat-bubble[_ngcontent-%COMP%]{background:#c5cae9}.container[_ngcontent-%COMP%] > .messages[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#5678ef;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:50px;height:20px;display:inline-block}.file-select1[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select1[_ngcontent-%COMP%]:before{background-color:green;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select1[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:50px;height:20px;display:inline-block}.file-select2[_ngcontent-%COMP%]:before{background-color:red;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select2[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:50px;height:20px;display:inline-block}.file-select2[_ngcontent-%COMP%]{position:relative;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Imagen"}#src-file2[_ngcontent-%COMP%]:before{content:"Video"}#src-file3[_ngcontent-%COMP%]:before{content:"Audio"}.weather-app[_ngcontent-%COMP%]{padding:0;width:100%;height:93%;background-color:#29c5e9;border-radius:12px;display:flex;flex-direction:column;position:relative;transition:all .8s}.weather-app[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:70px;right:0}.weather-app[_ngcontent-%COMP%]   app-details[_ngcontent-%COMP%]{height:100%}.Estadisticas[_ngcontent-%COMP%]{width:160px;height:150px;text-align:center;color:#fff;margin-left:20%;font-size:14px}.Total[_ngcontent-%COMP%]{margin:0}.Hora[_ngcontent-%COMP%]{margin-left:25%;margin-top:20px;font-size:35px;color:#fff;margin-bottom:0}']}),n})();var tj=R(9635);const m1=(0,Qe.U)(n=>!!n);let V7=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,o)=>{const u=r.data.authGuardPipe||(()=>m1);return tA(this.auth).pipe((0,Sn.q)(1),u(r,o),(0,Qe.U)(h=>"boolean"==typeof h?h:Array.isArray(h)?this.router.createUrlTree(h):this.router.parseUrl(h)))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hi),l.LFG(_m))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const WD=n=>({canActivate:[V7],data:{authGuardPipe:n}}),$7=l.GuJ,G7=Symbol("__destroy"),nj=Symbol("__decoratorApplied");function ij(n){return"string"==typeof n?Symbol(`__destroy__${n}`):G7}function rj(n,e){n[e]||(n[e]=new St.x)}function sj(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function oj(n){n instanceof tt.w0&&n.unsubscribe()}function aj(n,e){return function(){var t;if(n&&n.call(this),sj(this,ij()),e.arrayName&&function W7(n){Array.isArray(n)&&n.forEach(oj)}(this[e.arrayName]),e.checkProperties)for(const i in this)(null===(t=e.blackList)||void 0===t?void 0:t.includes(i))||oj(this[i])}}function e9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1)(1,"h1"),l._uU(2,"User Profile"),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"img",3),l.TgZ(5,"button",4),l.NdJ("click",function(){return l.CHM(t),l.MAs(9).click()}),l.TgZ(6,"mat-icon"),l._uU(7,"edit"),l.qZA()()(),l.TgZ(8,"input",5,6),l.NdJ("change",function(r){const u=l.CHM(t).ngIf;return l.oxw().uploadImage(r,u)}),l.qZA(),l.TgZ(10,"form",7),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw().saveProfile()}),l.TgZ(11,"div",8)(12,"mat-form-field"),l._UZ(13,"input",9),l.qZA(),l.TgZ(14,"mat-form-field"),l._UZ(15,"input",10),l.qZA()(),l.TgZ(16,"div",8)(17,"mat-form-field"),l._UZ(18,"input",11),l.qZA(),l.TgZ(19,"mat-form-field"),l._UZ(20,"input",12),l.qZA()(),l.TgZ(21,"mat-form-field"),l._UZ(22,"input",13),l.qZA(),l.TgZ(23,"button",14),l._uU(24," Save "),l.qZA()()()}if(2&n){const t=e.ngIf,i=l.oxw();let r;l.xp6(4),l.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/images/image-placeholder.png",l.LSH),l.xp6(6),l.Q6J("formGroup",i.profileForm)}}Symbol("CheckerHasBeenSet");let qf=class{constructor(e,t,i,r){this.authService=e,this.imageUploadService=t,this.toast=i,this.usersService=r,this.user$=this.usersService.currentUserProfile$,this.profileForm=new Uf({uid:new Qi(""),displayName:new Qi(""),firstName:new Qi(""),lastName:new Qi(""),phone:new Qi(""),address:new Qi("")})}ngOnInit(){this.usersService.currentUserProfile$.pipe(function X7(n,e){return t=>{const i=ij(e);return"string"==typeof e?function J7(n,e,t){const i=n[e];rj(n,t),n[e]=function(){i.apply(this,arguments),sj(this,t),n[e]=i}}(n,e,i):rj(n,i),t.pipe(Fi(n[i]))}}(this)).subscribe(e=>{this.profileForm.patchValue(Object.assign({},e))})}uploadImage(e,t){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t.uid}`).pipe(this.toast.observe({loading:"Image is being uploaded...",success:"Image uploaded!",error:"There was an error in uploading"}),Hi(i=>this.usersService.updateUser({uid:t.uid,photoURL:i}))).subscribe()}saveProfile(){this.usersService.updateUser(this.profileForm.value).pipe(this.toast.observe({loading:"Updating data...",success:"Data has been updated",error:"There was an error in updating the data"})).subscribe()}};qf.\u0275fac=function(e){return new(e||qf)(l.Y36(Mo),l.Y36(IU),l.Y36(VD),l.Y36(y0))},qf.\u0275cmp=l.Xpm({type:qf,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["type","number","matInput","","formControlName","phone","placeholder","Phone"],["type","text","matInput","","formControlName","address","placeholder","Address"],["type","submit","mat-raised-button","","color","primary",1,"margin-top"]],template:function(e,t){1&e&&(l.YNc(0,e9,25,2,"div",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.user$))},directives:[hn,x0,_R,y_,m_,Qu,SD,BD,Zu,p_,v_,PR],pipes:[Ga],styles:["[_nghost-%COMP%]{padding:32px}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}"]}),qf=(0,V2.gn)([function K7(n={}){return e=>{!function z7(n){return!!n[$7]}(e)?function Z7(n,e){n.prototype.ngOnDestroy=aj(n.prototype.ngOnDestroy,e)}(e,n):function Y7(n,e){const t=n.\u0275pipe;t.onDestroy=aj(t.onDestroy,e)}(e,n),function q7(n){n.prototype[nj]=!0}(e)}}()],qf);const dj=()=>(n=>(0,tj.z)(m1,(0,Qe.U)(e=>e||n)))(["login"]),hj=()=>(n=>(0,tj.z)(m1,(0,Qe.U)(e=>e&&n||!0)))(["home"]),t9=[{path:"",pathMatch:"full",component:q2},Object.assign({path:"login",component:q2},WD(hj)),Object.assign({path:"sign-up",component:Z5},WD(hj)),Object.assign({path:"home",component:B7},WD(dj)),Object.assign({path:"profile",component:qf},WD(dj))];let n9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ci,Zm.forRoot(t9)],Zm]}),n})();const g1={firebase:{projectId:"angular-chat-app-a96fc",appId:"1:1092136299054:web:845d8dcb584510f1218dbf",storageBucket:"angular-chat-app-a96fc.appspot.com",locationId:"us-central",apiKey:"AIzaSyB17yTBT1WB-_vmUD4UVdUoNr9ECS5EbDY",authDomain:"angular-chat-app-a96fc.firebaseapp.com",messagingSenderId:"1092136299054"},production:!0};let i9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[C4]}),n.\u0275inj=l.cJS({providers:[tp,{provide:vs.Dh,useValue:g1.firebase}],imports:[[pc,mq,l4,Vq,v4,Gq,AD,B2,zZ,n9,$Z,oC(()=>qc(g1.firebase)),HC(()=>iA()),AY(()=>MY()),Mz(()=>HI()),L5.forRoot(),WW,_7,B2,AD,r7,JU,NK]]}),n})();g1.production&&(0,l.G48)(),S_().bootstrapModule(i9).catch(n=>console.error(n))},127:(Ye,ge,R)=>{R.d(ge,{Z:()=>l.Z});var l=R(3942);l.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(Ye,ge,R)=>{R.r(ge);var l=R(5861),F=R(3942),P=R(198),oe=R(2090),ce=(R(9681),R(1877),R(4859));function pe(){return window}function j(){return(j=(0,l.Z)(function*(ne,G,H){var _e;const{BuildInfo:Ve}=pe();(0,P.aq)(G.sessionId,"AuthEvent did not contain a session ID");const nt=yield ve(G.sessionId),Tt={};return(0,P.ar)()?Tt.ibi=Ve.packageName:(0,P.as)()?Tt.apn=Ve.packageName:(0,P.at)(ne,"operation-not-supported-in-this-environment"),Ve.displayName&&(Tt.appDisplayName=Ve.displayName),Tt.sessionId=nt,(0,P.au)(ne,H,G.type,void 0,null!==(_e=G.eventId)&&void 0!==_e?_e:void 0,Tt)})).apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(ne){const{BuildInfo:G}=pe(),H={};(0,P.ar)()?H.iosBundleId=G.packageName:(0,P.as)()?H.androidPackageName=G.packageName:(0,P.at)(ne,"operation-not-supported-in-this-environment"),yield(0,P.av)(ne,H)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(ne,G,H){const{cordova:_e}=pe();let Ve=()=>{};try{yield new Promise((nt,Tt)=>{let Ot=null;function Rt(){var Pt;nt();const si=null===(Pt=_e.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof si&&si(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function kn(){Ot||(Ot=window.setTimeout(()=>{Tt((0,P.aw)(ne,"redirect-cancelled-by-user"))},2e3))}function Li(){"visible"===(null==document?void 0:document.visibilityState)&&kn()}G.addPassiveListener(Rt),document.addEventListener("resume",kn,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Li,!1),Ve=()=>{G.removePassiveListener(Rt),document.removeEventListener("resume",kn,!1),document.removeEventListener("visibilitychange",Li,!1),Ot&&window.clearTimeout(Ot)}})}finally{Ve()}})).apply(this,arguments)}function ve(ne){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(ne){const G=We(ne),H=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(H)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function We(ne){if((0,P.aq)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ne);const G=new ArrayBuffer(ne.length),H=new Uint8Array(G);for(let _e=0;_e<ne.length;_e++)H[_e]=ne.charCodeAt(_e);return H}class Te extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(G)),super.onEvent(G)}initialized(){var G=this;return(0,l.Z)(function*(){yield G.initPromise})()}}function ee(ne){return se.apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(ne){const G=yield X()._get(te(ne));return G&&(yield X()._remove(te(ne))),G})).apply(this,arguments)}function W(){const ne=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const _e=Math.floor(Math.random()*G.length);ne.push(G.charAt(_e))}return ne.join("")}function X(){return(0,P.ay)(P.b)}function te(ne){return(0,P.az)("authEvent",ne.config.apiKey,ne.name)}function Ae(ne){if(!(null==ne?void 0:ne.includes("?")))return{};const[G,...H]=ne.split("?");return(0,oe.zd)(H.join("?"))}function Be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function At(){var ne;return(null===(ne=null==self?void 0:self.location)||void 0===ne?void 0:ne.protocol)||null}function un(ne=(0,oe.z$)()){return!("file:"!==At()&&"ionic:"!==At()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function dr(){try{const ne=self.localStorage,G=P.aI();if(ne)return ne.setItem(G,"1"),ne.removeItem(G),!function ns(ne=(0,oe.z$)()){return function ts(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vn(ne=(0,oe.z$)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,oe.hl)()}catch(ne){return Ir()&&(0,oe.hl)()}return!1}function Ir(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xi(){return(function Ut(){return"http:"===At()||"https:"===At()}()||(0,oe.ru)()||un())&&!function zr(){return(0,oe.b$)()||(0,oe.UG)()}()&&dr()&&!Ir()}function Ms(){return un()&&"undefined"!=typeof document}function Dr(){return(Dr=(0,l.Z)(function*(){return!!Ms()&&new Promise(ne=>{const G=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ne(!0)})})})).apply(this,arguments)}const qt={LOCAL:"local",NONE:"none",SESSION:"session"},er=P.ax,tr="persistence";function bn(ne){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(ne){yield ne._initializationPromise;const G=xt(),H=P.az(tr,ne.config.apiKey,ne.name);G&&G.setItem(H,ne._getPersistence())})).apply(this,arguments)}function xt(){var ne;try{return(null===(ne=function dn(){return"undefined"!=typeof window?window:null}())||void 0===ne?void 0:ne.sessionStorage)||null}catch(G){return null}}const rt=P.ax;class Je{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class Vt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(G){var H=this;return(0,l.Z)(function*(){const _e=G._key();let Ve=H.eventManagers.get(_e);return Ve||(Ve=new Te(G),H.eventManagers.set(_e,Ve),H.attachCallbackListeners(G,Ve)),Ve})()}_openPopup(G){(0,P.at)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,H,_e,Ve){var nt=this;return(0,l.Z)(function*(){!function re(ne){var G,H,_e,Ve,nt,Tt,Ot,Rt,kn,Li;const Pt=pe();(0,P.ax)("function"==typeof(null===(G=null==Pt?void 0:Pt.universalLinks)||void 0===G?void 0:G.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(void 0!==(null===(H=null==Pt?void 0:Pt.BuildInfo)||void 0===H?void 0:H.packageName),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(nt=null===(Ve=null===(_e=null==Pt?void 0:Pt.cordova)||void 0===_e?void 0:_e.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===nt?void 0:nt.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Rt=null===(Ot=null===(Tt=null==Pt?void 0:Pt.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===Rt?void 0:Rt.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Li=null===(kn=null==Pt?void 0:Pt.cordova)||void 0===kn?void 0:kn.InAppBrowser)||void 0===Li?void 0:Li.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Tt=yield nt._initialize(G);yield Tt.initialized(),Tt.resetRedirect(),(0,P.aD)(),yield nt._originValidation(G);const Ot=function fe(ne,G,H=null){return{type:G,eventId:H,urlResponse:null,sessionId:W(),postBody:null,tenantId:ne.tenantId,error:(0,P.aw)(ne,"no-auth-event")}}(G,_e,Ve);yield function Pe(ne,G){return X()._set(te(ne),G)}(G,Ot);const Rt=yield function $(ne,G,H){return j.apply(this,arguments)}(G,Ot,H),kn=yield function xe(ne){const{cordova:G}=pe();return new Promise(H=>{G.plugins.browsertab.isAvailable(_e=>{let Ve=null;_e?G.plugins.browsertab.openUrl(ne):Ve=G.InAppBrowser.open(ne,(0,P.ap)()?"_blank":"_system","location=yes"),H(Ve)})})}(Rt);return function De(ne,G,H){return Ge.apply(this,arguments)}(G,Tt,kn)})()}_isIframeWebStorageSupported(G,H){throw new Error("Method not implemented.")}_originValidation(G){const H=G._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function Y(ne){return Ne.apply(this,arguments)}(G)),this.originValidationPromises[H]}attachCallbackListeners(G,H){const{universalLinks:_e,handleOpenURL:Ve,BuildInfo:nt}=pe(),Tt=setTimeout((0,l.Z)(function*(){yield ee(G),H.onEvent(Be())}),500),Ot=function(){var Li=(0,l.Z)(function*(Pt){clearTimeout(Tt);const si=yield ee(G);let Sr=null;si&&(null==Pt?void 0:Pt.url)&&(Sr=function me(ne,G){var H,_e;const Ve=function ie(ne){const G=Ae(ne),H=G.link?decodeURIComponent(G.link):void 0,_e=Ae(H).link,Ve=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Ae(Ve).link||Ve||_e||H||ne}(G);if(Ve.includes("/__/auth/callback")){const nt=Ae(Ve),Tt=nt.firebaseError?function le(ne){try{return JSON.parse(ne)}catch(G){return null}}(decodeURIComponent(nt.firebaseError)):null,Ot=null===(_e=null===(H=null==Tt?void 0:Tt.code)||void 0===H?void 0:H.split("auth/"))||void 0===_e?void 0:_e[1],Rt=Ot?(0,P.aw)(Ot):null;return Rt?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:Ve,postBody:null}}return null}(si,Pt.url)),H.onEvent(Sr||Be())});return function(si){return Li.apply(this,arguments)}}();void 0!==_e&&"function"==typeof _e.subscribe&&_e.subscribe(null,Ot);const Rt=Ve,kn=`${nt.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Li=(0,l.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(kn)&&Ot({url:Pt}),"function"==typeof Rt)try{Rt(Pt)}catch(si){console.error(si)}});return function(Pt){return Li.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(G){var H=this;return(0,l.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,H,_e,Ve){var nt=this;return(0,l.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openPopup(G,H,_e,Ve)})()}_openRedirect(G,H,_e,Ve){var nt=this;return(0,l.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openRedirect(G,H,_e,Ve)})()}_isIframeWebStorageSupported(G,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,H)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Ms()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,l.Z)(function*(){if(G.underlyingResolver)return;const H=yield function lt(){return Dr.apply(this,arguments)}();G.underlyingResolver=H?G.cordovaResolver:G.browserResolver})()}}function fr(ne){return ne.unwrap()}function kt(ne){return Tn(ne)}function Tn(ne){const{_tokenResponse:G}=ne instanceof oe.ZR?ne.customData:ne;if(!G)return null;if(!(ne instanceof oe.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return P.P.credentialFromResult(ne);const H=G.providerId;if(!H||H===P.o.PASSWORD)return null;let _e;switch(H){case P.o.GOOGLE:_e=P.Q;break;case P.o.FACEBOOK:_e=P.N;break;case P.o.GITHUB:_e=P.T;break;case P.o.TWITTER:_e=P.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:nt,oauthTokenSecret:Tt,pendingToken:Ot,nonce:Rt}=G;return nt||Tt||Ve||Ot?Ot?H.startsWith("saml.")?P.aL._create(H,Ot):P.J._fromParams({providerId:H,signInMethod:H,pendingToken:Ot,idToken:Ve,accessToken:nt}):new P.U(H).credential({idToken:Ve,accessToken:nt,rawNonce:Rt}):null}return ne instanceof oe.ZR?_e.credentialFromError(ne):_e.credentialFromResult(ne)}function Qt(ne,G){return G.catch(H=>{throw H instanceof oe.ZR&&function is(ne,G){var H;const _e=null===(H=G.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new z(ne,P.an(ne,G));else if(_e){const Ve=Tn(G),nt=G;Ve&&(nt.credential=Ve,nt.tenantId=_e.tenantId||void 0,nt.email=_e.email||void 0,nt.phoneNumber=_e.phoneNumber||void 0)}}(ne,H),H}).then(H=>{const Ve=H.user;return{operationType:H.operationType,credential:kt(H),additionalUserInfo:P.al(H),user:ue.getOrCreate(Ve)}})}function L(ne,G){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(ne,G){const H=yield G;return{verificationId:H.verificationId,confirm:_e=>Qt(ne,H.confirm(_e))}})).apply(this,arguments)}class z{constructor(G,H){this.resolver=H,this.auth=function Gr(ne){return ne.wrapped()}(G)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return Qt(fr(this.auth),this.resolver.resolveSignIn(G))}}class ue{constructor(G){this._delegate=G,this.multiFactor=P.ao(G)}static getOrCreate(G){return ue.USER_MAP.has(G)||ue.USER_MAP.set(G,new ue(G)),ue.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var H=this;return(0,l.Z)(function*(){return Qt(H.auth,P.Z(H._delegate,G))})()}linkWithPhoneNumber(G,H){var _e=this;return(0,l.Z)(function*(){return L(_e.auth,P.l(_e._delegate,G,H))})()}linkWithPopup(G){var H=this;return(0,l.Z)(function*(){return Qt(H.auth,P.d(H._delegate,G,Je))})()}linkWithRedirect(G){var H=this;return(0,l.Z)(function*(){return yield bn(P.aE(H.auth)),P.g(H._delegate,G,Je)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var H=this;return(0,l.Z)(function*(){return Qt(H.auth,P._(H._delegate,G))})()}reauthenticateWithPhoneNumber(G,H){return L(this.auth,P.r(this._delegate,G,H))}reauthenticateWithPopup(G){return Qt(this.auth,P.e(this._delegate,G,Je))}reauthenticateWithRedirect(G){var H=this;return(0,l.Z)(function*(){return yield bn(P.aE(H.auth)),P.h(H._delegate,G,Je)})()}sendEmailVerification(G){return P.ab(this._delegate,G)}unlink(G){var H=this;return(0,l.Z)(function*(){return yield P.ak(H._delegate,G),H})()}updateEmail(G){return P.ag(this._delegate,G)}updatePassword(G){return P.ah(this._delegate,G)}updatePhoneNumber(G){return P.u(this._delegate,G)}updateProfile(G){return P.af(this._delegate,G)}verifyBeforeUpdateEmail(G,H){return P.ac(this._delegate,G,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ue.USER_MAP=new WeakMap;const V=P.ax;let K=(()=>{class ne{constructor(H,_e){if(this.app=H,_e.isInitialized())return this._delegate=_e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=H.options;V(Ve,"invalid-api-key",{appName:H.name}),V(Ve,"invalid-api-key",{appName:H.name});const nt="undefined"!=typeof window?Je:void 0;this._delegate=_e.initialize({options:{persistence:$e(Ve,H.name),popupRedirectResolver:nt}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ue.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,_e){P.G(this._delegate,H,_e)}applyActionCode(H){return P.a2(this._delegate,H)}checkActionCode(H){return P.a3(this._delegate,H)}confirmPasswordReset(H,_e){return P.a1(this._delegate,H,_e)}createUserWithEmailAndPassword(H,_e){var Ve=this;return(0,l.Z)(function*(){return Qt(Ve._delegate,P.a5(Ve._delegate,H,_e))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return P.aa(this._delegate,H)}isSignInWithEmailLink(H){return P.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,l.Z)(function*(){V(Xi(),H._delegate,"operation-not-supported-in-this-environment");const _e=yield P.j(H._delegate,Je);return _e?Qt(H._delegate,Promise.resolve(_e)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function Kt(ne,G){(0,P.aE)(ne)._logFramework(G)}(this._delegate,H)}onAuthStateChanged(H,_e,Ve){const{next:nt,error:Tt,complete:Ot}=Ie(H,_e,Ve);return this._delegate.onAuthStateChanged(nt,Tt,Ot)}onIdTokenChanged(H,_e,Ve){const{next:nt,error:Tt,complete:Ot}=Ie(H,_e,Ve);return this._delegate.onIdTokenChanged(nt,Tt,Ot)}sendSignInLinkToEmail(H,_e){return P.a7(this._delegate,H,_e)}sendPasswordResetEmail(H,_e){return P.a0(this._delegate,H,_e||void 0)}setPersistence(H){var _e=this;return(0,l.Z)(function*(){let Ve;switch(function hr(ne,G){er(Object.values(qt).includes(G),ne,"invalid-persistence-type"),(0,oe.b$)()?er(G!==qt.SESSION,ne,"unsupported-persistence-type"):(0,oe.UG)()?er(G===qt.NONE,ne,"unsupported-persistence-type"):Ir()?er(G===qt.NONE||G===qt.LOCAL&&(0,oe.hl)(),ne,"unsupported-persistence-type"):er(G===qt.NONE||dr(),ne,"unsupported-persistence-type")}(_e._delegate,H),H){case qt.SESSION:Ve=P.a;break;case qt.LOCAL:Ve=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case qt.NONE:Ve=P.L;break;default:return P.at("argument-error",{appName:_e._delegate.name})}return _e._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Qt(this._delegate,P.X(this._delegate))}signInWithCredential(H){return Qt(this._delegate,P.Y(this._delegate,H))}signInWithCustomToken(H){return Qt(this._delegate,P.$(this._delegate,H))}signInWithEmailAndPassword(H,_e){return Qt(this._delegate,P.a6(this._delegate,H,_e))}signInWithEmailLink(H,_e){return Qt(this._delegate,P.a9(this._delegate,H,_e))}signInWithPhoneNumber(H,_e){return L(this._delegate,P.s(this._delegate,H,_e))}signInWithPopup(H){var _e=this;return(0,l.Z)(function*(){return V(Xi(),_e._delegate,"operation-not-supported-in-this-environment"),Qt(_e._delegate,P.c(_e._delegate,H,Je))})()}signInWithRedirect(H){var _e=this;return(0,l.Z)(function*(){return V(Xi(),_e._delegate,"operation-not-supported-in-this-environment"),yield bn(_e._delegate),P.f(_e._delegate,H,Je)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return P.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=qt,ne})();function Ie(ne,G,H){let _e=ne;"function"!=typeof ne&&({next:_e,error:G,complete:H}=ne);const Ve=_e;return{next:Tt=>Ve(Tt&&ue.getOrCreate(Tt)),error:G,complete:H}}function $e(ne,G){const H=function xs(ne,G){const H=xt();if(!H)return[];const _e=P.az(tr,ne,G);switch(H.getItem(_e)){case qt.NONE:return[P.L];case qt.LOCAL:return[P.i,P.a];case qt.SESSION:return[P.a];default:return[]}}(ne,G);if("undefined"!=typeof self&&!H.includes(P.i)&&H.push(P.i),"undefined"!=typeof window)for(const _e of[P.b,P.a])H.includes(_e)||H.push(_e);return H.includes(P.L)||H.push(P.L),H}class at{constructor(){this.providerId="phone",this._delegate=new P.P(fr(F.Z.auth()))}static credential(G,H){return P.P.credential(G,H)}verifyPhoneNumber(G,H){return this._delegate.verifyPhoneNumber(G,H)}unwrap(){return this._delegate}}at.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,at.PROVIDER_ID=P.P.PROVIDER_ID;const Et=P.ax;class Zt{constructor(G,H,_e=F.Z.app()){var Ve;Et(null===(Ve=_e.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:_e.name}),this._delegate=new P.R(G,H,_e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Nn(ne){ne.INTERNAL.registerComponent(new ce.wA("auth-compat",G=>{const H=G.getProvider("app-compat").getImmediate(),_e=G.getProvider("auth");return new K(H,_e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:at,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Zt,TwitterAuthProvider:P.W,Auth:K,AuthCredential:P.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.2.14")}(F.Z)},9751:(Ye,ge,R)=>{R.d(ge,{y:()=>pe});var l=R(930),F=R(727),P=R(8822),oe=R(9635),ye=R(2416),we=R(576),ce=R(2806);let pe=(()=>{class Y{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const De=new Y;return De.source=this,De.operator=xe,De}subscribe(xe,De,Ge){const re=function j(Y){return Y&&Y instanceof l.Lv||function $(Y){return Y&&(0,we.m)(Y.next)&&(0,we.m)(Y.error)&&(0,we.m)(Y.complete)}(Y)&&(0,F.Nn)(Y)}(xe)?xe:new l.Hp(xe,De,Ge);return(0,ce.x)(()=>{const{operator:ve,source:qe}=this;re.add(ve?ve.call(re,qe):qe?this._subscribe(re):this._trySubscribe(re))}),re}_trySubscribe(xe){try{return this._subscribe(xe)}catch(De){xe.error(De)}}forEach(xe,De){return new(De=Se(De))((Ge,re)=>{const ve=new l.Hp({next:qe=>{try{xe(qe)}catch(We){re(We),ve.unsubscribe()}},error:re,complete:Ge});this.subscribe(ve)})}_subscribe(xe){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(xe)}[P.L](){return this}pipe(...xe){return(0,oe.U)(xe)(this)}toPromise(xe){return new(xe=Se(xe))((De,Ge)=>{let re;this.subscribe(ve=>re=ve,ve=>Ge(ve),()=>De(re))})}}return Y.create=Ne=>new Y(Ne),Y})();function Se(Y){var Ne;return null!==(Ne=null!=Y?Y:ye.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Ye,ge,R)=>{R.d(ge,{x:()=>ce});var l=R(9751),F=R(727);const oe=(0,R(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=R(8737),we=R(2806);let ce=(()=>{class Se extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new pe(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Ne,observers:xe}=this;return Y||Ne?F.Lc:(this.currentObservers=null,xe.push(j),new F.w0(()=>{this.currentObservers=null,(0,ye.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Ne,isStopped:xe}=this;Y?j.error(Ne):xe&&j.complete()}asObservable(){const j=new l.y;return j.source=this,j}}return Se.create=($,j)=>new pe($,j),Se})();class pe extends ce{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,$)}error($){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==Y?Y:F.Lc}}},930:(Ye,ge,R)=>{R.d(ge,{Hp:()=>Ge,Lv:()=>Y});var l=R(576),F=R(727),P=R(2416),oe=R(7849),ye=R(5032);const we=Se("C",void 0,void 0);function Se(Me,Te,fe){return{kind:Me,value:Te,error:fe}}var $=R(3410),j=R(2806);class Y extends F.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,F.Nn)(Te)&&Te.add(this)):this.destination=We}static create(Te,fe,Pe){return new Ge(Te,fe,Pe)}next(Te){this.isStopped?qe(function pe(Me){return Se("N",Me,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?qe(function ce(Me){return Se("E",void 0,Me)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?qe(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function xe(Me,Te){return Ne.call(Me,Te)}class De{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:fe}=this;if(fe.next)try{fe.next(Te)}catch(Pe){re(Pe)}}error(Te){const{partialObserver:fe}=this;if(fe.error)try{fe.error(Te)}catch(Pe){re(Pe)}else re(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(fe){re(fe)}}}class Ge extends Y{constructor(Te,fe,Pe){let ee;if(super(),(0,l.m)(Te)||!Te)ee={next:null!=Te?Te:void 0,error:null!=fe?fe:void 0,complete:null!=Pe?Pe:void 0};else{let se;this&&P.v.useDeprecatedNextContext?(se=Object.create(Te),se.unsubscribe=()=>this.unsubscribe(),ee={next:Te.next&&xe(Te.next,se),error:Te.error&&xe(Te.error,se),complete:Te.complete&&xe(Te.complete,se)}):ee=Te}this.destination=new De(ee)}}function re(Me){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Me):(0,oe.h)(Me)}function qe(Me,Te){const{onStoppedNotification:fe}=P.v;fe&&$.z.setTimeout(()=>fe(Me,Te))}const We={closed:!0,next:ye.Z,error:function ve(Me){throw Me},complete:ye.Z}},727:(Ye,ge,R)=>{R.d(ge,{Lc:()=>we,w0:()=>ye,Nn:()=>ce});var l=R(576);const P=(0,R(3888).d)(Se=>function(j){Se(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Ne)=>`${Ne+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=R(8737);class ye{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,l.m)(Y))try{Y()}catch(xe){$=xe instanceof P?xe.errors:[xe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const xe of Ne)try{pe(xe)}catch(De){$=null!=$?$:[],De instanceof P?$=[...$,...De.errors]:$.push(De)}}if($)throw new P($)}}add($){var j;if($&&$!==this)if(this.closed)pe($);else{if($ instanceof ye){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,oe.P)(j,$),$ instanceof ye&&$._removeParent(this)}}ye.EMPTY=(()=>{const Se=new ye;return Se.closed=!0,Se})();const we=ye.EMPTY;function ce(Se){return Se instanceof ye||Se&&"closed"in Se&&(0,l.m)(Se.remove)&&(0,l.m)(Se.add)&&(0,l.m)(Se.unsubscribe)}function pe(Se){(0,l.m)(Se)?Se():Se.unsubscribe()}},2416:(Ye,ge,R)=>{R.d(ge,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ye,ge,R)=>{R.d(ge,{E:()=>F});const F=new(R(9751).y)(ye=>ye.complete())},8996:(Ye,ge,R)=>{R.d(ge,{D:()=>Te});var l=R(8421),F=R(5363),P=R(9468),we=R(9751),pe=R(2202),Se=R(576),$=R(9672);function Y(fe,Pe){if(!fe)throw new Error("Iterable cannot be null");return new we.y(ee=>{(0,$.f)(ee,Pe,()=>{const se=fe[Symbol.asyncIterator]();(0,$.f)(ee,Pe,()=>{se.next().then(me=>{me.done?ee.complete():ee.next(me.value)})},0,!0)})})}var Ne=R(3670),xe=R(8239),De=R(1144),Ge=R(6495),re=R(2206),ve=R(4532),qe=R(3260);function Te(fe,Pe){return Pe?function Me(fe,Pe){if(null!=fe){if((0,Ne.c)(fe))return function oe(fe,Pe){return(0,l.Xf)(fe).pipe((0,P.R)(Pe),(0,F.Q)(Pe))}(fe,Pe);if((0,De.z)(fe))return function ce(fe,Pe){return new we.y(ee=>{let se=0;return Pe.schedule(function(){se===fe.length?ee.complete():(ee.next(fe[se++]),ee.closed||this.schedule())})})}(fe,Pe);if((0,xe.t)(fe))return function ye(fe,Pe){return(0,l.Xf)(fe).pipe((0,P.R)(Pe),(0,F.Q)(Pe))}(fe,Pe);if((0,re.D)(fe))return Y(fe,Pe);if((0,Ge.T)(fe))return function j(fe,Pe){return new we.y(ee=>{let se;return(0,$.f)(ee,Pe,()=>{se=fe[pe.h](),(0,$.f)(ee,Pe,()=>{let me,W;try{({value:me,done:W}=se.next())}catch(X){return void ee.error(X)}W?ee.complete():ee.next(me)},0,!0)}),()=>(0,Se.m)(null==se?void 0:se.return)&&se.return()})}(fe,Pe);if((0,qe.L)(fe))return function We(fe,Pe){return Y((0,qe.Q)(fe),Pe)}(fe,Pe)}throw(0,ve.z)(fe)}(fe,Pe):(0,l.Xf)(fe)}},8421:(Ye,ge,R)=>{R.d(ge,{Xf:()=>Ne});var l=R(655),F=R(1144),P=R(8239),oe=R(9751),ye=R(3670),we=R(2206),ce=R(4532),pe=R(6495),Se=R(3260),$=R(576),j=R(7849),Y=R(8822);function Ne(Me){if(Me instanceof oe.y)return Me;if(null!=Me){if((0,ye.c)(Me))return function xe(Me){return new oe.y(Te=>{const fe=Me[Y.L]();if((0,$.m)(fe.subscribe))return fe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,F.z)(Me))return function De(Me){return new oe.y(Te=>{for(let fe=0;fe<Me.length&&!Te.closed;fe++)Te.next(Me[fe]);Te.complete()})}(Me);if((0,P.t)(Me))return function Ge(Me){return new oe.y(Te=>{Me.then(fe=>{Te.closed||(Te.next(fe),Te.complete())},fe=>Te.error(fe)).then(null,j.h)})}(Me);if((0,we.D)(Me))return ve(Me);if((0,pe.T)(Me))return function re(Me){return new oe.y(Te=>{for(const fe of Me)if(Te.next(fe),Te.closed)return;Te.complete()})}(Me);if((0,Se.L)(Me))return function qe(Me){return ve((0,Se.Q)(Me))}(Me)}throw(0,ce.z)(Me)}function ve(Me){return new oe.y(Te=>{(function We(Me,Te){var fe,Pe,ee,se;return(0,l.mG)(this,void 0,void 0,function*(){try{for(fe=(0,l.KL)(Me);!(Pe=yield fe.next()).done;)if(Te.next(Pe.value),Te.closed)return}catch(me){ee={error:me}}finally{try{Pe&&!Pe.done&&(se=fe.return)&&(yield se.call(fe))}finally{if(ee)throw ee.error}}Te.complete()})})(Me,Te).catch(fe=>Te.error(fe))})}},6451:(Ye,ge,R)=>{R.d(ge,{T:()=>we});var l=R(8189),F=R(8421),P=R(515),oe=R(3269),ye=R(8996);function we(...ce){const pe=(0,oe.yG)(ce),Se=(0,oe._6)(ce,1/0),$=ce;return $.length?1===$.length?(0,F.Xf)($[0]):(0,l.J)(Se)((0,ye.D)($,pe)):P.E}},5403:(Ye,ge,R)=>{R.d(ge,{x:()=>F});var l=R(930);function F(oe,ye,we,ce,pe){return new P(oe,ye,we,ce,pe)}class P extends l.Lv{constructor(ye,we,ce,pe,Se,$){super(ye),this.onFinalize=Se,this.shouldUnsubscribe=$,this._next=we?function(j){try{we(j)}catch(Y){ye.error(Y)}}:super._next,this._error=pe?function(j){try{pe(j)}catch(Y){ye.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(j){ye.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(Ye,ge,R)=>{R.d(ge,{U:()=>P});var l=R(4482),F=R(5403);function P(oe,ye){return(0,l.e)((we,ce)=>{let pe=0;we.subscribe((0,F.x)(ce,Se=>{ce.next(oe.call(ye,Se,pe++))}))})}},8189:(Ye,ge,R)=>{R.d(ge,{J:()=>P});var l=R(5577),F=R(4671);function P(oe=1/0){return(0,l.z)(F.y,oe)}},5577:(Ye,ge,R)=>{R.d(ge,{z:()=>pe});var l=R(4004),F=R(8421),P=R(4482),oe=R(9672),ye=R(5403),ce=R(576);function pe(Se,$,j=1/0){return(0,ce.m)($)?pe((Y,Ne)=>(0,l.U)((xe,De)=>$(Y,xe,Ne,De))((0,F.Xf)(Se(Y,Ne))),j):("number"==typeof $&&(j=$),(0,P.e)((Y,Ne)=>function we(Se,$,j,Y,Ne,xe,De,Ge){const re=[];let ve=0,qe=0,We=!1;const Me=()=>{We&&!re.length&&!ve&&$.complete()},Te=Pe=>ve<Y?fe(Pe):re.push(Pe),fe=Pe=>{xe&&$.next(Pe),ve++;let ee=!1;(0,F.Xf)(j(Pe,qe++)).subscribe((0,ye.x)($,se=>{null==Ne||Ne(se),xe?Te(se):$.next(se)},()=>{ee=!0},void 0,()=>{if(ee)try{for(ve--;re.length&&ve<Y;){const se=re.shift();De?(0,oe.f)($,De,()=>fe(se)):fe(se)}Me()}catch(se){$.error(se)}}))};return Se.subscribe((0,ye.x)($,Te,()=>{We=!0,Me()})),()=>{null==Ge||Ge()}}(Y,Ne,Se,j)))}},5363:(Ye,ge,R)=>{R.d(ge,{Q:()=>oe});var l=R(9672),F=R(4482),P=R(5403);function oe(ye,we=0){return(0,F.e)((ce,pe)=>{ce.subscribe((0,P.x)(pe,Se=>(0,l.f)(pe,ye,()=>pe.next(Se),we),()=>(0,l.f)(pe,ye,()=>pe.complete(),we),Se=>(0,l.f)(pe,ye,()=>pe.error(Se),we)))})}},3099:(Ye,ge,R)=>{R.d(ge,{B:()=>we});var l=R(8996),F=R(5698),P=R(7579),oe=R(930),ye=R(4482);function we(pe={}){const{connector:Se=(()=>new P.x),resetOnError:$=!0,resetOnComplete:j=!0,resetOnRefCountZero:Y=!0}=pe;return Ne=>{let xe=null,De=null,Ge=null,re=0,ve=!1,qe=!1;const We=()=>{null==De||De.unsubscribe(),De=null},Me=()=>{We(),xe=Ge=null,ve=qe=!1},Te=()=>{const fe=xe;Me(),null==fe||fe.unsubscribe()};return(0,ye.e)((fe,Pe)=>{re++,!qe&&!ve&&We();const ee=Ge=null!=Ge?Ge:Se();Pe.add(()=>{re--,0===re&&!qe&&!ve&&(De=ce(Te,Y))}),ee.subscribe(Pe),xe||(xe=new oe.Hp({next:se=>ee.next(se),error:se=>{qe=!0,We(),De=ce(Me,$,se),ee.error(se)},complete:()=>{ve=!0,We(),De=ce(Me,j),ee.complete()}}),(0,l.D)(fe).subscribe(xe))})(Ne)}}function ce(pe,Se,...$){return!0===Se?(pe(),null):!1===Se?null:Se(...$).pipe((0,F.q)(1)).subscribe(()=>pe())}},9468:(Ye,ge,R)=>{R.d(ge,{R:()=>F});var l=R(4482);function F(P,oe=0){return(0,l.e)((ye,we)=>{we.add(P.schedule(()=>ye.subscribe(we),oe))})}},5698:(Ye,ge,R)=>{R.d(ge,{q:()=>oe});var l=R(515),F=R(4482),P=R(5403);function oe(ye){return ye<=0?()=>l.E:(0,F.e)((we,ce)=>{let pe=0;we.subscribe((0,P.x)(ce,Se=>{++pe<=ye&&(ce.next(Se),ye<=pe&&ce.complete())}))})}},3410:(Ye,ge,R)=>{R.d(ge,{z:()=>l});const l={setTimeout(F,P,...oe){const{delegate:ye}=l;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(F,P,...oe):setTimeout(F,P,...oe)},clearTimeout(F){const{delegate:P}=l;return((null==P?void 0:P.clearTimeout)||clearTimeout)(F)},delegate:void 0}},2202:(Ye,ge,R)=>{R.d(ge,{h:()=>F});const F=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ye,ge,R)=>{R.d(ge,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ye,ge,R)=>{R.d(ge,{_6:()=>we,jO:()=>oe,yG:()=>ye});var l=R(576),F=R(3532);function P(ce){return ce[ce.length-1]}function oe(ce){return(0,l.m)(P(ce))?ce.pop():void 0}function ye(ce){return(0,F.K)(P(ce))?ce.pop():void 0}function we(ce,pe){return"number"==typeof P(ce)?ce.pop():pe}},8737:(Ye,ge,R)=>{function l(F,P){if(F){const oe=F.indexOf(P);0<=oe&&F.splice(oe,1)}}R.d(ge,{P:()=>l})},3888:(Ye,ge,R)=>{function l(F){const oe=F(ye=>{Error.call(ye),ye.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(ge,{d:()=>l})},2806:(Ye,ge,R)=>{R.d(ge,{O:()=>oe,x:()=>P});var l=R(2416);let F=null;function P(ye){if(l.v.useDeprecatedSynchronousErrorHandling){const we=!F;if(we&&(F={errorThrown:!1,error:null}),ye(),we){const{errorThrown:ce,error:pe}=F;if(F=null,ce)throw pe}}else ye()}function oe(ye){l.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ye)}},9672:(Ye,ge,R)=>{function l(F,P,oe,ye=0,we=!1){const ce=P.schedule(function(){oe(),we?F.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(F.add(ce),!we)return ce}R.d(ge,{f:()=>l})},4671:(Ye,ge,R)=>{function l(F){return F}R.d(ge,{y:()=>l})},1144:(Ye,ge,R)=>{R.d(ge,{z:()=>l});const l=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Ye,ge,R)=>{R.d(ge,{D:()=>F});var l=R(576);function F(P){return Symbol.asyncIterator&&(0,l.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Ye,ge,R)=>{function l(F){return"function"==typeof F}R.d(ge,{m:()=>l})},3670:(Ye,ge,R)=>{R.d(ge,{c:()=>P});var l=R(8822),F=R(576);function P(oe){return(0,F.m)(oe[l.L])}},6495:(Ye,ge,R)=>{R.d(ge,{T:()=>P});var l=R(2202),F=R(576);function P(oe){return(0,F.m)(null==oe?void 0:oe[l.h])}},8239:(Ye,ge,R)=>{R.d(ge,{t:()=>F});var l=R(576);function F(P){return(0,l.m)(null==P?void 0:P.then)}},3260:(Ye,ge,R)=>{R.d(ge,{L:()=>oe,Q:()=>P});var l=R(655),F=R(576);function P(ye){return(0,l.FC)(this,arguments,function*(){const ce=ye.getReader();try{for(;;){const{value:pe,done:Se}=yield(0,l.qq)(ce.read());if(Se)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{ce.releaseLock()}})}function oe(ye){return(0,F.m)(null==ye?void 0:ye.getReader)}},3532:(Ye,ge,R)=>{R.d(ge,{K:()=>F});var l=R(576);function F(P){return P&&(0,l.m)(P.schedule)}},4482:(Ye,ge,R)=>{R.d(ge,{A:()=>F,e:()=>P});var l=R(576);function F(oe){return(0,l.m)(null==oe?void 0:oe.lift)}function P(oe){return ye=>{if(F(ye))return ye.lift(function(we){try{return oe(we,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ye,ge,R)=>{function l(){}R.d(ge,{Z:()=>l})},9635:(Ye,ge,R)=>{R.d(ge,{U:()=>P,z:()=>F});var l=R(4671);function F(...oe){return P(oe)}function P(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(we){return oe.reduce((ce,pe)=>pe(ce),we)}}},7849:(Ye,ge,R)=>{R.d(ge,{h:()=>P});var l=R(2416),F=R(3410);function P(oe){F.z.setTimeout(()=>{const{onUnhandledError:ye}=l.v;if(!ye)throw oe;ye(oe)})}},4532:(Ye,ge,R)=>{function l(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(ge,{z:()=>l})},655:(Ye,ge,R)=>{function oe(W,X){var te={};for(var le in W)Object.prototype.hasOwnProperty.call(W,le)&&X.indexOf(le)<0&&(te[le]=W[le]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(le=Object.getOwnPropertySymbols(W);ie<le.length;ie++)X.indexOf(le[ie])<0&&Object.prototype.propertyIsEnumerable.call(W,le[ie])&&(te[le[ie]]=W[le[ie]])}return te}function ye(W,X,te,le){var ot,ie=arguments.length,Ae=ie<3?X:null===le?le=Object.getOwnPropertyDescriptor(X,te):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(W,X,te,le);else for(var Vt=W.length-1;Vt>=0;Vt--)(ot=W[Vt])&&(Ae=(ie<3?ot(Ae):ie>3?ot(X,te,Ae):ot(X,te))||Ae);return ie>3&&Ae&&Object.defineProperty(X,te,Ae),Ae}function pe(W,X,te,le){return new(te||(te=Promise))(function(Ae,ot){function Vt(Kt){try{Be(le.next(Kt))}catch(ri){ot(ri)}}function Ft(Kt){try{Be(le.throw(Kt))}catch(ri){ot(ri)}}function Be(Kt){Kt.done?Ae(Kt.value):function ie(Ae){return Ae instanceof te?Ae:new te(function(ot){ot(Ae)})}(Kt.value).then(Vt,Ft)}Be((le=le.apply(W,X||[])).next())})}function re(W){return this instanceof re?(this.v=W,this):new re(W)}function ve(W,X,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,le=te.apply(W,X||[]),Ae=[];return ie={},ot("next"),ot("throw"),ot("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function ot(yn){le[yn]&&(ie[yn]=function(Gt){return new Promise(function(At,Ut){Ae.push([yn,Gt,At,Ut])>1||Vt(yn,Gt)})})}function Vt(yn,Gt){try{!function Ft(yn){yn.value instanceof re?Promise.resolve(yn.value.v).then(Be,Kt):ri(Ae[0][2],yn)}(le[yn](Gt))}catch(At){ri(Ae[0][3],At)}}function Be(yn){Vt("next",yn)}function Kt(yn){Vt("throw",yn)}function ri(yn,Gt){yn(Gt),Ae.shift(),Ae.length&&Vt(Ae[0][0],Ae[0][1])}}function We(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,X=W[Symbol.asyncIterator];return X?X.call(W):(W=function Y(W){var X="function"==typeof Symbol&&Symbol.iterator,te=X&&W[X],le=0;if(te)return te.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&le>=W.length&&(W=void 0),{value:W&&W[le++],done:!W}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),te={},le("next"),le("throw"),le("return"),te[Symbol.asyncIterator]=function(){return this},te);function le(Ae){te[Ae]=W[Ae]&&function(ot){return new Promise(function(Vt,Ft){!function ie(Ae,ot,Vt,Ft){Promise.resolve(Ft).then(function(Be){Ae({value:Be,done:Vt})},ot)}(Vt,Ft,(ot=W[Ae](ot)).done,ot.value)})}}}R.d(ge,{FC:()=>ve,KL:()=>We,_T:()=>oe,gn:()=>ye,mG:()=>pe,qq:()=>re})},5e3:(Ye,ge,R)=>{R.d(ge,{$8M:()=>hs,$Z:()=>Fr,AFp:()=>db,ALo:()=>Gi,AaK:()=>pe,AsE:()=>xm,BQk:()=>Eh,CHM:()=>dd,CRH:()=>DT,CZH:()=>yg,CqO:()=>eu,EEQ:()=>ui,EJc:()=>wu,EiD:()=>jd,EpF:()=>Th,F$t:()=>eE,F4k:()=>rv,FYo:()=>Pv,FiY:()=>ua,G48:()=>ef,Gf:()=>Zv,GfV:()=>lT,GkF:()=>nv,Gpc:()=>j,GuJ:()=>ue,Hsn:()=>nu,Ikx:()=>_v,JOm:()=>Eo,JVY:()=>vw,L6k:()=>Oc,LAX:()=>yl,LFG:()=>Kn,LSH:()=>$p,Lbi:()=>vg,MAs:()=>fA,NdJ:()=>tu,O4$:()=>rw,OlP:()=>pn,Oqu:()=>ru,PXZ:()=>GT,Q6J:()=>Xy,QGY:()=>iv,Qsj:()=>Nv,R0b:()=>jt,RDi:()=>ad,Rgc:()=>pu,SBq:()=>du,Sil:()=>Ul,Suo:()=>Yv,TTD:()=>Wa,TgZ:()=>Cm,Udp:()=>Dm,VKq:()=>pT,VLi:()=>Jh,W1O:()=>lg,WLB:()=>mT,X6Q:()=>Xh,XFs:()=>lt,Xpm:()=>at,Y36:()=>Mo,YKP:()=>hT,YNc:()=>hA,Yjl:()=>Ve,Yz7:()=>Gt,ZZ4:()=>Mu,_Bn:()=>oT,_UZ:()=>tv,_Vd:()=>Ro,_c5:()=>rx,_uU:()=>_E,aQg:()=>xg,c2e:()=>pb,cJS:()=>Ut,cg1:()=>Lm,dDg:()=>zT,deG:()=>R_,dqk:()=>kt,eBb:()=>H_,eFA:()=>bb,ekj:()=>Sm,f3M:()=>xd,g9A:()=>fb,h0i:()=>jh,hGG:()=>sx,hij:()=>va,iGM:()=>og,ifc:()=>xt,ip1:()=>_g,kL8:()=>Bm,lG2:()=>_e,lcZ:()=>qi,lnq:()=>su,mCW:()=>g,n5z:()=>vc,n_E:()=>Po,oAB:()=>ne,oJD:()=>ww,oxw:()=>XC,pB0:()=>$_,q3G:()=>gn,q4F:()=>cT,qLn:()=>Fc,qOj:()=>qy,qZA:()=>Ch,qzn:()=>fa,s9C:()=>Yr,sBO:()=>WM,sIi:()=>ym,s_b:()=>Pl,soG:()=>Kh,tBr:()=>vo,tb:()=>vu,tp0:()=>fl,uIk:()=>GC,vHH:()=>De,vpe:()=>Gs,wAp:()=>dt,xp6:()=>eC,yhl:()=>kc,ynx:()=>Xc,z2F:()=>Tb,z3N:()=>Or,zSh:()=>pm,zs3:()=>or});var l=R(7579),F=R(727),P=R(9751),oe=R(6451),ye=R(3099);function we(s){for(let a in s)if(s[a]===we)return a;throw Error("Could not find renamed property on target object.")}function ce(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Se(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const $=we({__forward_ref__:we});function j(s){return s.__forward_ref__=j,s.toString=function(){return pe(this())},s}function Y(s){return Ne(s)?s():s}function Ne(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}class De extends Error{constructor(a,c){super(function Ge(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function re(s){return"string"==typeof s?s:null==s?"":String(s)}function ve(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():re(s)}function Te(s,a){const c=a?` in ${a}`:"";throw new De(-201,`No provider for ${ve(s)} found${c}`)}function Ft(s,a){null==s&&function Be(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function Gt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ut(s){return{providers:s.providers||[],imports:s.imports||[]}}function un(s){return zr(s,dr)||zr(s,Xi)}function zr(s,a){return s.hasOwnProperty(a)?s[a]:null}function ns(s){return s&&(s.hasOwnProperty(Ir)||s.hasOwnProperty(Ms))?s[Ir]:null}const dr=we({\u0275prov:we}),Ir=we({\u0275inj:we}),Xi=we({ngInjectableDef:we}),Ms=we({ngInjectorDef:we});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Dr;function qt(s){const a=Dr;return Dr=s,a}function er(s,a,c){const d=un(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==a?a:void Te(pe(s),"Injector")}function hr(s){return{toString:s}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),xt=(()=>{return(s=xt||(xt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",xt;var s})();const rt="undefined"!=typeof globalThis&&globalThis,Je="undefined"!=typeof window&&window,fr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt=rt||"undefined"!=typeof global&&global||Je||fr,Qt={},L=[],U=we({\u0275cmp:we}),z=we({\u0275dir:we}),ue=we({\u0275pipe:we}),V=we({\u0275mod:we}),K=we({\u0275fac:we}),Ie=we({__NG_ELEMENT_ID__:we});let $e=0;function at(s){return hr(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||L,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||xt.Emulated,id:"c",styles:s.styles||L,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.directives,p=s.features,y=s.pipes;return d.id+=$e++,d.inputs=H(s.inputs,c),d.outputs=H(s.outputs),p&&p.forEach(b=>b(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Zt):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(pt):null,d})}function Zt(s){return nt(s)||function Tt(s){return s[z]||null}(s)}function pt(s){return function Ot(s){return s[ue]||null}(s)}const Nn={};function ne(s){return hr(()=>{const a={type:s.type,bootstrap:s.bootstrap||L,declarations:s.declarations||L,imports:s.imports||L,exports:s.exports||L,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Nn[s.id]=s.type),a})}function H(s,a){if(null==s)return Qt;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,a&&(a[f]=p)}return c}const _e=at;function Ve(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function nt(s){return s[U]||null}function Rt(s,a){const c=s[V]||null;if(!c&&!0===a)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return c}function Vi(s){return Array.isArray(s)&&"object"==typeof s[1]}function wi(s){return Array.isArray(s)&&!0===s[1]}function nd(s){return 0!=(8&s.flags)}function $a(s){return 2==(2&s.flags)}function za(s){return 1==(1&s.flags)}function nr(s){return null!==s.template}function id(s){return 0!=(512&s[2])}function mr(s,a){return s.hasOwnProperty(K)?s[K]:null}class qa{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Wa(){return oc}function oc(s){return s.type.prototype.ngOnChanges&&(s.setInput=nw),E_}function E_(){const s=sd(this),a=null==s?void 0:s.current;if(a){const c=s.previous;if(c===Qt)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function nw(s,a,c,d){const f=sd(s)||function ac(s,a){return s[Ci]=a}(s,{previous:Qt,current:null}),p=f.current||(f.current={}),y=f.previous,b=this.declaredInputs[c],C=y[b];p[b]=new qa(C&&C.currentValue,a,y===Qt),s[d]=a}Wa.ngInherit=!0;const Ci="__ngSimpleChanges__";function sd(s){return s[Ci]||null}let cc;function ad(s){cc=s}function ld(){return void 0!==cc?cc:"undefined"!=typeof document?document:void 0}function an(s){return!!s.listen}const uc={createRenderer:(s,a)=>ld()};function nn(s){for(;Array.isArray(s);)s=s[0];return s}function Ya(s,a){return nn(a[s])}function Ei(s,a){return nn(a[s.index])}function Ka(s,a){return s.data[a]}function as(s,a){return s[a]}function Ti(s,a){const c=a[s];return Vi(c)?c:c[0]}function zo(s){return 4==(4&s[2])}function Rs(s){return 128==(128&s[2])}function Mr(s,a){return null==a?null:s[a]}function Go(s){s[18]=0}function qo(s,a){s[5]+=a;let c=s,d=s[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const ut={lFrame:so(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function up(){return ut.bindingsEnabled}function Ce(){return ut.lFrame.lView}function Nt(){return ut.lFrame.tView}function dd(s){return ut.lFrame.contextLView=s,s[8]}function wn(){let s=Wo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wo(){return ut.lFrame.currentTNode}function ir(s,a){const c=ut.lFrame;c.currentTNode=s,c.isParent=a}function hd(){return ut.lFrame.isParent}function fd(){ut.lFrame.isParent=!1}function fc(){return ut.isInCheckNoChangesMode}function Zo(s){ut.isInCheckNoChangesMode=s}function ai(){const s=ut.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function xr(){return ut.lFrame.bindingIndex}function Ps(){return ut.lFrame.bindingIndex++}function ls(s){const a=ut.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function md(s,a){const c=ut.lFrame;c.bindingIndex=c.bindingRootIndex=s,Xa(a)}function Xa(s){ut.lFrame.currentDirectiveIndex=s}function gd(){return ut.lFrame.currentQueryIndex}function _d(s){ut.lFrame.currentQueryIndex=s}function iw(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function mp(s,a,c){if(c&lt.SkipSelf){let f=a,p=s;for(;!(f=f.parent,null!==f||c&lt.Host||(f=iw(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;a=f,s=p}const d=ut.lFrame=gp();return d.currentTNode=a,d.lView=s,!0}function Yo(s){const a=gp(),c=s[1];ut.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function gp(){const s=ut.lFrame,a=null===s?null:s.child;return null===a?so(s):a}function so(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function _p(){const s=ut.lFrame;return ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const A_=_p;function el(){const s=_p();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ii(){return ut.lFrame.selectedIndex}function cs(s){ut.lFrame.selectedIndex=s}function fn(){const s=ut.lFrame;return Ka(s.tView,s.selectedIndex)}function rw(){ut.lFrame.currentNamespace="svg"}function tl(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:S}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),b&&((s.contentHooks||(s.contentHooks=[])).push(c,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-c,C),I&&((s.viewHooks||(s.viewHooks=[])).push(c,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,I)),null!=S&&(s.destroyHooks||(s.destroyHooks=[])).push(c,S)}}function us(s,a,c){x_(s,a,3,c)}function nl(s,a,c,d){(3&s[2])===c&&x_(s,a,c,d)}function yd(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function x_(s,a,c,d){const p=null!=d?d:-1,y=a.length-1;let b=0;for(let C=void 0!==d?65535&s[18]:0;C<y;C++)if("number"==typeof a[C+1]){if(b=a[C],null!=d&&b>=d)break}else a[C]<0&&(s[18]+=65536),(b<p||-1==p)&&(lw(s,c,a,C),s[18]=(4294901760&s[18])+C+2),C++}function lw(s,a,c,d){const f=c[d]<0,p=c[d+1],b=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Ko{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function il(s,a,c){const d=an(s);let f=0;for(;f<c.length;){const p=c[f];if("number"==typeof p){if(0!==p)break;f++;const y=c[f++],b=c[f++],C=c[f++];d?s.setAttribute(a,b,C,y):a.setAttributeNS(y,b,C)}else{const y=p,b=c[++f];je(y)?d&&s.setProperty(a,y,b):d?s.setAttribute(a,y,b):a.setAttribute(y,b),f++}}return f}function q(s){return 3===s||4===s||6===s}function je(s){return 64===s.charCodeAt(0)}function Di(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||gr(s,c,f,null,-1===c||2===c?a[++d]:null)}}return s}function gr(s,a,c,d,f){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===a){y=-1;break}if(b>a){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===c){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function kr(s){return-1!==s}function ao(s){return 32767&s}function lo(s,a){let c=function In(s){return s>>16}(s),d=a;for(;c>0;)d=d[15],c--;return d}let Qo=!0;function rl(s){const a=Qo;return Qo=s,a}let Ep=0;function li(s,a){const c=ds(s,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,sl(d.data,s),sl(a,null),sl(d.blueprint,null));const f=Fs(s,a),p=s.injectorIndex;if(kr(f)){const y=ao(f),b=lo(f,a),C=b[1].data;for(let I=0;I<8;I++)a[p+I]=b[y+I]|C[y+I]}return a[p+8]=f,p}function sl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function ds(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Fs(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){const p=f[1],y=p.type;if(d=2===y?p.declTNode:1===y?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Jo(s,a,c){!function k_(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ie)&&(d=c[Ie]),null==d&&(d=c[Ie]=Ep++);const f=255&d;a.data[s+(f>>5)]|=1<<f}(s,a,c)}function gc(s,a,c){if(c&lt.Optional)return s;Te(a,"NodeInjector")}function al(s,a,c,d){if(c&lt.Optional&&void 0===d&&(d=null),0==(c&(lt.Self|lt.Host))){const f=s[9],p=qt(void 0);try{return f?f.get(a,d,c&lt.Optional):er(a,d,c&lt.Optional)}finally{qt(p)}}return gc(d,a,c)}function _c(s,a,c,d=lt.Default,f){if(null!==s){const p=function vd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ie)?s[Ie]:void 0;return"number"==typeof a?a>=0?255&a:Tp:a}(c);if("function"==typeof p){if(!mp(a,s,d))return d&lt.Host?gc(f,c,d):al(a,c,d,f);try{const y=p(d);if(null!=y||d&lt.Optional)return y;Te(c)}finally{A_()}}else if("number"==typeof p){let y=null,b=ds(s,a),C=-1,I=d&lt.Host?a[16][6]:null;for((-1===b||d&lt.SkipSelf)&&(C=-1===b?Fs(s,a):a[b+8],-1!==C&&Dp(d,!1)?(y=a[1],b=ao(C),a=lo(C,a)):b=-1);-1!==b;){const S=a[1];if(Ip(p,b,S.data)){const O=O_(b,a,c,y,d,I);if(O!==Xo)return O}C=a[b+8],-1!==C&&Dp(d,a[1].data[b+8]===I)&&Ip(p,b,a)?(y=S,b=ao(C),a=lo(C,a)):b=-1}}}return al(a,c,d,f)}const Xo={};function Tp(){return new Ls(wn(),Ce())}function O_(s,a,c,d,f,p){const y=a[1],b=y.data[s+8],S=yc(b,y,c,null==d?$a(b)&&Qo:d!=y&&0!=(3&b.type),f&lt.Host&&p===b);return null!==S?ea(a,y,S,b):Xo}function yc(s,a,c,d,f){const p=s.providerIndexes,y=a.data,b=1048575&p,C=s.directiveStart,S=p>>20,B=f?b+S:s.directiveEnd;for(let Z=d?b:b+S;Z<B;Z++){const de=y[Z];if(Z<C&&c===de||Z>=C&&de.type===c)return Z}if(f){const Z=y[C];if(Z&&nr(Z)&&Z.type===c)return C}return null}function ea(s,a,c,d){let f=s[c];const p=a.data;if(function yp(s){return s instanceof Ko}(f)){const y=f;y.resolving&&function qe(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${c}`)}(ve(p[c]));const b=rl(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?qt(y.injectImpl):null;mp(s,d,lt.Default);try{f=s[c]=y.factory(void 0,p,s,d),a.firstCreatePass&&c>=d.directiveStart&&function aw(s,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(d){const y=oc(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],a)}finally{null!==C&&qt(C),rl(b),y.resolving=!1,A_()}}return f}function Ip(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Dp(s,a){return!(s&lt.Self||s&lt.Host&&a)}class Ls{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return _c(this._tNode,this._lView,a,d,c)}}function vc(s){return hr(()=>{const a=s.prototype.constructor,c=a[K]||bd(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[K]||bd(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function bd(s){return Ne(s)?()=>{const a=bd(Y(s));return a&&a()}:mr(s)}function hs(s){return function ol(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(q(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}(wn(),s)}const co="__parameters__";function na(s,a,c){return hr(()=>{const d=function bc(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return b.annotation=y,b;function b(C,I,S){const O=C.hasOwnProperty(co)?C[co]:Object.defineProperty(C,co,{value:[]})[co];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(y),C}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Gt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const R_=new pn("AnalyzeForEntryComponents");function ji(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(a===s&&(a=s.slice(0,c)),ji(d,a)):a!==s&&a.push(d)}return a}function rr(s,a){s.forEach(c=>Array.isArray(c)?rr(c,a):a(c))}function sa(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Tc(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function fs(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}function Yn(s,a,c){let d=aa(s,a);return d>=0?s[1|d]=c:(d=~d,function Td(s,a,c,d){let f=s.length;if(f==a)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function oa(s,a){const c=aa(s,a);if(c>=0)return s[1|c]}function aa(s,a){return function cl(s,a,c){let d=0,f=s.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<c];if(a===y)return p<<c;y>a?f=p:d=p+1}return~(f<<c)}(s,a,1)}const mo={},go="__NG_DI_FLAG__",la="ngTempTokenPath",Np=/\n/gm,Ad="__source",fw=we({provide:String,useValue:we});let _o;function Md(s){const a=_o;return _o=s,a}function pw(s,a=lt.Default){if(void 0===_o)throw new De(203,"");return null===_o?er(s,void 0,a):_o.get(s,a&lt.Optional?null:void 0,a)}function Kn(s,a=lt.Default){return(function dn(){return Dr}()||pw)(Y(s),a)}const xd=Kn;function kd(s){const a=[];for(let c=0;c<s.length;c++){const d=Y(s[c]);if(Array.isArray(d)){if(0===d.length)throw new De(900,"");let f,p=lt.Default;for(let y=0;y<d.length;y++){const b=d[y],C=F_(b);"number"==typeof C?-1===C?f=b.token:p|=C:f=b}a.push(Kn(f,p))}else a.push(Kn(d))}return a}function yo(s,a){return s[go]=a,s.prototype[go]=a,s}function F_(s){return s[go]}const vo=yo(na("Inject",s=>({token:s})),-1),ua=yo(na("Optional"),8),fl=yo(na("SkipSelf"),4);let bo,ha;function da(s){var a;return(null===(a=function Lp(){if(void 0===bo&&(bo=null,kt.trustedTypes))try{bo=kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return bo}())||void 0===a?void 0:a.createHTML(s))||s}function Bp(s){var a;return(null===(a=function Ld(){if(void 0===ha&&(ha=null,kt.trustedTypes))try{ha=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ha}())||void 0===a?void 0:a.createHTML(s))||s}class wo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _l extends wo{getTypeName(){return"HTML"}}class Co extends wo{getTypeName(){return"Style"}}class V_ extends wo{getTypeName(){return"Script"}}class U_ extends wo{getTypeName(){return"URL"}}class j_ extends wo{getTypeName(){return"ResourceURL"}}function Or(s){return s instanceof wo?s.changingThisBreaksApplicationSecurity:s}function fa(s,a){const c=kc(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function kc(s){return s instanceof wo&&s.getTypeName()||null}function vw(s){return new _l(s)}function Oc(s){return new Co(s)}function H_(s){return new V_(s)}function yl(s){return new U_(s)}function $_(s){return new j_(s)}class Vd{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(da(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class z_{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=da(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=da(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const G_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function g(s){return(s=String(s)).match(G_)||s.match(w)?s:"unsafe:"+s}function E(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function A(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const x=E("area,br,col,hr,img,wbr"),J=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ee=E("rp,rt"),rn=A(x,A(J,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A(Ee,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),A(Ee,J)),yr=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ci=E("srcset"),bl=A(yr,ci,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rc=E("script,style,template");class Pc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!rn.hasOwnProperty(c))return this.sanitizedSomething=!0,!Rc.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,b=y.toLowerCase();if(!bl.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;yr[b]&&(C=g(C)),ci[b]&&(s=C,C=(s=String(s)).split(",").map(a=>g(a.trim())).join(", ")),this.buf.push(" ",y,'="',Cl(C),'"')}var s;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();rn.hasOwnProperty(c)&&!x.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Cl(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const wl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hp=/([^\#-~ |!])/g;function Cl(s){return s.replace(/&/g,"&amp;").replace(wl,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Hp,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vs;function jd(s,a){let c=null;try{Vs=Vs||function Bd(s){const a=new z_(s);return function jp(){try{return!!(new window.DOMParser).parseFromString(da(""),"text/html")}catch(s){return!1}}()?new Vd(a):a}(s);let d=a?String(a):"";c=Vs.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=Vs.getInertBodyElement(d)}while(d!==p);return da((new Pc).sanitizeChildren(Bn(c)||c))}finally{if(c){const d=Bn(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Bn(s){return"content"in s&&function Hd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var gn=(()=>((gn=gn||{})[gn.NONE=0]="NONE",gn[gn.HTML=1]="HTML",gn[gn.STYLE=2]="STYLE",gn[gn.SCRIPT=3]="SCRIPT",gn[gn.URL=4]="URL",gn[gn.RESOURCE_URL=5]="RESOURCE_URL",gn))();function ww(s){const a=Nc();return a?Bp(a.sanitize(gn.HTML,s)||""):fa(s,"HTML")?Bp(Or(s)):jd(ld(),re(s))}function $p(s){const a=Nc();return a?a.sanitize(gn.URL,s)||"":fa(s,"URL")?Or(s):g(re(s))}function Nc(){const s=Ce();return s&&s[12]}function ui(s){let a=$d(s);if(a){if(Array.isArray(a)){const c=a;let d,f,p;if(function eS(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(d=function Dw(s,a){const c=s[1].components;if(c)for(let d=0;d<c.length;d++){const f=c[d];if(Ti(f,s)[8]===a)return f}else if(Ti(20,s)[8]===a)return 20;return-1}(c,s),-1==d)throw new Error("The provided component was not found in the application");f=s}else if(function Tw(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(d=function nS(s,a){let c=s[1].firstChild;for(;c;){const f=c.directiveEnd;for(let p=c.directiveStart;p<f;p++)if(s[p]===a)return c.index;c=tS(c)}return-1}(c,s),-1==d)throw new Error("The provided directive was not found in the application");p=function J_(s,a,c){const d=a[1].data[s];let f=d.directiveStart;return 0==f?L:(!c&&2&d.flags&&f++,a.slice(f,d.directiveEnd))}(d,c,!1)}else if(d=Iw(c,s),-1==d)return null;const y=nn(c[d]),b=$d(y),C=b&&!Array.isArray(b)?b:K_(c,d,y);if(f&&void 0===C.component&&(C.component=f,di(C.component,C)),p&&void 0===C.directives){C.directives=p;for(let I=0;I<p.length;I++)di(p[I],C)}di(C.native,C),a=C}}else{const c=s;let d=c;for(;d=d.parentNode;){const f=$d(d);if(f){let p;if(p=Array.isArray(f)?f:f.lView,!p)return null;const y=Iw(p,c);if(y>=0){const b=nn(p[y]),C=K_(p,y,b);di(b,C),a=C;break}}}}return a||null}function K_(s,a,c){return{lView:s,nodeIndex:a,native:c,component:void 0,directives:void 0,localRefs:void 0}}const Q_="__ngContext__";function di(s,a){s[Q_]=a}function $d(s){return s[Q_]||null}function zd(s){const a=$d(s);return a?Array.isArray(a)?a:a.lView:null}function Iw(s,a){const c=s[1];for(let d=20;d<c.bindingStartIndex;d++)if(nn(s[d])===a)return d;return-1}function tS(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function ny(s){return s.ngOriginalError}function rS(s,...a){s.error(...a)}class Fc{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function iy(s){return s&&s.ngErrorLogger||rS}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&ny(a);for(;c&&ny(c);)c=ny(c);return c||null}}const lS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function Wr(s){return s instanceof Function?s():s}var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();function Bc(s,a){return undefined(s,a)}function Gd(s){const a=s[3];return wi(a)?a[3]:a}function Qn(s){return Lw(s[13])}function qp(s){return Lw(s[4])}function Lw(s){for(;null!==s&&!wi(s);)s=s[4];return s}function Vc(s,a,c,d,f){if(null!=d){let p,y=!1;wi(d)?p=d:Vi(d)&&(y=!0,d=d[0]);const b=nn(d);0===s&&null!==c?null==f?jw(a,c,b):To(a,c,b,f||null,!0):1===s&&null!==c?To(a,c,b,f||null,!0):2===s?function Uc(s,a,c){const d=Yp(s,a);d&&function yS(s,a,c,d){an(s)?s.removeChild(a,c,d):a.removeChild(c)}(s,d,a,c)}(a,b,y):3===s&&a.destroyNode(b),null!=p&&function bS(s,a,c,d,f){const p=c[7];p!==nn(c)&&Vc(a,s,d,p,f);for(let b=10;b<c.length;b++){const C=c[b];Jp(C[1],C,s,a,d,p)}}(a,s,p,c,f)}}function uy(s,a,c){if(an(s))return s.createElement(a,c);{const d=null!==c?function lc(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(a):s.createElementNS(d,a)}}function Vw(s,a){const c=s[9],d=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,qo(f,-1)),c.splice(d,1)}function Wp(s,a){if(s.length<=10)return;const c=10+a,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&Vw(f,d),a>0&&(s[c-1][4]=d[4]);const p=Tc(s,10+a);!function hS(s,a){Jp(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Uw(s,a){if(!(256&a[2])){const c=a[11];an(c)&&c.destroyNode&&Jp(s,a,c,3,null,null),function Rr(s){let a=s[13];if(!a)return dy(s[1],s);for(;a;){let c=null;if(Vi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==s;)Vi(a)&&dy(a[1],a),a=a[3];null===a&&(a=s),Vi(a)&&dy(a[1],a),c=a&&a[4]}a=c}}(a)}}function dy(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function _S(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Ko)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=f[p[y]],C=p[y+1];try{C.call(b)}finally{}}else try{p.call(f)}finally{}}}}(s,a),function hy(s,a){const c=s.cleanup,d=a[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],b="function"==typeof y?y(a):nn(a[y]),C=d[f=c[p+2]],I=c[p+3];"boolean"==typeof I?b.removeEventListener(c[p],C,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)d[p]();a[7]=null}}(s,a),1===a[1].type&&an(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&wi(a[3])){c!==a[3]&&Vw(c,a);const d=a[19];null!==d&&d.detachView(s)}}}function Zp(s,a,c){return function fy(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===xt.None||f===xt.Emulated)return null}return Ei(d,c)}(s,a.parent,c)}function To(s,a,c,d,f){an(s)?s.insertBefore(a,c,d,f):a.insertBefore(c,d,f)}function jw(s,a,c){an(s)?s.appendChild(a,c):a.appendChild(c)}function Hw(s,a,c,d,f){null!==d?To(s,a,c,d,f):jw(s,a,c)}function Yp(s,a){return an(s)?s.parentNode(a):a.parentNode}function $w(s,a,c){return zw(s,a,c)}let zw=function Kp(s,a,c){return 40&s.type?Ei(s,c):null};function Wd(s,a,c,d){const f=Zp(s,d,a),p=a[11],b=$w(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let C=0;C<c.length;C++)Hw(p,f,c[C],b,!1);else Hw(p,f,c,b,!1)}function El(s,a){if(null!==a){const c=a.type;if(3&c)return Ei(a,s);if(4&c)return Qp(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return El(s,d);{const f=s[a.index];return wi(f)?Qp(-1,f):nn(f)}}if(32&c)return Bc(a,s)()||nn(s[a.index]);{const d=gy(s,a);return null!==d?Array.isArray(d)?d[0]:El(Gd(s[16]),d):El(s,a.next)}}return null}function gy(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Qp(s,a){const c=10+s+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return El(d,f)}return a[7]}function Zd(s,a,c,d,f,p,y){for(;null!=c;){const b=d[c.index],C=c.type;if(y&&0===a&&(b&&di(nn(b),d),c.flags|=4),64!=(64&c.flags))if(8&C)Zd(s,a,c.child,d,f,p,!1),Vc(a,s,f,b,p);else if(32&C){const I=Bc(c,d);let S;for(;S=I();)Vc(a,s,f,S,p);Vc(a,s,f,b,p)}else 16&C?Gw(s,a,d,c,f,p):Vc(a,s,f,b,p);c=y?c.projectionNext:c.next}}function Jp(s,a,c,d,f,p){Zd(c,d,s.firstChild,a,f,p,!1)}function Gw(s,a,c,d,f,p){const y=c[16],C=y[6].projection[d.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Vc(a,s,f,C[I],p);else Zd(s,a,C,y[3],f,p,!0)}function qw(s,a,c){an(s)?s.setAttribute(a,"style",c):a.style.cssText=c}function Yd(s,a,c){an(s)?""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c):a.className=c}function Ww(s,a,c){let d=s.length;for(;;){const f=s.indexOf(a,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=a.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}c=f+1}}const Yw="ng-template";function yy(s,a,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==Ww(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Kw(s){return 4===s.type&&s.value!==Yw}function vy(s,a,c){return a===(4!==s.type||c?s.value:Yw)}function w1(s,a,c){let d=4;const f=s.attrs||[],p=function E1(s){for(let a=0;a<s.length;a++)if(q(s[a]))return a;return s.length}(f);let y=!1;for(let b=0;b<a.length;b++){const C=a[b];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!vy(s,C,c)||""===C&&1===a.length){if(ms(d))return!1;y=!0}}else{const I=8&d?C:a[++b];if(8&d&&null!==s.attrs){if(!yy(s.attrs,I,c)){if(ms(d))return!1;y=!0}continue}const O=wS(8&d?"class":C,f,Kw(s),c);if(-1===O){if(ms(d))return!1;y=!0;continue}if(""!==I){let B;B=O>p?"":f[O+1].toLowerCase();const Z=8&d?B:null;if(Z&&-1!==Ww(Z,I,0)||2&d&&I!==B){if(ms(d))return!1;y=!0}}}}else{if(!y&&!ms(d)&&!ms(C))return!1;if(y&&ms(C))continue;y=!1,d=C|1&d}}return ms(d)||y}function ms(s){return 0==(1&s)}function wS(s,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let p=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=a[++f];for(;"string"==typeof b;)b=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function T1(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function Xp(s,a,c=!1){for(let d=0;d<a.length;d++)if(w1(s,a[d],c))return!0;return!1}function I1(s,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function Qw(s,a){return s?":not("+a.trim()+")":a}function Jw(s){let a=s[0],c=1,d=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const b=s[++c];f+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ms(y)&&(a+=Qw(p,f),f=""),d=y,p=p||!ms(d);c++}return""!==f&&(a+=Qw(p,f)),a}const tt={};function eC(s){Kd(Nt(),Ce(),Ii()+s,fc())}function Kd(s,a,c,d){if(!d)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&us(a,p,c)}else{const p=s.preOrderHooks;null!==p&&nl(a,p,0,c)}cs(c)}function Tl(s,a){return s<<17|a<<2}function gs(s){return s>>17&32767}function jc(s){return 2|s}function Io(s){return(131068&s)>>2}function by(s,a){return-131069&s|a<<2}function pa(s){return 1|s}function oC(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];_d(f),y.contentQueries(2,a[p],p)}}}function nm(s,a,c,d,f,p,y,b,C,I){const S=a.blueprint.slice();return S[0]=f,S[2]=140|d,Go(S),S[3]=S[15]=s,S[8]=c,S[10]=y||s&&s[10],S[11]=b||s&&s[11],S[12]=C||s&&s[12]||null,S[9]=I||s&&s[9]||null,S[6]=p,S[16]=2==a.type?s[16]:S,S}function qc(s,a,c,d,f){let p=s.data[a];if(null===p)p=function aC(s,a,c,d,f){const p=Wo(),y=hd(),C=s.data[a]=function PS(s,a,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,f);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,a,c,d,f),function pd(){return ut.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function Ja(){const s=ut.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ir(p,!0),p}function nh(s,a,c,d){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function im(s,a,c){Yo(a);try{const d=s.viewQuery;null!==d&&Ly(1,d,c);const f=s.template;null!==f&&lC(s,a,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&oC(s,a),s.staticViewQueries&&Ly(2,s.viewQuery,c);const p=s.components;null!==p&&function k1(s,a){for(let c=0;c<a.length;c++)wC(s,a[c])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,el()}}function Dl(s,a,c,d){const f=a[2];if(256==(256&f))return;Yo(a);const p=fc();try{Go(a),function fp(s){return ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&lC(s,a,c,2,d);const y=3==(3&f);if(!p)if(y){const I=s.preOrderCheckHooks;null!==I&&us(a,I,null)}else{const I=s.preOrderHooks;null!==I&&nl(a,I,0,null),yd(a,0)}if(function US(s){for(let a=Qn(s);null!==a;a=qp(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(1024&f[2])&&qo(p,1),f[2]|=1024}}}(a),function bC(s){for(let a=Qn(s);null!==a;a=qp(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];Rs(d)&&Dl(f,d,f.template,d[8])}}(a),null!==s.contentQueries&&oC(s,a),!p)if(y){const I=s.contentCheckHooks;null!==I&&us(a,I)}else{const I=s.contentHooks;null!==I&&nl(a,I,1),yd(a,1)}!function xS(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)cs(~f);else{const p=f,y=c[++d],b=c[++d];md(y,p),b(2,a[p])}}}finally{cs(-1)}}(s,a);const b=s.components;null!==b&&function x1(s,a){for(let c=0;c<a.length;c++)Ry(s,a[c])}(a,b);const C=s.viewQuery;if(null!==C&&Ly(2,C,d),!p)if(y){const I=s.viewCheckHooks;null!==I&&us(a,I)}else{const I=s.viewHooks;null!==I&&nl(a,I,2),yd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,qo(a[3],-1))}finally{el()}}function kS(s,a,c,d){const f=a[10],p=!fc(),y=zo(a);try{p&&!y&&f.begin&&f.begin(),y&&im(s,a,d),Dl(s,a,c,d)}finally{p&&!y&&f.end&&f.end()}}function lC(s,a,c,d,f){const p=Ii(),y=2&d;try{cs(-1),y&&a.length>20&&Kd(s,a,20,fc()),c(d,f)}finally{cs(p)}}function Jn(s,a,c){if(nd(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Pr(s,a,c){!up()||(function ih(s,a,c,d){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||li(c,a),di(d,a);const y=c.initialInputs;for(let b=f;b<p;b++){const C=s.data[b],I=nr(C);I&&Oy(a,c,C);const S=ea(a,s,b,c);di(S,a),null!==y&&vC(0,b-f,S,C,0,y),I&&(Ti(c.index,a)[8]=S)}}(s,a,c,Ei(c,a)),128==(128&c.flags)&&function mC(s,a,c){const d=c.directiveStart,f=c.directiveEnd,y=c.index,b=function S_(){return ut.lFrame.currentDirectiveIndex}();try{cs(y);for(let C=d;C<f;C++){const I=s.data[C],S=a[C];Xa(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&rh(I,S)}}finally{cs(-1),Xa(b)}}(s,a,c))}function Wc(s,a,c=Ei){const d=a.localNames;if(null!==d){let f=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],b=-1===y?c(a,s):s[y];s[f++]=b}}}function rm(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=sm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function sm(s,a,c,d,f,p,y,b,C,I){const S=20+d,O=S+f,B=function OS(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:tt);return c}(S,O),Z="function"==typeof I?I():I;return B[1]={type:s,blueprint:B,template:c,queries:null,viewQuery:b,declTNode:a,data:B.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:Z,incompleteFirstPass:!1}}function dC(s,a,c,d){const f=EC(a);null===c?f.push(d):(f.push(c),s.firstCreatePass&&TC(s).push(d,f.length-1))}function hC(s,a,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function vr(s,a,c,d,f,p,y,b){const C=Ei(a,c);let S,I=a.inputs;!b&&null!=I&&(S=I[d])?(SC(s,c,S,d,f),$a(a)&&function NS(s,a){const c=Ti(a,s);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function om(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,a.value||"",d):f,an(p)?p.setProperty(C,d,f):je(d)||(C.setProperty?C.setProperty(d,f):C[d]=f))}function xy(s,a,c,d){let f=!1;if(up()){const p=function gC(s,a,c){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Xp(c,y.selectors,!1)&&(f||(f=[]),Jo(li(c,a),s,y.type),nr(y)?(_C(s,c),f.unshift(y)):f.push(y))}return f}(s,a,c),y=null===d?null:{"":-1};if(null!==p){f=!0,yC(c,s.data.length,p.length);for(let S=0;S<p.length;S++){const O=p[S];O.providersResolver&&O.providersResolver(O)}let b=!1,C=!1,I=nh(s,a,p.length,null);for(let S=0;S<p.length;S++){const O=p[S];c.mergedAttrs=Di(c.mergedAttrs,O.hostAttrs),ky(s,c,a,I,O),VS(I,O,y),null!==O.contentQueries&&(c.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=128);const B=O.type.prototype;!b&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),b=!0),!C&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),C=!0),I++}!function sr(s,a){const d=a.directiveEnd,f=s.data,p=a.attrs,y=[];let b=null,C=null;for(let I=a.directiveStart;I<d;I++){const S=f[I],O=S.inputs,B=null===p||Kw(a)?null:oh(O,p);y.push(B),b=hC(O,I,b),C=hC(S.outputs,I,C)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=b,a.outputs=C}(s,c)}y&&function BS(s,a,c){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new De(-301,!1);d.push(a[f],p)}}}(c,d,y)}return c.mergedAttrs=Di(c.mergedAttrs,c.attrs),f}function pC(s,a,c,d,f,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~a.index;(function LS(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(b)!=C&&b.push(C),b.push(d,f,y)}}function rh(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function _C(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function VS(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;nr(a)&&(c[""]=s)}}function yC(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function ky(s,a,c,d,f){s.data[d]=f;const p=f.factory||(f.factory=mr(f.type)),y=new Ko(p,nr(f),null);s.blueprint[d]=y,c[d]=y,pC(s,a,0,d,nh(s,c,f.hostVars,tt),f)}function Oy(s,a,c){const d=Ei(a,s),f=rm(c),p=s[10],y=um(s,nm(s,f,null,c.onPush?64:16,d,a,p,p.createRenderer(d,c),null,null));s[a.index]=y}function _s(s,a,c,d,f,p){const y=Ei(s,a);!function sh(s,a,c,d,f,p,y){if(null==p)an(s)?s.removeAttribute(a,f,c):a.removeAttribute(f);else{const b=null==y?re(p):y(p,d||"",f);an(s)?s.setAttribute(a,f,b,c):c?a.setAttributeNS(c,f,b):a.setAttribute(f,b)}}(a[11],y,p,s.value,c,d,f)}function vC(s,a,c,d,f,p){const y=p[a];if(null!==y){const b=d.setInput;for(let C=0;C<y.length;){const I=y[C++],S=y[C++],O=y[C++];null!==b?d.setInput(c,O,I,S):c[S]=O}}}function oh(s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function lm(s,a,c,d){return new Array(s,!0,!1,a,null,0,d,c,null,null)}function Ry(s,a){const c=Ti(a,s);if(Rs(c)){const d=c[1];80&c[2]?Dl(d,c,d.template,c[8]):c[5]>0&&cm(c)}}function cm(s){for(let d=Qn(s);null!==d;d=qp(d))for(let f=10;f<d.length;f++){const p=d[f];if(1024&p[2]){const y=p[1];Dl(y,p,y.template,p[8])}else p[5]>0&&cm(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Ti(c[d],s);Rs(f)&&f[5]>0&&cm(f)}}function wC(s,a){const c=Ti(a,s),d=c[1];(function Py(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(d,c),im(d,c,c[8])}function um(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Ny(s){for(;s;){s[2]|=64;const a=Gd(s);if(id(s)&&!a)return s;s=a}return null}function ah(s,a,c){const d=a[10];d.begin&&d.begin();try{Dl(s,a,s.template,c)}catch(f){throw DC(a,f),f}finally{d.end&&d.end()}}function dm(s){!function Zc(s){for(let a=0;a<s.components.length;a++){const c=s.components[a],d=zd(c),f=d[1];kS(f,d,f.template,c)}}(s[8])}function Ly(s,a,c){_d(0),a(s,c)}const hm=(()=>Promise.resolve(null))();function EC(s){return s[7]||(s[7]=[])}function TC(s){return s.cleanup||(s.cleanup=[])}function DC(s,a){const c=s[9],d=c?c.get(Fc,null):null;d&&d.handleError(a)}function SC(s,a,c,d,f){for(let p=0;p<c.length;){const y=c[p++],b=c[p++],C=a[y],I=s.data[y];null!==I.setInput?I.setInput(C,f,d,b):C[b]=f}}function So(s,a,c){const d=Ya(a,s);!function Bw(s,a,c){an(s)?s.setValue(a,c):a.textContent=c}(s[11],d,c)}function fm(s,a,c){let d=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const b=a[y];"number"==typeof b?p=b:1==p?f=Se(f,b):2==p&&(d=Se(d,b+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}const Yc=new pn("INJECTOR",-1);class By{get(a,c=mo){if(c===mo){const d=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw d.name="NullInjectorError",d}return c}}const pm=new pn("Set Injector scope."),Sl={},GS={};let Vy;function AC(){return void 0===Vy&&(Vy=new By),Vy}function Uy(s,a=null,c=null,d){const f=jy(s,a,c,d);return f._resolveInjectorDefTypes(),f}function jy(s,a=null,c=null,d){return new MC(s,c,a||AC(),d)}class MC{constructor(a,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&rr(c,b=>this.processProvider(b,a,c)),rr([a],b=>this.processInjectorType(b,[],p)),this.records.set(Yc,lh(void 0,this));const y=this.records.get(pm);this.scope=null!=y?y.value:null,this.source=f||("object"==typeof a?null:pe(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=mo,d=lt.Default){this.assertNotDestroyed();const f=Md(this),p=qt(void 0);try{if(!(d&lt.SkipSelf)){let b=this.records.get(a);if(void 0===b){const C=function $y(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(a)&&un(a);b=C&&this.injectableDefInScope(C)?lh(mm(a),Sl):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(d&lt.Self?AC():this.parent).get(a,c=d&lt.Optional&&c===mo?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[la]=y[la]||[]).unshift(pe(a)),f)throw y;return function Od(s,a,c,d){const f=s[la];throw a[Ad]&&f.unshift(a[Ad]),s.message=function dl(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let f=pe(a);if(Array.isArray(a))f=a.map(pe).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let b=a[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):pe(b)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Np,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[la]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{qt(p),Md(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(pe(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processInjectorType(a,c,d){if(!(a=Y(a)))return!1;let f=ns(a);const p=null==f&&a.ngModule||void 0,y=void 0===p?a:p,b=-1!==d.indexOf(y);if(void 0!==p&&(f=ns(p)),null==f)return!1;if(null!=f.imports&&!b){let S;d.push(y);try{rr(f.imports,O=>{this.processInjectorType(O,c,d)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:B,providers:Z}=S[O];rr(Z,de=>this.processProvider(de,B,Z||L))}}this.injectorDefTypes.add(y);const C=mr(y)||(()=>new y);this.records.set(y,lh(C,Sl));const I=f.providers;if(null!=I&&!b){const S=a;rr(I,O=>this.processProvider(O,S,I))}return void 0!==p&&void 0!==a.providers}processProvider(a,c,d){let f=Kc(a=Y(a))?a:Y(a&&a.provide);const p=function N1(s,a,c){return qS(s)?lh(void 0,s.useValue):lh(kC(s),Sl)}(a);if(Kc(a)||!0!==a.multi)this.records.get(f);else{let y=this.records.get(f);y||(y=lh(void 0,Sl,!0),y.factory=()=>kd(y.multi),this.records.set(f,y)),f=a,y.multi.push(a)}this.records.set(f,p)}hydrate(a,c){return c.value===Sl&&(c.value=GS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function RC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Y(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function mm(s){const a=un(s),c=null!==a?a.factory:mr(s);if(null!==c)return c;if(s instanceof pn)throw new De(204,!1);if(s instanceof Function)return function xC(s){const a=s.length;if(a>0)throw fs(a,"?"),new De(204,!1);const c=function ts(s){const a=s&&(s[dr]||s[Xi]);if(a){const c=function vn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new De(204,!1)}function kC(s,a,c){let d;if(Kc(s)){const f=Y(s);return mr(f)||mm(f)}if(qS(s))d=()=>Y(s.useValue);else if(function F1(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...kd(s.deps||[]));else if(function Hy(s){return!(!s||!s.useExisting)}(s))d=()=>Kn(Y(s.useExisting));else{const f=Y(s&&(s.useClass||s.provide));if(!function WS(s){return!!s.deps}(s))return mr(f)||mm(f);d=()=>new f(...kd(s.deps))}return d}function lh(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function qS(s){return null!==s&&"object"==typeof s&&fw in s}function Kc(s){return"function"==typeof s}let or=(()=>{class s{static create(c,d){var f;if(Array.isArray(c))return Uy({name:""},d,c,"");{const p=null!==(f=c.name)&&void 0!==f?f:"";return Uy({name:p},c.parent,c.providers,p)}}}return s.THROW_IF_NOT_FOUND=mo,s.NULL=new By,s.\u0275prov=Gt({token:s,providedIn:"any",factory:()=>Kn(Yc)}),s.__NG_ELEMENT_ID__=-1,s})();function eA(s,a){tl(zd(s)[1],wn())}function qy(s){let a=function HC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let f;if(nr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new De(903,"");f=a.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=$C(s.inputs),y.declaredInputs=$C(s.declaredInputs),y.outputs=$C(s.outputs);const b=f.hostBindings;b&&z1(s,b);const C=f.viewQuery,I=f.contentQueries;if(C&&H1(s,C),I&&$1(s,I),ce(s.inputs,f.inputs),ce(s.declaredInputs,f.declaredInputs),ce(s.outputs,f.outputs),nr(f)&&f.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===qy&&(c=!1)}}a=Object.getPrototypeOf(a)}!function tA(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Di(f.hostAttrs,c=Di(c,f.hostAttrs))}}(d)}function $C(s){return s===Qt?{}:s===L?[]:s}function H1(s,a){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function $1(s,a){const c=s.contentQueries;s.contentQueries=c?(d,f,p)=>{a(d,f,p),c(d,f,p)}:a}function z1(s,a){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let Wy=null;function uh(){if(!Wy){const s=kt.Symbol;if(s&&s.iterator)Wy=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Wy=d)}}}return Wy}function ym(s){return!!zC(s)&&(Array.isArray(s)||!(s instanceof Map)&&uh()in s)}function zC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ao(s,a,c){return s[a]=c}function ar(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Qc(s,a,c,d){const f=ar(s,a,c);return ar(s,a+1,d)||f}function GC(s,a,c,d){const f=Ce();return ar(f,Ps(),a)&&(Nt(),_s(fn(),f,s,a,c,d)),GC}function hh(s,a,c,d){return ar(s,Ps(),c)?a+re(c)+d:tt}function ph(s,a,c,d,f,p,y,b){const I=function Zy(s,a,c,d,f){const p=Qc(s,a,c,d);return ar(s,a+2,f)||p}(s,xr(),c,f,y);return ls(3),I?a+re(c)+d+re(f)+p+re(y)+b:tt}function hA(s,a,c,d,f,p,y,b){const C=Ce(),I=Nt(),S=s+20,O=I.firstCreatePass?function Y1(s,a,c,d,f,p,y,b,C){const I=a.consts,S=qc(a,s,4,y||null,Mr(I,b));xy(a,c,S,Mr(I,C)),tl(a,S);const O=S.tViews=sm(2,S,d,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,S),O.queries=a.queries.embeddedTView(S)),S}(S,I,C,a,c,d,f,p,y):I.data[S];ir(O,!1);const B=C[11].createComment("");Wd(I,C,B,O),di(B,C),um(C,C[S]=lm(B,C,B,O)),za(O)&&Pr(I,C,O),null!=y&&Wc(C,O,b)}function fA(s){return as(function hp(){return ut.lFrame.contextLView}(),20+s)}function Mo(s,a=lt.Default){const c=Ce();return null===c?Kn(s,a):_c(wn(),c,Y(s),a)}function Fr(){throw new Error("invalid")}function Xy(s,a,c){const d=Ce();return ar(d,Ps(),a)&&vr(Nt(),fn(),d,s,a,d[11],c,!1),Xy}function ev(s,a,c,d,f){const y=f?"class":"style";SC(s,c,a.inputs[y],y,d)}function Cm(s,a,c,d){const f=Ce(),p=Nt(),y=20+s,b=f[11],C=f[y]=uy(b,a,function KD(){return ut.lFrame.currentNamespace}()),I=p.firstCreatePass?function wA(s,a,c,d,f,p,y){const b=a.consts,I=qc(a,s,2,f,Mr(b,p));return xy(a,c,I,Mr(b,y)),null!==I.attrs&&fm(I,I.attrs,!1),null!==I.mergedAttrs&&fm(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,p,f,0,a,c,d):p.data[y];ir(I,!0);const S=I.mergedAttrs;null!==S&&il(b,C,S);const O=I.classes;null!==O&&Yd(b,C,O);const B=I.styles;return null!==B&&qw(b,C,B),64!=(64&I.flags)&&Wd(p,f,C,I),0===function Qa(){return ut.lFrame.elementDepthCount}()&&di(C,f),function cp(){ut.lFrame.elementDepthCount++}(),za(I)&&(Pr(p,f,I),Jn(p,I,f)),null!==d&&Wc(f,I),Cm}function Ch(){let s=wn();hd()?fd():(s=s.parent,ir(s,!1));const a=s;!function cd(){ut.lFrame.elementDepthCount--}();const c=Nt();return c.firstCreatePass&&(tl(c,s),nd(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function vp(s){return 0!=(16&s.flags)}(a)&&ev(c,a,Ce(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function uw(s){return 0!=(32&s.flags)}(a)&&ev(c,a,Ce(),a.stylesWithoutHost,!1),Ch}function tv(s,a,c,d){return Cm(s,a,c,d),Ch(),tv}function Xc(s,a,c){const d=Ce(),f=Nt(),p=s+20,y=f.firstCreatePass?function CA(s,a,c,d,f){const p=a.consts,y=Mr(p,d),b=qc(a,s,8,"ng-container",y);return null!==y&&fm(b,y,!0),xy(a,c,b,Mr(p,f)),null!==a.queries&&a.queries.elementStart(a,b),b}(p,f,d,a,c):f.data[p];ir(y,!0);const b=d[p]=d[11].createComment("");return Wd(f,d,b,y),di(b,d),za(y)&&(Pr(f,d,y),Jn(f,y,d)),null!=c&&Wc(d,y),Xc}function Eh(){let s=wn();const a=Nt();return hd()?fd():(s=s.parent,ir(s,!1)),a.firstCreatePass&&(tl(a,s),nd(s)&&a.queries.elementEnd(s)),Eh}function nv(s,a,c){return Xc(s,a,c),Eh(),nv}function Th(){return Ce()}function iv(s){return!!s&&"function"==typeof s.then}function rv(s){return!!s&&"function"==typeof s.subscribe}const eu=rv;function tu(s,a,c,d){const f=Ce(),p=Nt(),y=wn();return function Ih(s,a,c,d,f,p,y,b){const C=za(d),S=s.firstCreatePass&&TC(s),O=a[8],B=EC(a);let Z=!0;if(3&d.type||b){const Fe=Ei(d,a),Ke=b?b(Fe):Fe,be=B.length,ct=b?gt=>b(nn(gt[d.index])):d.index;if(an(c)){let gt=null;if(!b&&C&&(gt=function Em(s,a,c,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const b=a[7],C=f[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(s,a,f,d.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=p,gt.__ngLastListenerFn__=p,Z=!1;else{p=Tm(d,a,O,p,!1);const en=c.listen(Ke,f,p);B.push(p,en),S&&S.push(f,ct,be,be+1)}}else p=Tm(d,a,O,p,!0),Ke.addEventListener(f,p,y),B.push(p),S&&S.push(f,ct,be,y)}else p=Tm(d,a,O,p,!1);const de=d.outputs;let ke;if(Z&&null!==de&&(ke=de[f])){const Fe=ke.length;if(Fe)for(let Ke=0;Ke<Fe;Ke+=2){const wr=a[ke[Ke]][ke[Ke+1]].subscribe(p),_t=B.length;B.push(p,wr),S&&S.push(f,d.index,_t,-(_t+1))}}}(p,f,f[11],y,s,a,!!c,d),tu}function Hs(s,a,c,d){try{return!1!==c(d)}catch(f){return DC(s,f),!1}}function Tm(s,a,c,d,f){return function p(y){if(y===Function)return d;const b=2&s.flags?Ti(s.index,a):a;0==(32&a[2])&&Ny(b);let C=Hs(a,0,d,y),I=p.__ngNextListenerFn__;for(;I;)C=Hs(a,0,I,y)&&C,I=I.__ngNextListenerFn__;return f&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function XC(s=1){return function Ns(s){return(ut.lFrame.contextLView=function M_(s,a){for(;s>0;)a=a[15],s--;return a}(s,ut.lFrame.contextLView))[8]}(s)}function $i(s,a){let c=null;const d=function C1(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(s);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===d?Xp(s,p,!0):I1(d,p))return f}else c=f}return c}function eE(s){const a=Ce()[16][6];if(!a.projection){const d=a.projection=fs(s?s.length:1,null),f=d.slice();let p=a.child;for(;null!==p;){const y=s?$i(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function nu(s,a=0,c){const d=Ce(),f=Nt(),p=qc(f,20+s,16,null,c||null);null===p.projection&&(p.projection=a),fd(),64!=(64&p.flags)&&function vS(s,a,c){Gw(a[11],0,a,c,Zp(s,c,a),$w(c.parent||a[6],c,a))}(f,d,p)}function Yr(s,a,c){return Dh(s,"",a,"",c),Yr}function Dh(s,a,c,d,f){const p=Ce(),y=hh(p,a,c,d);return y!==tt&&vr(Nt(),fn(),p,s,y,p[11],f,!1),Dh}function rE(s,a,c,d,f){const p=s[c+1],y=null===a;let b=d?gs(p):Io(p),C=!1;for(;0!==b&&(!1===C||y);){const S=s[b+1];sE(s[b],a)&&(C=!0,s[b+1]=d?pa(S):jc(S)),b=d?gs(S):Io(S)}C&&(s[c+1]=d?jc(p):pa(p))}function sE(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&aa(s,a)>=0}function Dm(s,a,c){return Cs(s,a,c,!1),Dm}function Sm(s,a){return Cs(s,a,null,!0),Sm}function Cs(s,a,c,d){const f=Ce(),p=Nt(),y=ls(2);p.firstUpdatePass&&function cv(s,a,c,d){const f=s.data;if(null===f[c+1]){const p=f[Ii()],y=function lv(s,a){return a>=s.expandoStartIndex}(s,c);(function uv(s,a){return 0!=(s.flags&(a?16:32))})(p,d)&&null===a&&!y&&(a=!1),a=function AA(s,a,c,d){const f=function pc(s){const a=ut.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=_a(c=Am(null,s,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(c=Am(f,s,a,c,d),null===p){let C=function fE(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Io(d))return s[gs(d)]}(s,a,d);void 0!==C&&Array.isArray(C)&&(C=Am(null,s,a,C[1],d),C=_a(C,a.attrs,d),function MA(s,a,c,d){s[gs(c?a.classBindings:a.styleBindings)]=d}(s,a,d,C))}else p=function pE(s,a,c){let d;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)d=_a(d,s[p].hostAttrs,c);return _a(d,a.attrs,c)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,d),function EA(s,a,c,d,f,p){let y=p?a.classBindings:a.styleBindings,b=gs(y),C=Io(y);s[d]=c;let S,I=!1;if(Array.isArray(c)){const O=c;S=O[1],(null===S||aa(O,S)>0)&&(I=!0)}else S=c;if(f)if(0!==C){const B=gs(s[b+1]);s[d+1]=Tl(B,b),0!==B&&(s[B+1]=by(s[B+1],d)),s[b+1]=function Qd(s,a){return 131071&s|a<<17}(s[b+1],d)}else s[d+1]=Tl(b,0),0!==b&&(s[b+1]=by(s[b+1],d)),b=d;else s[d+1]=Tl(C,0),0===b?b=d:s[C+1]=by(s[C+1],d),C=d;I&&(s[d+1]=jc(s[d+1])),rE(s,S,d,!0),rE(s,S,d,!1),function TA(s,a,c,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&aa(p,a)>=0&&(c[d+1]=pa(c[d+1]))}(a,S,s,d,p),y=Tl(b,C),p?a.classBindings=y:a.styleBindings=y}(f,p,a,c,y,d)}}(p,s,y,d),a!==tt&&ar(f,y,a)&&function mE(s,a,c,d,f,p,y,b){if(!(3&a.type))return;const C=s.data,I=C[b+1];Mm(function ES(s){return 1==(1&s)}(I)?ya(C,a,c,f,Io(I),y):void 0)||(Mm(p)||function em(s){return 2==(2&s)}(I)&&(p=ya(C,null,c,f,b,y)),function _y(s,a,c,d,f){const p=an(s);if(a)f?p?s.addClass(c,d):c.classList.add(d):p?s.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Eo.DashCase;if(null==f)p?s.removeStyle(c,d,y):c.style.removeProperty(d);else{const b="string"==typeof f&&f.endsWith("!important");b&&(f=f.slice(0,-10),y|=Eo.Important),p?s.setStyle(c,d,f,y):c.style.setProperty(d,f,b?"important":"")}}}(d,y,Ya(Ii(),c),f,p))}(p,p.data[Ii()],f,f[11],s,f[y+1]=function gE(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=pe(Or(s)))),s}(a,c),d,y)}function Am(s,a,c,d,f){let p=null;const y=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<y&&(p=a[b],d=_a(d,p.hostAttrs,f),p!==s);)b++;return null!==s&&(c.directiveStylingLast=b),d}function _a(s,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Yn(s,y,!!c||a[++p]))}return void 0===s?null:s}function ya(s,a,c,d,f,p){const y=null===a;let b;for(;f>0;){const C=s[f],I=Array.isArray(C),S=I?C[1]:C,O=null===S;let B=c[f+1];B===tt&&(B=O?L:void 0);let Z=O?oa(B,d):S===d?B:void 0;if(I&&!Mm(Z)&&(Z=oa(C,d)),Mm(Z)&&(b=Z,y))return b;const de=s[f+1];f=y?gs(de):Io(de)}if(null!==a){let C=p?a.residualClasses:a.residualStyles;null!=C&&(b=oa(C,d))}return b}function Mm(s){return void 0!==s}function _E(s,a=""){const c=Ce(),d=Nt(),f=s+20,p=d.firstCreatePass?qc(d,f,1,a,null):d.data[f],y=c[f]=function qd(s,a){return an(s)?s.createText(a):s.createTextNode(a)}(c[11],a);Wd(d,c,y,p),ir(p,!1)}function ru(s){return va("",s,""),ru}function va(s,a,c){const d=Ce(),f=hh(d,s,a,c);return f!==tt&&So(d,Ii(),f),va}function xm(s,a,c,d,f){const p=Ce(),y=function fh(s,a,c,d,f,p){const b=Qc(s,xr(),c,f);return ls(2),b?a+re(c)+d+re(f)+p:tt}(p,s,a,c,d,f);return y!==tt&&So(p,Ii(),y),xm}function su(s,a,c,d,f,p,y){const b=Ce(),C=ph(b,s,a,c,d,f,p,y);return C!==tt&&So(b,Ii(),C),su}function _v(s,a,c){const d=Ce();return ar(d,Ps(),a)&&vr(Nt(),fn(),d,s,a,d[11],c,!0),_v}const kl=void 0;var xh=["en",[["a","p"],["AM","PM"],kl],[["AM","PM"],kl,kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kl,"{1} 'at' {0}",kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fm(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ba={};function Lm(s){const a=function AE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=SE(a);if(c)return c;const d=a.split("-")[0];if(c=SE(d),c)return c;if("en"===d)return xh;throw new Error(`Missing locale data for the locale "${s}".`)}function Bm(s){return Lm(s)[dt.PluralCase]}function SE(s){return s in ba||(ba[s]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[s]),ba[s]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const cu="en-US";let ME=cu;function Av(s,a,c,d,f){if(s=Y(s),Array.isArray(s))for(let p=0;p<s.length;p++)Av(s[p],a,c,d,f);else{const p=Nt(),y=Ce();let b=Kc(s)?s:Y(s.provide),C=kC(s);const I=wn(),S=1048575&I.providerIndexes,O=I.directiveStart,B=I.providerIndexes>>20;if(Kc(s)||!s.multi){const Z=new Ko(C,f,Mo),de=xv(b,a,f?S:S+B,O);-1===de?(Jo(li(I,y),p,b),Bh(p,s,a.length),a.push(b),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(Z),y.push(Z)):(c[de]=Z,y[de]=Z)}else{const Z=xv(b,a,S+B,O),de=xv(b,a,S,S+B),ke=Z>=0&&c[Z],Fe=de>=0&&c[de];if(f&&!Fe||!f&&!ke){Jo(li(I,y),p,b);const Ke=function sT(s,a,c,d,f){const p=new Ko(s,c,Mo);return p.multi=[],p.index=a,p.componentProviders=0,Mv(p,f,d&&!c),p}(f?hM:dM,c.length,f,d,C);!f&&Fe&&(c[de].providerFactory=Ke),Bh(p,s,a.length,0),a.push(b),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(Ke),y.push(Ke)}else Bh(p,s,Z>-1?Z:de,Mv(c[f?de:Z],C,!f&&d));!f&&d&&Fe&&c[de].componentProviders++}}}function Bh(s,a,c,d){const f=Kc(a),p=function OC(s){return!!s.useClass}(a);if(f||p){const C=(p?Y(a.useClass):a).prototype.ngOnDestroy;if(C){const I=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const S=I.indexOf(c);-1===S?I.push(c,[d,C]):I[S+1].push(d,C)}else I.push(c,C)}}}function Mv(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function xv(s,a,c,d){for(let f=c;f<d;f++)if(a[f]===s)return f;return-1}function dM(s,a,c,d){return kv(this.multi,[])}function hM(s,a,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=ea(c,c[1],this.providerFactory.index,d);p=b.slice(0,y),kv(f,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],kv(f,p);return p}function kv(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function oT(s,a=[]){return c=>{c.providersResolver=(d,f)=>function uM(s,a,c){const d=Nt();if(d.firstCreatePass){const f=nr(s);Av(c,d.data,d.blueprint,f,!0),Av(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class hi{}class Wm{resolveComponentFactory(a){throw function pM(s){const a=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Ro=(()=>{class s{}return s.NULL=new Wm,s})();function mM(){return uu(wn(),Ce())}function uu(s,a){return new du(Ei(s,a))}let du=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=mM,s})();function gM(s){return s instanceof du?s.nativeElement:s}class Pv{}let Nv=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Rl(){const s=Ce(),c=Ti(wn().index,s);return function uP(s){return s[11]}(Vi(c)?c:s)}(),s})(),aT=(()=>{class s{}return s.\u0275prov=Gt({token:s,providedIn:"root",factory:()=>null}),s})();class lT{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const cT=new lT("13.3.6"),Zm={};function Ym(s,a,c,d,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(nn(p)),wi(p))for(let b=10;b<p.length;b++){const C=p[b],I=C[1].firstChild;null!==I&&Ym(C[1],C,I,d)}const y=c.type;if(8&y)Ym(s,a,c.child,d);else if(32&y){const b=Bc(c,a);let C;for(;C=b();)d.push(C)}else if(16&y){const b=gy(a,c);if(Array.isArray(b))d.push(...b);else{const C=Gd(a[16]);Ym(C[1],C,b,d,!0)}}c=f?c.projectionNext:c.next}return d}class Vh{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Ym(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(wi(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Wp(a,d),Tc(c,d))}this._attachedToViewContainer=!1}Uw(this._lView[1],this._lView)}onDestroy(a){dC(this._lView[1],this._lView,null,a)}markForCheck(){Ny(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ah(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Fy(s,a,c){Zo(!0);try{ah(s,a,c)}finally{Zo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new De(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pS(s,a){Jp(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new De(902,"");this._appRef=a}}class yM extends Vh{constructor(a){super(a),this._view=a}detectChanges(){dm(this._view)}checkNoChanges(){!function CC(s){Zo(!0);try{dm(s)}finally{Zo(!1)}}(this._view)}get context(){return null}}class Fv extends Ro{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=nt(a);return new Uh(c,this.ngModule)}}function uT(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class Uh extends hi{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Xw(s){return s.map(Jw).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return uT(this.componentDef.inputs)}get outputs(){return uT(this.componentDef.outputs)}create(a,c,d,f){const p=(f=f||this.ngModule)?function bM(s,a){return{get:(c,d,f)=>{const p=s.get(c,Zm,f);return p!==Zm||d===Zm?p:a.get(c,d,f)}}}(a,f.injector):a,y=p.get(Pv,uc),b=p.get(aT,null),C=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=d?function uC(s,a,c){if(an(s))return s.selectRootElement(a,c===xt.ShadowDom);let d="string"==typeof a?s.querySelector(a):a;return d.textContent="",d}(C,d,this.componentDef.encapsulation):uy(y.createRenderer(null,this.componentDef),I,function vM(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(I)),O=this.componentDef.onPush?576:528,B=function jC(s,a){return{components:[],scheduler:s||lS,clean:hm,playerHandler:a||null,flags:0}}(),Z=sm(0,null,null,1,0,null,null,null,null,null),de=nm(null,Z,B,O,null,null,y,C,b,p);let ke,Fe;Yo(de);try{const Ke=function VC(s,a,c,d,f,p){const y=c[1];c[20]=s;const C=qc(y,20,2,"#host",null),I=C.mergedAttrs=a.hostAttrs;null!==I&&(fm(C,I,!0),null!==s&&(il(f,s,I),null!==C.classes&&Yd(f,s,C.classes),null!==C.styles&&qw(f,s,C.styles)));const S=d.createRenderer(s,a),O=nm(c,rm(a),null,a.onPush?64:16,c[20],C,d,S,p||null,null);return y.firstCreatePass&&(Jo(li(C,c),y,a.type),_C(y,C),yC(C,c.length,1)),um(c,O),c[20]=O}(S,this.componentDef,de,y,C);if(S)if(d)il(C,S,["ng-version",cT.full]);else{const{attrs:be,classes:ct}=function CS(s){const a=[],c=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&a.push(p,s[++d]):8===f&&c.push(p);else{if(!ms(f))break;f=p}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);be&&il(C,S,be),ct&&ct.length>0&&Yd(C,S,ct.join(" "))}if(Fe=Ka(Z,20),void 0!==c){const be=Fe.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const gt=c[ct];be.push(null!=gt?Array.from(gt):null)}}ke=function UC(s,a,c,d,f){const p=c[1],y=function FS(s,a,c){const d=wn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),ky(s,d,a,nh(s,a,1,null),c));const f=ea(a,s,d.directiveStart,d);di(f,a);const p=Ei(d,a);return p&&di(p,a),f}(p,c,a);if(d.components.push(y),s[8]=y,f&&f.forEach(C=>C(y,a)),a.contentQueries){const C=wn();a.contentQueries(1,y,C.directiveStart)}const b=wn();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(cs(b.index),pC(c[1],b,0,b.directiveStart,b.directiveEnd,a),rh(a,y)),y}(Ke,this.componentDef,de,B,[eA]),im(Z,de,null)}finally{el()}return new dT(this.componentType,ke,uu(Fe,de),de,Fe)}}class dT extends class fM{}{constructor(a,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new yM(f),this.componentType=a}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class jh{}class hT{}const br=new Map;class fT extends jh{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fv(this);const d=Rt(a);this._bootstrapComponents=Wr(d.bootstrap),this._r3Injector=jy(a,c,[{provide:jh,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],pe(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=or.THROW_IF_NOT_FOUND,d=lt.Default){return a===or||a===jh||a===Yc?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Hh extends hT{constructor(a){super(),this.moduleType=a,null!==Rt(a)&&function wt(s){const a=new Set;!function c(d){const f=Rt(d,!0),p=f.id;null!==p&&(function Km(s,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${s} - ${pe(a)} vs ${pe(a.name)}`)}(p,br.get(p),d),br.set(p,d));const y=Wr(f.imports);for(const b of y)a.has(b)||(a.add(b),c(b))}(s)}(a)}create(a){return new fT(this.moduleType,a)}}function pT(s,a,c,d){return _T(Ce(),ai(),s,a,c,d)}function mT(s,a,c,d,f){return function Bv(s,a,c,d,f,p,y){const b=a+c;return Qc(s,b,f,p)?Ao(s,b+2,y?d.call(y,f,p):d(f,p)):hu(s,b+2)}(Ce(),ai(),s,a,c,d,f)}function hu(s,a){const c=s[a];return c===tt?void 0:c}function _T(s,a,c,d,f,p){const y=a+c;return ar(s,y,f)?Ao(s,y+1,p?d.call(p,f):d(f)):hu(s,y+1)}function Gi(s,a){const c=Nt();let d;const f=s+20;c.firstCreatePass?(d=function Uv(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const p=d.factory||(d.factory=mr(d.type)),y=qt(Mo);try{const b=rl(!1),C=p();return rl(b),function K1(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,Ce(),f,C),C}finally{qt(y)}}function qi(s,a,c){const d=s+20,f=Ce(),p=as(f,d);return function fu(s,a){return s[1].data[a].pure}(f,d)?_T(f,ai(),a,p.transform,c,p):p.transform(c)}function zh(s){return a=>{setTimeout(s,void 0,a)}}const Gs=class wT extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var f,p,y;let b=a,C=c||(()=>null),I=d;if(a&&"object"==typeof a){const O=a;b=null===(f=O.next)||void 0===f?void 0:f.bind(O),C=null===(p=O.error)||void 0===p?void 0:p.bind(O),I=null===(y=O.complete)||void 0===y?void 0:y.bind(O)}this.__isAsync&&(C=zh(C),b&&(b=zh(b)),I&&(I=zh(I)));const S=super.subscribe({next:b,error:C,complete:I});return a instanceof F.w0&&a.add(S),S}};function DM(){return this._results[uh()]()}class Po{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=uh(),d=Po.prototype;d[c]||(d[c]=DM)}get changes(){return this._changes||(this._changes=new Gs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=ji(a);(this._changesDetected=!function P_(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=a[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pu=(()=>{class s{}return s.__NG_ELEMENT_ID__=SM,s})();const Hv=pu,CT=class extends Hv{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=nm(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),im(c,d,a),new Vh(d)}};function SM(){return Gh(wn(),Ce())}function Gh(s,a){return 4&s.type?new CT(a,s,uu(s,a)):null}let Pl=(()=>{class s{}return s.__NG_ELEMENT_ID__=$v,s})();function $v(){return ng(wn(),Ce())}const zv=Pl,tg=class extends zv{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const a=Fs(this._hostTNode,this._hostLView);if(kr(a)){const c=lo(a,this._hostLView),d=ao(a);return new Ls(c[1].data[d+8],c)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=ET(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const f=a.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(a,c,d,f,p){const y=a&&!function fo(s){return"function"==typeof s}(a);let b;if(y)b=c;else{const O=c||{};b=O.index,d=O.injector,f=O.projectableNodes,p=O.ngModuleRef}const C=y?a:new Uh(nt(a)),I=d||this.parentInjector;if(!p&&null==C.ngModule){const B=(y?I:this.parentInjector).get(jh,null);B&&(p=B)}const S=C.create(I,f,void 0,p);return this.insert(S.hostView,b),S}insert(a,c){const d=a._lView,f=d[1];if(function lp(s){return wi(s[3])}(d)){const S=this.indexOf(a);if(-1!==S)this.detach(S);else{const O=d[3],B=new tg(O,O[6],O[3]);B.detach(B.indexOf(a))}}const p=this._adjustIndex(c),y=this._lContainer;!function mS(s,a,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=a),d<p-10?(a[4]=c[f],sa(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function gS(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(y,a);const b=a[19];null!==b&&b.insertView(s),a[2]|=128}(f,d,y,p);const b=Qp(p,y),C=d[11],I=Yp(C,y[7]);return null!==I&&function fS(s,a,c,d,f,p){d[0]=f,d[6]=a,Jp(s,d,c,1,f,p)}(f,y[6],C,d,I,b),a.attachToViewContainerRef(),sa(Gv(y),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=ET(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Wp(this._lContainer,c);d&&(Tc(Gv(this._lContainer),c),Uw(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=Wp(this._lContainer,c);return d&&null!=Tc(Gv(this._lContainer),c)?new Vh(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function ET(s){return s[8]}function Gv(s){return s[8]||(s[8]=[])}function ng(s,a){let c;const d=a[s.index];if(wi(d))c=d;else{let f;if(8&s.type)f=nn(d);else{const p=a[11];f=p.createComment("");const y=Ei(s,a);To(p,Yp(p,y),f,function py(s,a){return an(s)?s.nextSibling(a):a.nextSibling}(p,y),!1)}a[s.index]=c=lm(d,a,f,s),um(a,c)}return new tg(c,s,a)}class fi{constructor(a){this.queryList=a,this.matches=null}clone(){return new fi(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nl{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new Nl(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==MT(a,c).matches&&this.queries[c].setDirty()}}class IT{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Fl{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Fl(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class qv{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new qv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(a,c,MM(c,p)),this.matchTNodeWithReadOption(a,c,yc(c,a,p,!1,!1))}else d===pu?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,yc(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===du||f===Pl||f===pu&&4&c.type)this.addMatch(c.index,-2);else{const p=yc(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function MM(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function rg(s,a,c,d){return-1===c?function ig(s,a){return 11&s.type?uu(s,a):4&s.type?Gh(s,a):null}(a,s):-2===c?function Wv(s,a,c){return c===du?uu(a,s):c===pu?Gh(a,s):c===Pl?ng(a,s):void 0}(s,a,d):ea(s,s[1],c,a)}function sg(s,a,c,d){const f=a[19].queries[d];if(null===f.matches){const p=s.data,y=c.matches,b=[];for(let C=0;C<y.length;C+=2){const I=y[C];b.push(I<0?null:rg(a,p[I],y[C+1],c.metadata.read))}f.matches=b}return f.matches}function qh(s,a,c,d){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=sg(s,a,f,c);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)d.push(y[b/2]);else{const I=p[b+1],S=a[-C];for(let O=10;O<S.length;O++){const B=S[O];B[17]===B[3]&&qh(B[1],B,I,d)}if(null!==S[9]){const O=S[9];for(let B=0;B<O.length;B++){const Z=O[B];qh(Z[1],Z,I,d)}}}}}return d}function og(s){const a=Ce(),c=Nt(),d=gd();_d(d+1);const f=MT(c,d);if(s.dirty&&zo(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?qh(c,a,d,[]):sg(c,a,f,d);s.reset(p,gM),s.notifyOnChanges()}return!0}return!1}function Zv(s,a,c){const d=Nt();d.firstCreatePass&&(ag(d,new IT(s,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Kv(d,Ce(),a)}function Yv(s,a,c,d){const f=Nt();if(f.firstCreatePass){const p=wn();ag(f,new IT(a,c,d),p.index),function AT(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}Kv(f,Ce(),c)}function DT(){return function ST(s,a){return s[19].queries[a].queryList}(Ce(),gd())}function Kv(s,a,c){const d=new Po(4==(4&c));dC(s,a,d,d.destroy),null===a[19]&&(a[19]=new Nl),a[19].queries.push(new fi(d))}function ag(s,a,c){null===s.queries&&(s.queries=new Fl),s.queries.track(new qv(a,c))}function MT(s,a){return s.queries.getByIndex(a)}function lg(s,a){return Gh(s,a)}function yu(...s){}const _g=new pn("Application Initializer");let yg=(()=>{class s{constructor(c){this.appInits=c,this.resolve=yu,this.reject=yu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(iv(p))c.push(p);else if(eu(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Kn(_g,8))},s.\u0275prov=Gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const db=new pn("AppId",{providedIn:"root",factory:function hb(){return`${Vl()}${Vl()}${Vl()}`}});function Vl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fb=new pn("Platform Initializer"),vg=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vu=new pn("appBootstrapListener");let pb=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Kh=new pn("LocaleId",{providedIn:"root",factory:()=>xd(Kh,lt.Optional|lt.SkipSelf)||function LM(){return"undefined"!=typeof $localize&&$localize.locale||cu}()}),wu=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class VM{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let Ul=(()=>{class s{compileModuleSync(c){return new Hh(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Wr(Rt(c).declarations).reduce((y,b)=>{const C=nt(b);return C&&y.push(new Uh(C)),y},[]);return new VM(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bg=(()=>Promise.resolve(0))();function Eu(s){"undefined"==typeof Zone?bg.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class jt{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function HT(){let s=kt.requestAnimationFrame,a=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Qh(s){const a=()=>{!function UM(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,jl(s),s.isCheckStableRunning=!0,gb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),jl(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,b)=>{try{return $T(s),c.invokeTask(f,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),_b(s)}},onInvoke:(c,d,f,p,y,b,C)=>{try{return $T(s),c.invoke(f,p,y,b,C)}finally{s.shouldCoalesceRunChangeDetection&&a(),_b(s)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,jl(s),gb(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,wg,yu,yu);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const wg={};function gb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function jl(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $T(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function _b(s){s._nesting--,gb(s)}class jM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}let zT=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jt.assertNotInAngularZone(),Eu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eu(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Kn(jt))},s.\u0275prov=Gt({token:s,factory:s.\u0275fac}),s})(),HM=(()=>{class s{constructor(){this._applications=new Map,qs.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return qs.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class $M{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function Jh(s){qs=s}let qs=new $M,Da=null;const yb=new pn("AllowMultipleToken"),vb=new pn("PlatformOnDestroy");class GT{constructor(a,c){this.name=a,this.token=c}}function bb(s,a,c=[]){const d=`Platform: ${a}`,f=new pn(d);return(p=[])=>{let y=Cg();if(!y||y.injector.get(yb,!1)){const b=[...c,...p,{provide:f,useValue:!0}];s?s(b):function GM(s){if(Da&&!Da.get(yb,!1))throw new De(400,"");Da=s;const a=s.get(Cb),c=s.get(fb,null);c&&c.forEach(d=>d())}(function wb(s=[],a){return or.create({name:a,providers:[{provide:pm,useValue:"platform"},{provide:vb,useValue:()=>Da=null},...s]})}(b,d))}return function qT(s){const a=Cg();if(!a)throw new De(401,"");return a}()}}function Cg(){var s;return null!==(s=null==Da?void 0:Da.get(Cb))&&void 0!==s?s:null}let Cb=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const b=function Eb(s,a){let c;return c="noop"===s?new jM:("zone.js"===s?void 0:s)||new jt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:jt,useValue:b}];return b.run(()=>{const I=or.create({providers:C,parent:this.injector,name:c.moduleType.name}),S=c.create(I),O=S.injector.get(Fc,null);if(!O)throw new De(402,"");return b.runOutsideAngular(()=>{const B=b.onError.subscribe({next:Z=>{O.handleError(Z)}});S.onDestroy(()=>{Iu(this._modules,S),B.unsubscribe()})}),function qM(s,a,c){try{const d=c();return iv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(O,b,()=>{const B=S.injector.get(yg);return B.runInitializers(),B.donePromise.then(()=>(function yv(s){Ft(s,"Expected localeId to be defined"),"string"==typeof s&&(ME=s.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Kh,cu)||cu),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,d=[]){const f=ZT({},d);return function Tu(s,a,c){const d=new Hh(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(Tb);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new De(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(vb,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Kn(or))},s.\u0275prov=Gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ZT(s,a){return Array.isArray(a)?a.reduce(ZT,s):Object.assign(Object.assign({},s),a)}let Tb=(()=>{class s{constructor(c,d,f,p){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new P.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{jt.assertNotInAngularZone(),Eu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{jt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,oe.T)(y,b.pipe((0,ye.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new De(405,"");let f;f=c instanceof hi?c:this._injector.get(Ro).resolveComponentFactory(c),this.componentTypes.push(f.componentType);const p=function zM(s){return s.isBoundToModule}(f)?void 0:this._injector.get(jh),b=f.create(or.NULL,[],d||f.selector,p),C=b.location.nativeElement,I=b.injector.get(zT,null),S=I&&b.injector.get(HM);return I&&S&&S.registerApplication(C,I),b.onDestroy(()=>{this.detachView(b.hostView),Iu(this.components,b),S&&S.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new De(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Iu(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(Kn(jt),Kn(or),Kn(Fc),Kn(yg))},s.\u0275prov=Gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Iu(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let Tg=!0,Ib=!1;function Xh(){return Ib=!0,Tg}function ef(){if(Ib)throw new Error("Cannot enable prod mode after platform setup.");Tg=!1}let WM=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZM,s})();function ZM(s){return function YM(s,a,c){if($a(s)&&!c){const d=Ti(s.index,a);return new Vh(d,d)}return 47&s.type?new Vh(a[16],a):null}(wn(),Ce(),16==(16&s))}class Ag{constructor(){}supports(a){return ym(a)}create(a){return new JT(a)}}const Mb=(s,a)=>a;class JT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Mb}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<Sa(d,f,p)?c:d,b=Sa(y,f,p),C=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const I=b-f,S=C-f;if(I!=S){for(let B=0;B<I;B++){const Z=B<p.length?p[B]:p[B]=0,de=Z+B;S<=de&&de<I&&(p[B]=Z+1)}p[y.previousIndex]=S-I}}b!==C&&a(y,b,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!ym(a))throw new De(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)p=a[b],y=this._trackByFn(b,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,b)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,b),d=!0),c=c._next}else f=0,function Z1(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[uh()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,b=>{y=this._trackByFn(f,b),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,b,y,f)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new Mg(c,d),p,f),a}_verifyReinsertion(a,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new xb),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Mg{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class xb{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new XT,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sa(s,a,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class kb{constructor(){}supports(a){return a instanceof Map||zC(a)}create(){return new eI}}class eI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||zC(a)))throw new De(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new tI(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class tI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ob(){return new Mu([new Ag])}let Mu=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Ob()),deps:[[s,new fl,new ua]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new De(901,"")}}return s.\u0275prov=Gt({token:s,providedIn:"root",factory:Ob}),s})();function Rb(){return new xg([new kb])}let xg=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Rb()),deps:[[s,new fl,new ua]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new De(901,"")}}return s.\u0275prov=Gt({token:s,providedIn:"root",factory:Rb}),s})();const rx=bb(null,"core",[]);let sx=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Kn(Tb))},s.\u0275mod=ne({type:s}),s.\u0275inj=Ut({}),s})()},3942:(Ye,ge,R)=>{R.d(ge,{Z:()=>De});var l=R(2090),F=R(4859),P=R(9681),oe=R(1877);class ye{constructor(re,ve){this._delegate=re,this.firebase=ve,(0,P._addComponent)(re,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(re,ve=P._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(re);return!We.isInitialized()&&"EXPLICIT"===(null===(qe=We.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&We.initialize(),We.getImmediate({identifier:ve})}_removeServiceInstance(re,ve=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(ve)}_addComponent(re){(0,P._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,P._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function Se(){const Ge=function pe(Ge){const re={},ve={__esModule:!0,initializeApp:function Me(ee,se={}){const me=P.initializeApp(ee,se);if((0,l.r3)(re,me.name))return re[me.name];const W=new Ge(me,ve);return re[me.name]=W,W},app:We,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function fe(ee){const se=ee.name,me=se.replace("-compat","");if(P._registerComponent(ee)&&"PUBLIC"===ee.type){const W=(X=We())=>{if("function"!=typeof X[me])throw ce.create("invalid-app-argument",{appName:se});return X[me]()};void 0!==ee.serviceProps&&(0,l.ZB)(W,ee.serviceProps),ve[me]=W,Ge.prototype[me]=function(...X){return this._getService.bind(this,se).apply(this,ee.multipleInstances?X:[])}}return"PUBLIC"===ee.type?ve[me]:null},removeApp:function qe(ee){delete re[ee]},useAsService:function Pe(ee,se){return"serverAuth"===se?null:se},modularAPIs:P}};function We(ee){if(!(0,l.r3)(re,ee=ee||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:ee});return re[ee]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Te(){return Object.keys(re).map(ee=>re[ee])}}),We.App=Ge,ve}(ye);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function re(ve){(0,l.ZB)(Ge,ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ge}(),j=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=$;!function xe(Ge){(0,P.registerVersion)("@firebase/app-compat","0.1.25",Ge)}()},9681:(Ye,ge,R)=>{R.r(ge),R.d(ge,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>dr,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>yn,_addOrOverwriteComponent:()=>Gt,_apps:()=>Kt,_clearComponents:()=>zr,_components:()=>ri,_getProvider:()=>Ut,_registerComponent:()=>At,_removeServiceInstance:()=>un,deleteApp:()=>lt,getApp:()=>Xi,getApps:()=>Ms,initializeApp:()=>Ir,onLog:()=>qt,registerVersion:()=>dn,setLogLevel:()=>er});var l=R(5861),F=R(4859),P=R(1877),oe=R(2090),ye=R(8766);class we{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(Ie=>{if(function ce(V){const K=V.getComponent();return"VERSION"===(null==K?void 0:K.type)}(Ie)){const $e=Ie.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(Ie=>Ie).join(" ")}}const pe="@firebase/app",$=new P.Yd("@firebase/app"),Ft="[DEFAULT]",Be={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,ri=new Map;function yn(V,K){try{V.container.addComponent(K)}catch(Ie){$.debug(`Component ${K.name} failed to register with FirebaseApp ${V.name}`,Ie)}}function Gt(V,K){V.container.addOrOverwriteComponent(K)}function At(V){const K=V.name;if(ri.has(K))return $.debug(`There were multiple attempts to register component ${K}.`),!1;ri.set(K,V);for(const Ie of Kt.values())yn(Ie,V);return!0}function Ut(V,K){const Ie=V.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),V.container.getProvider(K)}function un(V,K,Ie=Ft){Ut(V,K).clearInstance(Ie)}function zr(){ri.clear()}const vn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ns{constructor(K,Ie,$e){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=$e,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const dr="9.8.1";function Ir(V,K={}){"object"!=typeof K&&(K={name:K});const Ie=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},K),$e=Ie.name;if("string"!=typeof $e||!$e)throw vn.create("bad-app-name",{appName:String($e)});const at=Kt.get($e);if(at){if((0,oe.vZ)(V,at.options)&&(0,oe.vZ)(Ie,at.config))return at;throw vn.create("duplicate-app",{appName:$e})}const Et=new F.H0($e);for(const pt of ri.values())Et.addComponent(pt);const Zt=new ns(V,Ie,Et);return Kt.set($e,Zt),Zt}function Xi(V=Ft){const K=Kt.get(V);if(!K)throw vn.create("no-app",{appName:V});return K}function Ms(){return Array.from(Kt.values())}function lt(V){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(V){const K=V.name;Kt.has(K)&&(Kt.delete(K),yield Promise.all(V.container.getProviders().map(Ie=>Ie.delete())),V.isDeleted=!0)})).apply(this,arguments)}function dn(V,K,Ie){var $e;let at=null!==($e=Be[V])&&void 0!==$e?$e:V;Ie&&(at+=`-${Ie}`);const Et=at.match(/\s|\//),Zt=K.match(/\s|\//);if(Et||Zt){const pt=[`Unable to register library "${at}" with version "${K}":`];return Et&&pt.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Et&&Zt&&pt.push("and"),Zt&&pt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void $.warn(pt.join(" "))}At(new F.wA(`${at}-version`,()=>({library:at,version:K}),"VERSION"))}function qt(V,K){if(null!==V&&"function"!=typeof V)throw vn.create("invalid-log-argument");(0,P.Am)(V,K)}function er(V){(0,P.Ub)(V)}const bn="firebase-heartbeat-store";let bi=null;function xs(){return bi||(bi=(0,ye.X3)("firebase-heartbeat-database",1,{upgrade:(V,K)=>{0===K&&V.createObjectStore(bn)}}).catch(V=>{throw vn.create("storage-open",{originalErrorMessage:V.message})})),bi}function rt(){return(rt=(0,l.Z)(function*(V){try{return(yield xs()).transaction(bn).objectStore(bn).get(Gr(V))}catch(K){throw vn.create("storage-get",{originalErrorMessage:K.message})}})).apply(this,arguments)}function Je(V,K){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(V,K){try{const $e=(yield xs()).transaction(bn,"readwrite");return yield $e.objectStore(bn).put(K,Gr(V)),$e.done}catch(Ie){throw vn.create("storage-set",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function Gr(V){return`${V.name}!${V.options.appId}`}class Tn{constructor(K){this.container=K,this._heartbeatsCache=null;const Ie=this.container.getProvider("app").getImmediate();this._storage=new U(Ie),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var K=this;return(0,l.Z)(function*(){const $e=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=Qt();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==at&&!K._heartbeatsCache.heartbeats.some(Et=>Et.date===at))return K._heartbeatsCache.heartbeats.push({date:at,agent:$e}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(Et=>{const Zt=new Date(Et.date).valueOf();return Date.now()-Zt<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,l.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const Ie=Qt(),{heartbeatsToSend:$e,unsentEntries:at}=function L(V,K=1024){const Ie=[];let $e=V.slice();for(const at of V){const Et=Ie.find(Zt=>Zt.agent===at.agent);if(Et){if(Et.dates.push(at.date),z(Ie)>K){Et.dates.pop();break}}else if(Ie.push({agent:at.agent,dates:[at.date]}),z(Ie)>K){Ie.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:Ie,unsentEntries:$e}}(K._heartbeatsCache.heartbeats),Et=(0,oe.L)(JSON.stringify({version:2,heartbeats:$e}));return K._heartbeatsCache.lastSentHeartbeatDate=Ie,at.length>0?(K._heartbeatsCache.heartbeats=at,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),Et})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class U{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,l.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function xt(V){return rt.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var Ie=this;return(0,l.Z)(function*(){var $e;if(yield Ie._canUseIndexedDBPromise){const Et=yield Ie.read();return Je(Ie.app,{lastSentHeartbeatDate:null!==($e=K.lastSentHeartbeatDate)&&void 0!==$e?$e:Et.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var Ie=this;return(0,l.Z)(function*(){var $e;if(yield Ie._canUseIndexedDBPromise){const Et=yield Ie.read();return Je(Ie.app,{lastSentHeartbeatDate:null!==($e=K.lastSentHeartbeatDate)&&void 0!==$e?$e:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...K.heartbeats]})}})()}}function z(V){return(0,oe.L)(JSON.stringify({version:2,heartbeats:V})).length}!function ue(V){At(new F.wA("platform-logger",K=>new we(K),"PRIVATE")),At(new F.wA("heartbeat",K=>new Tn(K),"PRIVATE")),dn(pe,"0.7.24",V),dn(pe,"0.7.24","esm2017"),dn("fire-js","")}("")},4859:(Ye,ge,R)=>{R.d(ge,{H0:()=>pe,wA:()=>P});var l=R(5861),F=R(2090);class P{constructor($,j,Y){this.name=$,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const oe="[DEFAULT]";class ye{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const Y=new F.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:j});Ne&&Y.resolve(Ne)}catch(Ne){}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const Y=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ne=null!==(j=null==$?void 0:$.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(xe){if(Ne)return null;throw xe}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ce(Se){return"EAGER"===Se.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(j){}for(const[j,Y]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:Ne});Y.resolve(xe)}catch(xe){}}}}clearInstance($=oe){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=oe){return this.instances.has($)}getOptions($=oe){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,Y=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[xe,De]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(xe)&&De.resolve(Ne);return Ne}onInit($,j){var Y;const Ne=this.normalizeInstanceIdentifier(j),xe=null!==(Y=this.onInitCallbacks.get(Ne))&&void 0!==Y?Y:new Set;xe.add($),this.onInitCallbacks.set(Ne,xe);const De=this.instances.get(Ne);return De&&$(De,Ne),()=>{xe.delete($)}}invokeOnInitCallbacks($,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Ne of Y)try{Ne($,j)}catch(xe){}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let Y=this.instances.get($);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=$,Se===oe?void 0:Se),options:j}),this.instances.set($,Y),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(Y,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Y)}catch(Ne){}var Se;return Y||null}normalizeInstanceIdentifier($=oe){return this.component?this.component.multipleInstances?$:oe:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new ye($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Ye,ge,R)=>{R.d(ge,{Am:()=>Se,Ub:()=>pe,Yd:()=>ce,in:()=>F});const l=[];var F=(()=>{return($=F||(F={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",F;var $})();const P={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},oe=F.INFO,ye={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},we=($,j,...Y)=>{if(j<$.logLevel)return;const Ne=(new Date).toISOString(),xe=ye[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${Ne}]  ${$.name}:`,...Y)};class ce{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=we,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in F))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...j),this._logHandler(this,F.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...j),this._logHandler(this,F.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,F.INFO,...j),this._logHandler(this,F.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,F.WARN,...j),this._logHandler(this,F.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...j),this._logHandler(this,F.ERROR,...j)}}function pe($){l.forEach(j=>{j.setLogLevel($)})}function Se($,j){for(const Y of l){let Ne=null;j&&j.level&&(Ne=P[j.level]),Y.userLogHandler=null===$?null:(xe,De,...Ge)=>{const re=Ge.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(qe){return null}}).filter(ve=>ve).join(" ");De>=(null!=Ne?Ne:xe.logLevel)&&$({level:F[De].toLowerCase(),message:re,args:Ge,type:xe.name})}}}},8766:(Ye,ge,R)=>{R.d(ge,{Lj:()=>Me,X3:()=>We});var l=R(5861);let P,oe;const ce=new WeakMap,pe=new WeakMap,Se=new WeakMap,$=new WeakMap,j=new WeakMap;let xe={get(se,me,W){if(se instanceof IDBTransaction){if("done"===me)return pe.get(se);if("objectStoreNames"===me)return se.objectStoreNames||Se.get(se);if("store"===me)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ve(se[me])},set:(se,me,W)=>(se[me]=W,!0),has:(se,me)=>se instanceof IDBTransaction&&("done"===me||"store"===me)||me in se};function re(se){return"function"==typeof se?function Ge(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...me){return se.apply(qe(this),me),ve(ce.get(this))}:function(...me){return ve(se.apply(qe(this),me))}:function(me,...W){const X=se.call(qe(this),me,...W);return Se.set(X,me.sort?me.sort():[me]),ve(X)}}(se):(se instanceof IDBTransaction&&function Ne(se){if(pe.has(se))return;const me=new Promise((W,X)=>{const te=()=>{se.removeEventListener("complete",le),se.removeEventListener("error",ie),se.removeEventListener("abort",ie)},le=()=>{W(),te()},ie=()=>{X(se.error||new DOMException("AbortError","AbortError")),te()};se.addEventListener("complete",le),se.addEventListener("error",ie),se.addEventListener("abort",ie)});pe.set(se,me)}(se),((se,me)=>me.some(W=>se instanceof W))(se,function ye(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,xe):se)}function ve(se){if(se instanceof IDBRequest)return function Y(se){const me=new Promise((W,X)=>{const te=()=>{se.removeEventListener("success",le),se.removeEventListener("error",ie)},le=()=>{W(ve(se.result)),te()},ie=()=>{X(se.error),te()};se.addEventListener("success",le),se.addEventListener("error",ie)});return me.then(W=>{W instanceof IDBCursor&&ce.set(W,se)}).catch(()=>{}),j.set(me,se),me}(se);if($.has(se))return $.get(se);const me=re(se);return me!==se&&($.set(se,me),j.set(me,se)),me}const qe=se=>j.get(se);function We(se,me,{blocked:W,upgrade:X,blocking:te,terminated:le}={}){const ie=indexedDB.open(se,me),Ae=ve(ie);return X&&ie.addEventListener("upgradeneeded",ot=>{X(ve(ie.result),ot.oldVersion,ot.newVersion,ve(ie.transaction))}),W&&ie.addEventListener("blocked",()=>W()),Ae.then(ot=>{le&&ot.addEventListener("close",()=>le()),te&&ot.addEventListener("versionchange",()=>te())}).catch(()=>{}),Ae}function Me(se,{blocked:me}={}){const W=indexedDB.deleteDatabase(se);return me&&W.addEventListener("blocked",()=>me()),ve(W).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],Pe=new Map;function ee(se,me){if(!(se instanceof IDBDatabase)||me in se||"string"!=typeof me)return;if(Pe.get(me))return Pe.get(me);const W=me.replace(/FromIndex$/,""),X=me!==W,te=fe.includes(W);if(!(W in(X?IDBIndex:IDBObjectStore).prototype)||!te&&!Te.includes(W))return;const le=function(){var ie=(0,l.Z)(function*(Ae,...ot){const Vt=this.transaction(Ae,te?"readwrite":"readonly");let Ft=Vt.store;return X&&(Ft=Ft.index(ot.shift())),(yield Promise.all([Ft[W](...ot),te&&Vt.done]))[0]});return function(ot){return ie.apply(this,arguments)}}();return Pe.set(me,le),le}!function De(se){xe=se(xe)}(se=>bj(vj({},se),{get:(me,W,X)=>ee(me,W)||se.get(me,W,X),has:(me,W)=>!!ee(me,W)||se.has(me,W)}))},5861:(Ye,ge,R)=>{function l(P,oe,ye,we,ce,pe,Se){try{var $=P[pe](Se),j=$.value}catch(Y){return void ye(Y)}$.done?oe(j):Promise.resolve(j).then(we,ce)}function F(P){return function(){var oe=this,ye=arguments;return new Promise(function(we,ce){var pe=P.apply(oe,ye);function Se(j){l(pe,we,ce,Se,$,"next",j)}function $(j){l(pe,we,ce,Se,$,"throw",j)}Se(void 0)})}}R.d(ge,{Z:()=>F})}},Ye=>{Ye(Ye.s=9976)}]);